import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";import{o as p,c as l,a as n,b as t,d as s,h as e,r as i}from"./app.c80e5150.js";const c={},r={href:"https://www.yuque.com/atguigu/springboot",target:"_blank",rel:"noopener noreferrer"},u=s("SpringBoot2 \u6838\u5FC3\u6280\u672F\u4E0E\u54CD\u5E94\u5F0F\u7F16\u7A0B"),d=e('<h1 id="\u4E00\u3001\u4E86\u89E3-springboot" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001\u4E86\u89E3-springboot" aria-hidden="true">#</a> \u4E00\u3001\u4E86\u89E3 SpringBoot</h1><h2 id="_1\u3001\u4E3A\u4EC0\u4E48\u8981\u7528-springboot" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u4E3A\u4EC0\u4E48\u8981\u7528-springboot" aria-hidden="true">#</a> 1\u3001\u4E3A\u4EC0\u4E48\u8981\u7528 SpringBoot</h2><blockquote><p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can &quot;just run&quot;.</p><p>\u80FD\u5FEB\u901F\u521B\u5EFA\u51FA\u751F\u4EA7\u7EA7\u522B\u7684 Spring \u5E94\u7528\u3002</p></blockquote><h2 id="_2\u3001springboot-\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#_2\u3001springboot-\u4F18\u70B9" aria-hidden="true">#</a> 2\u3001SpringBoot \u4F18\u70B9</h2><ul><li><p>Create stand-alone Spring applications</p><p>\u521B\u5EFA\u72EC\u7ACB Spring \u5E94\u7528</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p><p>\u5185\u5D4C Web \u670D\u52A1\u5668\uFF08\u9ED8\u8BA4\u4F7F\u7528 Tomcat\uFF09</p></li><li><p>Provide opinionated &#39;starter&#39; dependencies to simplify your build configuration</p><p>\u81EA\u52A8starter\u4F9D\u8D56\uFF0C\u7B80\u5316\u6784\u5EFA\u914D\u7F6E</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p><p>\u81EA\u52A8\u914D\u7F6E Spring \u4EE5\u53CA\u7B2C\u4E09\u65B9\u529F\u80FD</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p><p>\u63D0\u4F9B\u751F\u4EA7\u7EA7\u522B\u7684\u76D1\u63A7\u3001\u5065\u5EB7\u68C0\u67E5\u53CA\u5916\u90E8\u5316\u914D\u7F6E</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p><p>\u65E0\u4EE3\u7801\u751F\u6210\u3001\u65E0\u9700\u7F16\u5199 XML</p></li></ul><blockquote><p>SpringBoot \u662F\u6574\u5408 Spring \u6280\u672F\u6808\u7684\u4E00\u7AD9\u5F0F\u6846\u67B6\u3002</p><p>SpringBoot \u662F\u7B80\u5316 Spring \u6280\u672F\u6808\u7684\u5FEB\u901F\u5F00\u53D1\u811A\u624B\u67B6\u3002</p></blockquote><h2 id="_3\u3001springboot-\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#_3\u3001springboot-\u7F3A\u70B9" aria-hidden="true">#</a> 3\u3001SpringBoot \u7F3A\u70B9</h2><ul><li>\u8FED\u4EE3\u5FEB\uFF0C\u9700\u8981\u65F6\u523B\u5173\u6CE8\u7248\u672C\u53D8\u5316\u3002</li><li>\u5C01\u88C5\u592A\u6DF1\uFF0C\u5185\u90E8\u539F\u7406\u590D\u6742\uFF0C\u4E0D\u5BB9\u6613\u7CBE\u901A\u3002</li></ul><h2 id="_4\u3001\u5FAE\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5FAE\u670D\u52A1" aria-hidden="true">#</a> 4\u3001\u5FAE\u670D\u52A1</h2>',9),k={href:"https://martinfowler.com/articles/microservices.html",target:"_blank",rel:"noopener noreferrer"},v=s("James Lewis and Martin Fowler (2014)"),g=s(" \u63D0\u51FA"),m={href:"https://martinfowler.com/microservices/",target:"_blank",rel:"noopener noreferrer"},b=s("\u5FAE\u670D\u52A1"),h=s("\u5B8C\u6574\u6982\u5FF5\u3002"),q=e("In short, the <strong>microservice architectural style</strong> is an approach to developing a single application as a <strong>suite of small services</strong>, each <strong>running in its own process</strong> and communicating with <strong>lightweight</strong> mechanisms, often an <strong>HTTP</strong> resource API. These services are <strong>built around business capabilities</strong> and <strong>independently deployable</strong> by fully <strong>automated deployment</strong> machinery. There is a <strong>bare minimum of centralized management</strong> of these services, which may be <strong>written in different programming languages</strong> and use different data storage technologies.-- ",21),f={href:"https://martinfowler.com/articles/microservices.html",target:"_blank",rel:"noopener noreferrer"},_=s("James Lewis and Martin Fowler (2014)"),y=e('<ul><li>\u5FAE\u670D\u52A1\u662F\u4E00\u79CD<strong>\u67B6\u6784\u98CE\u683C</strong></li><li>\u4E00\u4E2A\u5E94\u7528\u62C6\u5206\u4E3A<strong>\u4E00\u7EC4\u5C0F\u578B\u670D\u52A1</strong></li><li>\u6BCF\u4E2A\u670D\u52A1\u8FD0\u884C\u5728\u81EA\u5DF1\u7684\u8FDB\u7A0B\u5185\uFF0C\u4E5F\u5C31\u662F\u53EF<strong>\u72EC\u7ACB\u90E8\u7F72\u548C\u5347\u7EA7</strong></li><li>\u670D\u52A1\u4E4B\u95F4\u4F7F\u7528\u8F7B\u91CF\u7EA7 <strong>HTTP \u4EA4\u4E92</strong></li><li>\u670D\u52A1\u56F4\u7ED5\u4E1A\u52A1\u529F\u80FD<strong>\u62C6\u5206</strong></li><li>\u53EF\u4EE5\u7531<strong>\u5168\u81EA\u52A8\u90E8\u7F72</strong>\u673A\u5236\u72EC\u7ACB\u90E8\u7F72</li><li><strong>\u53BB\u4E2D\u5FC3\u5316</strong>\uFF0C<strong>\u670D\u52A1\u81EA\u6CBB</strong>\u3002\u670D\u52A1\u53EF\u4EE5\u4F7F\u7528<strong>\u4E0D\u540C\u7684\u8BED\u8A00</strong>\u3001<strong>\u4E0D\u540C\u7684\u5B58\u50A8\u6280\u672F</strong></li></ul><h2 id="_5\u3001\u5206\u5E03\u5F0F" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u5206\u5E03\u5F0F" aria-hidden="true">#</a> 5\u3001\u5206\u5E03\u5F0F</h2><h3 id="\u5206\u5E03\u5F0F\u7684\u56F0\u96BE" tabindex="-1"><a class="header-anchor" href="#\u5206\u5E03\u5F0F\u7684\u56F0\u96BE" aria-hidden="true">#</a> \u5206\u5E03\u5F0F\u7684\u56F0\u96BE</h3><ul><li>\u914D\u7F6E\u7BA1\u7406</li><li>\u670D\u52A1\u53D1\u73B0</li><li>\u8FDC\u7A0B\u8C03\u7528</li><li>\u8D1F\u8F7D\u5747\u8861</li><li>\u670D\u52A1\u5BB9\u9519</li><li>\u670D\u52A1\u76D1\u63A7</li><li>\u94FE\u8DEF\u8FFD\u8E2A</li><li>\u65E5\u5FD7\u7BA1\u7406</li><li>\u4EFB\u52A1\u8C03\u5EA6</li><li>......</li></ul><h3 id="\u5206\u5E03\u5F0F\u7684\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u5206\u5E03\u5F0F\u7684\u89E3\u51B3" aria-hidden="true">#</a> \u5206\u5E03\u5F0F\u7684\u89E3\u51B3</h3><ul><li>SpringBoot + SpringCloud</li></ul><h2 id="_6\u3001\u4E91\u539F\u751F-cloud-native" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u4E91\u539F\u751F-cloud-native" aria-hidden="true">#</a> 6\u3001\u4E91\u539F\u751F\uFF08Cloud Native\uFF09</h2><p>\u539F\u751F\u5E94\u7528\u5982\u4F55\u4E0A\u4E91\u3002</p><h3 id="\u4E0A\u4E91\u7684\u56F0\u96BE" tabindex="-1"><a class="header-anchor" href="#\u4E0A\u4E91\u7684\u56F0\u96BE" aria-hidden="true">#</a> \u4E0A\u4E91\u7684\u56F0\u96BE</h3><ul><li>\u670D\u52A1\u81EA\u6108</li><li>\u5F39\u6027\u4F38\u7F29</li><li>\u670D\u52A1\u9694\u79BB</li><li>\u81EA\u52A8\u5316\u90E8\u7F72</li><li>\u7070\u5EA6\u53D1\u5E03</li><li>\u6D41\u91CF\u6CBB\u7406</li><li>......</li></ul><h3 id="\u4E0A\u4E91\u7684\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u4E0A\u4E91\u7684\u89E3\u51B3" aria-hidden="true">#</a> \u4E0A\u4E91\u7684\u89E3\u51B3</h3><ul><li><strong>Docker</strong> \u5BB9\u5668\u5316\u6280\u672F</li><li><strong>Kubernetes</strong> \u5BB9\u5668\u7F16\u6392\uFF0C\u7B80\u79F0 k8s</li><li><strong>DevOps</strong>\uFF0C\u4F01\u4E1A <strong>CI/CD</strong>\uFF0C\u6784\u5EFA\u4F01\u4E1A\u4E91\u5E73\u53F0</li><li>\u62E5\u62B1\u65B0\u4E00\u4EE3\u67B6\u6784 <strong>Service Mesh</strong> \u4E0E <strong>Serverless</strong></li></ul><h1 id="\u4E8C\u3001\u57FA\u7840\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001\u57FA\u7840\u5165\u95E8" aria-hidden="true">#</a> \u4E8C\u3001\u57FA\u7840\u5165\u95E8</h1><h2 id="_1\u3001\u73AF\u5883\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u73AF\u5883\u51C6\u5907" aria-hidden="true">#</a> 1\u3001\u73AF\u5883\u51C6\u5907</h2>',14),x=s("\u53C2\u7167"),C={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started-installing-the-cli",target:"_blank",rel:"noopener noreferrer"},S=s("\u5B98\u65B9\u5E2E\u52A9\u6587\u6863"),w=s("\u914D\u7F6E\uFF1A"),M={href:"https://www.oracle.com/cn/java/technologies/javase/javase-jdk8-downloads.html",target:"_blank",rel:"noopener noreferrer"},F=s("Java 8"),A=s(" \u53CA\u4EE5\u4E0A\u3002"),R={href:"https://maven.apache.org/download.cgi",target:"_blank",rel:"noopener noreferrer"},P=s("Maven 3.3+"),j=s("\uFF1A\u9879\u76EE\u7BA1\u7406\u5DE5\u5177\uFF0C\u53EF\u4EE5\u5BF9 Java \u9879\u76EE\u8FDB\u884C\u6784\u5EFA\u3001\u4F9D\u8D56\u7BA1\u7406\u3002"),E={href:"https://www.jetbrains.com.cn/idea/download/",target:"_blank",rel:"noopener noreferrer"},T=s("IntellIJ IDEA"),J=s("\uFF1A\u9879\u76EE\u5F00\u53D1\u5DE5\u5177\u3002"),I=e(`<h3 id="_1-1-maven-\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-1-maven-\u8BBE\u7F6E" aria-hidden="true">#</a> 1.1 Maven \u8BBE\u7F6E</h3><p>\u7ED9 Maven \u7684 <strong>settings.xml</strong> \u4E2D\u6DFB\u52A0\u9ED8\u8BA4 <strong>JDK</strong> \u7248\u672C\u3001\u9ED8\u8BA4 **UTF-**8 \u7F16\u7801\u4EE5\u53CA\u963F\u91CC\u4E91\u7684\u955C\u50CF\u6E90\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>JDK1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u7F16\u8BD1\u7F16\u7801--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
	 <span class="token comment">&lt;!-- \u963F\u91CC\u4E91\u4ED3\u5E93 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>alimaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-idea-\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-2-idea-\u8BBE\u7F6E" aria-hidden="true">#</a> 1.2 IDEA \u8BBE\u7F6E</h3><p>\u5C06 Maven \u6574\u5408\u8FDB\u6765\uFF0CIDEA \u4E2D <strong>\u8BBE\u7F6E</strong> \u548C <strong>\u65B0\u9879\u76EE\u8BBE\u7F6E</strong> \u4E2D\u7684 Maven \u90FD\u8981\u8BBE\u5B9A\u3002</p><p><img src="https://qiniu.dyl.fit/maven\u8BBE\u7F6E.png" alt="Maven \u8BBE\u7F6E"></p><h2 id="_2\u3001helloworld" tabindex="-1"><a class="header-anchor" href="#_2\u3001helloworld" aria-hidden="true">#</a> 2\u3001HelloWorld</h2><p>\u529F\u80FD\uFF1A\u6D4F\u89C8\u5668\u53D1\u9001<code>/hello</code>\u8BF7\u6C42\uFF0C\u670D\u52A1\u5668\u63A5\u53D7\u8BF7\u6C42\u5E76\u5904\u7406\uFF0C\u54CD\u5E94 <strong>Hello World</strong> \u5B57\u7B26\u4E32\u3002</p><h3 id="_2-1-\u521B\u5EFA\u4E00\u4E2A-maven-\u5DE5\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-1-\u521B\u5EFA\u4E00\u4E2A-maven-\u5DE5\u7A0B" aria-hidden="true">#</a> 2.1 \u521B\u5EFA\u4E00\u4E2A Maven \u5DE5\u7A0B</h3><p>\u65B0\u5EFA\u4E00\u4E2A\u540D\u4E3A <strong>spring-boot-01-helloworld</strong> \u7684 Maven \u5DE5\u7A0B\u3002</p><h3 id="_2-2-\u5BFC\u5165-springboot-\u76F8\u5173\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-2-\u5BFC\u5165-springboot-\u76F8\u5173\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.2 \u5BFC\u5165 SpringBoot \u76F8\u5173\u7684\u4F9D\u8D56</h3><p><strong>pom.xml</strong> \u4E2D\u52A0\u5165 SpringBoot \u4F9D\u8D56\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Web \u5E94\u7528\u5F00\u53D1\u573A\u666F --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-\u7F16\u5199\u4E3B\u7A0B\u5E8F-mainapplication" tabindex="-1"><a class="header-anchor" href="#_2-3-\u7F16\u5199\u4E3B\u7A0B\u5E8F-mainapplication" aria-hidden="true">#</a> 2.3 \u7F16\u5199\u4E3B\u7A0B\u5E8F MainApplication</h3><p><strong>src\\main\\java</strong> \u4E0B\u65B0\u5EFA\u4E00\u4E2A com.xxx.<code>HelloWorldMainApplication</code>\u7C7B\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 *  SpringBootApplication \u6807\u6CE8\u4E00\u4E2A\u4E3B\u7A0B\u5E8F\u7C7B\uFF0C\u8BF4\u660E\u8FD9\u662F\u4E00\u4E2ASpringBoot\u5E94\u7528
 */
@SpringBootApplication
public class HelloWorldMainApplication {
    public static void main(String[] args) {
        // \u542F\u52A8Spring\u5E94\u7528
        SpringApplication.run(HelloWorldMainApplication.class,args);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-\u7F16\u5199-controller\u3001service" tabindex="-1"><a class="header-anchor" href="#_2-4-\u7F16\u5199-controller\u3001service" aria-hidden="true">#</a> 2.4 \u7F16\u5199 Controller\u3001Service</h3><p><strong>src\\main\\java</strong> \u4E0B\u65B0\u5EFA\u4E00\u4E2A <code>controller.HelloController</code> \u7C7B\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Controller // \u4F5C\u4E3A\u63A7\u5236\u5668\u7EC4\u4EF6\u6CE8\u518C\u5230\u5BB9\u5668\u4E2D
public class HelloController {
    @ResponseBody // \u8FD4\u56DE\u7ED3\u679C\uFF08json\u6216xml\uFF09\u76F4\u63A5\u5199\u5165 HTTP response body \u4E2D\uFF0C\u4E00\u822C\u5728Ajax\u5F02\u6B65\u83B7\u53D6\u6570\u636E\u65F6\u4F7F\u7528
    @RequestMapping(&quot;/hello&quot;) // \u6620\u5C04/hello\u8BF7\u6C42\uFF0C\u5373\u8BE5\u65B9\u6CD5\u5904\u7406/hello\u8BF7\u6C42
    public String hello(){
        return &quot;Hello World!&quot;;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-\u8FD0\u884C\u4E3B\u7A0B\u5E8F\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_2-5-\u8FD0\u884C\u4E3B\u7A0B\u5E8F\u6D4B\u8BD5" aria-hidden="true">#</a> 2.5 \u8FD0\u884C\u4E3B\u7A0B\u5E8F\u6D4B\u8BD5</h3><p><code>Ctrl+F5</code> \u8FD0\u884C <code>HelloWorldMainApplication</code>\u3002</p><h3 id="_2-6-\u7B80\u5316\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#_2-6-\u7B80\u5316\u90E8\u7F72" aria-hidden="true">#</a> 2.6 \u7B80\u5316\u90E8\u7F72</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- Maven \u63D2\u4EF6\uFF0C\u53EF\u4EE5\u5C06\u5E94\u7528\u6253\u5305\u6210\u4E00\u4E2A\u53EF\u6267\u884C\u7684 jar \u5305 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- \u6253\u5305\u65F6\u8DF3\u8FC7\u6D4B\u8BD5 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skipTests</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skipTests</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5C06\u8FD9\u4E2A\u5E94\u7528\u6253\u6210 jar \u5305\uFF0C\u76F4\u63A5\u4F7F\u7528<code>java -jar</code>\u7684\u547D\u4EE4\u8FDB\u884C\u6267\u884C\u3002</p><blockquote><p>\u6CE8\u610F\uFF1Aspring-boot-maven-plugin \u62A5\u7EA2\u7684\u89E3\u51B3\u529E\u6CD5\uFF1A\u6307\u5B9A\u5177\u4F53\u7684\u7248\u672C\uFF0C\u5982\u679C\u4F9D\u65E7\u4E0D\u884C\uFF0C\u628A\u672C\u5730 maven \u4ED3\u5E93\u4E2D\u7684 spring-boot-maven-plugin \u6587\u4EF6\u5939\u5220\u9664\uFF0C\u91CD\u65B0\u4F7F\u7528 maven \u5BFC\u5165\u9879\u76EE</p></blockquote><h2 id="_3\u3001hello-world-\u63A2\u7A76" tabindex="-1"><a class="header-anchor" href="#_3\u3001hello-world-\u63A2\u7A76" aria-hidden="true">#</a> 3\u3001Hello World \u63A2\u7A76</h2><h3 id="_3-1-pom-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-1-pom-\u6587\u4EF6" aria-hidden="true">#</a> 3.1 POM \u6587\u4EF6</h3><h4 id="_3-1-1-\u7236\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u7236\u9879\u76EE" aria-hidden="true">#</a> 3.1.1 \u7236\u9879\u76EE</h4><p>\u9879\u76EE\u4E0B\u7684 <strong>pom.xml</strong>\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- SpringBoot \u7684\u7248\u672C\u6CE8\u518C\u4E2D\u5FC3 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>spring-boot-starter-parent \u5305\u4E0B\u7684 spring-boot-starter-parent-<strong>a.b.c</strong>.pom\uFF08<strong>a.b.c</strong> \u5C31\u662F\u4E0A\u9762 pom.xml \u4E2D\u7684\u7248\u672C\u53F7\uFF0C\u672C\u6587\u662F <strong>2.6.4</strong>\uFF09\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- \u7BA1\u7406SpringBoot\u5E94\u7528\u91CC\u9762\u7684\u6240\u6709\u9ED8\u8BA4\u4F9D\u8D56\u7248\u672C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">&gt;</span></span>../../spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5\u540E\u6211\u4EEC\u5BFC\u5165\u9ED8\u8BA4\u4F9D\u8D56\u662F\u4E0D\u9700\u8981\u5199\u7248\u672C\u53F7\u7684\uFF08\u6CA1\u6709\u5728 <strong>dependencies</strong> \u91CC\u9762\u7BA1\u7406\u7684\u4F9D\u8D56\u9700\u8981\u58F0\u660E\u7248\u672C\u53F7\uFF09\u3002</p><h4 id="_3-1-2-\u542F\u52A8\u5668" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u542F\u52A8\u5668" aria-hidden="true">#</a> 3.1.2 \u542F\u52A8\u5668</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Web \u5E94\u7528\u5F00\u53D1\u573A\u666F --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>spring-boot-starter-*</strong>\uFF1ASpringBoot \u5B98\u65B9\u573A\u666F\u542F\u52A8\u5668\uFF0C\u4F1A\u5BFC\u5165\u76F8\u5173\u5F00\u53D1\u573A\u666F\u6240\u9700\u7684\u6240\u6709\u4F9D\u8D56\u3002</p><p>*<strong>-spring-boot-starter</strong>\uFF1A\u81EA\u5B9A\u4E49\u7684\u573A\u666F\u542F\u52A8\u5668\u3002</p><p>SpringBoot \u5C06\u6240\u6709\u7684\u529F\u80FD\u573A\u666F\u90FD<strong>\u62BD\u53D6</strong>\u51FA\u6765\uFF0C\u505A\u6210\u4E00\u4E2A\u4E2A\u7684 <strong>starter</strong>\uFF08\u542F\u52A8\u5668\uFF09\uFF0C\u53EA\u9700\u8981\u5728\u9879\u76EE\u91CC\u9762<strong>\u5F15\u5165</strong>\u8FD9\u4E9B <strong>starter</strong>\uFF0C\u76F8\u5173\u573A\u666F\u7684\u6240\u6709\u4F9D\u8D56\u90FD\u4F1A<strong>\u5BFC\u5165</strong>\u8FDB\u6765\u3002\u8981\u7528\u4EC0\u4E48\u529F\u80FD\u5C31\u5BFC\u5165\u4EC0\u4E48\u573A\u666F\u7684\u542F\u52A8\u5668\uFF0C\u5F15\u5165\u4E4B\u540E\u8BB0\u5F97\u70B9\u51FB\u7F16\u8F91\u533A\u53F3\u4E0A\u89D2\u7684 <strong>m \u56FE\u6807</strong>\uFF0C\u6765\u4E0B\u8F7D\u8FD9\u4E9B\u4F9D\u8D56\u3002</p>`,38),H=s("SpringBoot \u652F\u6301\u7684"),L={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter",target:"_blank",rel:"noopener noreferrer"},B=s("\u6240\u6709\u573A\u666F"),W=s("\u3002"),D=e(`<h3 id="_3-2-\u4E3B\u7A0B\u5E8F\u7C7B" tabindex="-1"><a class="header-anchor" href="#_3-2-\u4E3B\u7A0B\u5E8F\u7C7B" aria-hidden="true">#</a> 3.2 \u4E3B\u7A0B\u5E8F\u7C7B</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 *  SpringBootApplication \u6807\u6CE8\u4E00\u4E2A\u4E3B\u7A0B\u5E8F\u7C7B\uFF0C\u8BF4\u660E\u8FD9\u662F\u4E00\u4E2ASpringBoot\u5E94\u7528
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldMainApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u542F\u52A8Spring\u5E94\u7528</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloWorldMainApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>@SpringBootApplication</code>\uFF1A\u6807\u6CE8\u5728\u67D0\u4E2A\u7C7B\u4E0A\u8BF4\u660E\u8FD9\u4E2A\u7C7B\u662F SpringBoot \u7684\u4E3B\u914D\u7F6E\u7C7B\uFF0CSpringBoot \u5C31\u5E94\u8BE5\u8FD0\u884C\u8FD9\u4E2A\u7C7B\u7684 <code>main()</code> \u65B9\u6CD5\u6765\u542F\u52A8 SpringBoot \u5E94\u7528\u3002</p><h2 id="_4\u3001\u5FEB\u901F\u521B\u5EFA-springboot-\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5FEB\u901F\u521B\u5EFA-springboot-\u9879\u76EE" aria-hidden="true">#</a> 4\u3001\u5FEB\u901F\u521B\u5EFA SpringBoot \u9879\u76EE</h2><h3 id="_4-1-idea-\u4F7F\u7528-spring-initializer-\u5FEB\u901F\u521B\u5EFA\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_4-1-idea-\u4F7F\u7528-spring-initializer-\u5FEB\u901F\u521B\u5EFA\u9879\u76EE" aria-hidden="true">#</a> 4.1 IDEA\uFF1A\u4F7F\u7528 Spring Initializer \u5FEB\u901F\u521B\u5EFA\u9879\u76EE</h3><p>\u9879\u76EE\u7C7B\u578B\u9009\u62E9 <strong>Spring Initializr</strong>\uFF0C\u4FEE\u6539\u5B8C<strong>\u7EC4</strong>\uFF08\u516C\u53F8\u540D\uFF09\u3001<strong>\u5DE5\u4EF6</strong>\uFF08\u9879\u76EE\u540D\uFF09\u548C<strong>Java\u7248\u672C</strong>\u540E\uFF0C\u9009\u62E9\u6211\u4EEC\u9700\u8981\u7684\u6A21\u5757\uFF08\u5982 Spring Web\uFF09\uFF0C\u5411\u5BFC\u4F1A\u8054\u7F51\u521B\u5EFA SpringBoot \u9879\u76EE\u5E76\u4E0B\u8F7D\u5230\u672C\u5730\u3002</p><ul><li>\u4E3B\u7A0B\u5E8F\u5DF2\u7ECF\u751F\u6210\u597D\u4E86\uFF0C\u53EA\u9700\u7F16\u5199\u81EA\u5DF1\u7684\u4E1A\u52A1\u4EE3\u7801\u3002</li><li><strong>resources</strong>\u6587\u4EF6\u5939\u4E2D\u76EE\u5F55\u7ED3\u6784 <ul><li><strong>static</strong>\uFF1A\u9759\u6001\u8D44\u6E90\uFF0C js\u3001css\u3001images\u3002</li><li><strong>templates</strong>\uFF1A\u6A21\u677F\u9875\u9762\uFF08SpringBoot \u9ED8\u8BA4\u9ED8\u8BA4\u4E0D\u652F\u6301 jsp \u9875\u9762\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6A21\u677F\u5F15\u64CE\uFF08<strong>FreeMarker</strong>\u3001<strong>Thymeleaf</strong>\uFF09\u3002</li><li><strong>application.properties</strong>\uFF1A\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EF\u4EE5\u4FEE\u6539\u4E00\u4E9B\u9ED8\u8BA4\u8BBE\u7F6E\u3002</li></ul></li></ul><h1 id="\u4E09\u3001\u5BB9\u5668\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001\u5BB9\u5668\u529F\u80FD" aria-hidden="true">#</a> \u4E09\u3001\u5BB9\u5668\u529F\u80FD</h1><h2 id="_1\u3001\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 1\u3001\u914D\u7F6E\u6587\u4EF6</h2><p>SpringBoot \u4F7F\u7528\u4E00\u4E2A\u5168\u5C40\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u914D\u7F6E\u6587\u4EF6\u540D\u662F\u56FA\u5B9A\u7684\u3002</p><ul><li><strong>application.properties</strong></li><li><strong>application.yml</strong> \u6216 <strong>application.yam</strong>l\uFF08\u5EFA\u8BAE\u4F7F\u7528\uFF09</li></ul><p>\u914D\u7F6E\u6587\u4EF6\u7684\u4F5C\u7528\uFF1A\u4FEE\u6539 SpringBoot \u81EA\u52A8\u914D\u7F6E\u7684\u9ED8\u8BA4\u503C\u3002</p><p>YAML\uFF08YAML Ain&#39;t Markup Language\uFF09</p><p>\u200B YAML A Markup Language\uFF1A\u662F\u4E00\u79CD<strong>\u6807\u8BB0\u8BED\u8A00</strong></p><p>\u200B YAML isn&#39;t Markup Language\uFF1A\u4E0D\u662F\u4E00\u79CD\u6807\u8BB0\u8BED\u8A00</p><p>\u200B Yet another Markup Language\uFF1A\u4ECD\u662F\u4E00\u79CD\u6807\u8BB0\u8BED\u8A00</p><p>\u4F18\u70B9\uFF1A<strong>\u6CA1\u6709</strong>\u989D\u5916\u7684\u5B9A\u754C\u7B26\uFF0C\u66F4<strong>\u8F7B\u91CF</strong>\uFF0C\u66F4<strong>\u6613\u8BFB</strong>\u3002</p><h2 id="_2\u3001yaml\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2\u3001yaml\u8BED\u6CD5" aria-hidden="true">#</a> 2\u3001YAML\u8BED\u6CD5</h2><h3 id="_2-1-\u57FA\u672C\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-1-\u57FA\u672C\u8BED\u6CD5" aria-hidden="true">#</a> 2.1 \u57FA\u672C\u8BED\u6CD5</h3><ul><li><code>key: value</code> -&gt; <strong>value</strong> \u524D\u9762\u4E00\u5B9A\u8981\u6709<strong>\u7A7A\u683C</strong></li><li>\u5927\u5C0F\u5199<strong>\u654F\u611F</strong></li><li>\u4F7F\u7528<strong>\u7F29\u8FDB</strong>\u8868\u793A\u5C42\u7EA7\u5173\u7CFB</li><li>\u7F29\u8FDB\u4E0D\u5141\u8BB8\u4F7F\u7528tab\uFF0C\u53EA\u5141\u8BB8<strong>\u7A7A\u683C</strong></li><li>\u7F29\u8FDB\u7684\u7A7A\u683C\u6570\u4E0D\u91CD\u8981\uFF0C\u53EA\u8981\u76F8\u540C\u5C42\u7EA7\u7684\u5143\u7D20<strong>\u5DE6\u5BF9\u9F50</strong>\u5373\u53EF</li><li><code>#</code> \u8868\u793A\u6CE8\u91CA</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /hello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-\u503C\u7684\u5199\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-2-\u503C\u7684\u5199\u6CD5" aria-hidden="true">#</a> 2.2 \u503C\u7684\u5199\u6CD5</h3><h4 id="_2-2-1-\u5B57\u9762\u91CF" tabindex="-1"><a class="header-anchor" href="#_2-2-1-\u5B57\u9762\u91CF" aria-hidden="true">#</a> 2.2.1 \u5B57\u9762\u91CF</h4><p>\u666E\u901A\u7684\u503C\uFF08<strong>\u6570\u5B57</strong>\uFF0C<strong>\u5B57\u7B26\u4E32</strong>\uFF0C<strong>\u5E03\u5C14\u503C</strong>\uFF09</p><p><code>k: v</code></p><p>\u200B \u5B57\u7B26\u4E32\u9ED8\u8BA4\u4E0D\u7528\u52A0\u4E0A\u5355\u5F15\u53F7\u6216\u8005\u53CC\u5F15\u53F7\u3002</p><p>\u200B &quot;&quot;\uFF1A\u53CC\u5F15\u53F7\u3002<strong>\u4E0D\u4F1A\u8F6C\u4E49</strong>\u5B57\u7B26\u4E32\u91CC\u9762\u7684\u7279\u6B8A\u5B57\u7B26\uFF0C\u7279\u6B8A\u5B57\u7B26\u4F1A\u4F5C\u4E3A\u672C\u8EAB\u60F3\u8868\u793A\u7684\u610F\u601D\u3002</p><p>\u200B <code>name: &quot;zhangsan \\n lisi&quot;</code> \u8F93\u51FA\uFF1A<strong>zhangsan</strong> <strong>\u6362\u884C</strong> <strong>lisi</strong></p><p>\u200B &#39;&#39;\uFF1A\u5355\u5F15\u53F7\u3002<strong>\u4F1A\u8F6C\u4E49</strong>\u7279\u6B8A\u5B57\u7B26\uFF0C\u7279\u6B8A\u5B57\u7B26\u6700\u7EC8\u53EA\u662F\u4E00\u4E2A\u666E\u901A\u7684\u5B57\u7B26\u4E32\u6570\u636E\u3002</p><p>\u200B <code>name: &#39;zhangsan \\n lisi&#39;</code> \u8F93\u51FA\uFF1A<strong>zhangsan</strong> <strong>\\n</strong> <strong>lisi</strong></p><h4 id="_2-2-2-\u5BF9\u8C61\u3001map" tabindex="-1"><a class="header-anchor" href="#_2-2-2-\u5BF9\u8C61\u3001map" aria-hidden="true">#</a> 2.2.2 \u5BF9\u8C61\u3001Map</h4><p>\uFF08<strong>\u5C5E\u6027\u548C\u503C</strong>\u3001<strong>\u952E\u503C\u5BF9</strong>\uFF09</p><p><code>k: v</code> \u5728\u4E0B\u4E00\u884C\u6765\u5199\u5BF9\u8C61\u7684\u5C5E\u6027\u548C\u503C\u7684\u5173\u7CFB\uFF0C\u6CE8\u610F\u7F29\u8FDB\u3002</p><p>\u200B \u5BF9\u8C61\u8FD8\u662F <code>k: v</code> \u7684\u65B9\u5F0F\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span>
    <span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan
    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u884C\u5185\u5199\u6CD5\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-2-3-\u6570\u7EC4-list\u3001set" tabindex="-1"><a class="header-anchor" href="#_2-2-3-\u6570\u7EC4-list\u3001set" aria-hidden="true">#</a> 2.2.3 \u6570\u7EC4\uFF08List\u3001Set\uFF09</h4><p>\u7528 <code>- \u503C</code> \u8868\u793A\u6570\u7EC4\u4E2D\u7684\u4E00\u4E2A\u5143\u7D20\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span> 
	<span class="token punctuation">-</span> cat
	<span class="token punctuation">-</span> dog 
	<span class="token punctuation">-</span> pig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u884C\u5185\u5199\u6CD5\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span> dog<span class="token punctuation">,</span> pig<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3\u3001\u914D\u7F6E\u6587\u4EF6\u503C\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u914D\u7F6E\u6587\u4EF6\u503C\u6CE8\u5165" aria-hidden="true">#</a> 3\u3001\u914D\u7F6E\u6587\u4EF6\u503C\u6CE8\u5165</h2><p>\u914D\u7F6E\u6587\u4EF6 <strong>application.yml</strong>\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># yaml\u8868\u793A\u4EE5\u4E0A\u5BF9\u8C61</span>
<span class="token key atrule">person</span><span class="token punctuation">:</span>
  <span class="token key atrule">userName</span><span class="token punctuation">:</span> zhangsan
  <span class="token key atrule">boss</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">birth</span><span class="token punctuation">:</span> 2019/12/12 20<span class="token punctuation">:</span><span class="token datetime number">12:33</span>
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>
  <span class="token key atrule">pet</span><span class="token punctuation">:</span> 
    <span class="token key atrule">name</span><span class="token punctuation">:</span> tomcat
    <span class="token key atrule">weight</span><span class="token punctuation">:</span> <span class="token number">23.4</span>
  <span class="token key atrule">interests</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\u7BEE\u7403<span class="token punctuation">,</span>\u6E38\u6CF3<span class="token punctuation">]</span>
  <span class="token key atrule">animal</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> jerry
    <span class="token punctuation">-</span> mario
  <span class="token key atrule">score</span><span class="token punctuation">:</span>
    <span class="token key atrule">english</span><span class="token punctuation">:</span> 
      <span class="token key atrule">first</span><span class="token punctuation">:</span> <span class="token number">30</span>
      <span class="token key atrule">second</span><span class="token punctuation">:</span> <span class="token number">40</span>
      <span class="token key atrule">third</span><span class="token punctuation">:</span> <span class="token number">50</span>
    <span class="token key atrule">math</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">131</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">,</span><span class="token number">148</span><span class="token punctuation">]</span>
    <span class="token key atrule">chinese</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">first</span><span class="token punctuation">:</span> <span class="token number">128</span><span class="token punctuation">,</span><span class="token key atrule">second</span><span class="token punctuation">:</span> <span class="token number">136</span><span class="token punctuation">}</span>
  <span class="token key atrule">salarys</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3999</span><span class="token punctuation">,</span><span class="token number">4999.98</span><span class="token punctuation">,</span><span class="token number">5999.99</span><span class="token punctuation">]</span>
  <span class="token key atrule">allPets</span><span class="token punctuation">:</span>
    <span class="token key atrule">sick</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">name</span><span class="token punctuation">:</span> tom<span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">name</span><span class="token punctuation">:</span> jerry<span class="token punctuation">,</span><span class="token key atrule">weight</span><span class="token punctuation">:</span> <span class="token number">47</span><span class="token punctuation">}</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token key atrule">name</span><span class="token punctuation">:</span> mario<span class="token punctuation">,</span><span class="token key atrule">weight</span><span class="token punctuation">:</span> <span class="token number">47</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JavaBean\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @ConfigurationProperties\uFF1A\u544A\u8BC9SpringBoot\u5C06\u672C\u7C7B\u4E2D\u7684\u6240\u6709\u5C5E\u6027\u548C\u914D\u7F6E\u6587\u4EF6\u4E2D\u76F8\u5173\u7684\u914D\u7F6E\u8FDB\u884C\u7ED1\u5B9A\u3002
 */</span>
<span class="token annotation punctuation">@Component</span> <span class="token comment">// \u53EA\u6709\u5C06\u7EC4\u4EF6\u6CE8\u518C\u5230\u5BB9\u5668\u4E2D\uFF0C\u624D\u80FD\u4F7F\u7528\u5BB9\u5668\u63D0\u4F9B\u7684ConfigurationProperties\u529F\u80FD\u3002</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span> <span class="token comment">// \u6620\u5C04\u5230\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684person\u5C5E\u6027\u3002</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Pet</span> pet<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interests<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> animal<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> score<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> salarys<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Pet</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> allPets<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Double</span> weight<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u81EA\u5B9A\u4E49\u7684\u7C7B\u548C\u914D\u7F6E\u6587\u4EF6\u7ED1\u5B9A\u4E00\u822C\u6CA1\u6709\u63D0\u793A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BFC\u5165<strong>\u914D\u7F6E\u6587\u4EF6\u5904\u7406\u5668</strong>\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- \u5BFC\u5165\u914D\u7F6E\u6587\u4EF6\u5904\u7406\u5668\uFF0C\u914D\u7F6E\u6587\u4EF6\u8FDB\u884C\u7ED1\u5B9A\u5C31\u4F1A\u6709\u63D0\u793A --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-1-\u914D\u7F6E\u6587\u4EF6\u7684\u5751" tabindex="-1"><a class="header-anchor" href="#_3-1-\u914D\u7F6E\u6587\u4EF6\u7684\u5751" aria-hidden="true">#</a> 3.1 \u914D\u7F6E\u6587\u4EF6\u7684\u5751</h3><h4 id="_3-1-1-\u4E2D\u6587\u4E71\u7801" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u4E2D\u6587\u4E71\u7801" aria-hidden="true">#</a> 3.1.1 \u4E2D\u6587\u4E71\u7801</h4><p><strong>application.properties</strong> \u914D\u7F6E\u4E2D\u6587\u503C\u7684\u65F6\u5019\uFF0C\u8BFB\u53D6\u51FA\u6765\u7684\u5C5E\u6027\u503C\u4F1A\u51FA\u73B0\u4E71\u7801\u95EE\u9898\u3002\u4F46\u662F <strong>application.yml</strong> \u4E0D\u4F1A\u51FA\u73B0\u4E71\u7801\u95EE\u9898\u3002\u539F\u56E0\u662F\uFF0CSpring Boot \u662F\u4EE5 <strong>ISO-8859-1</strong> \u7684\u7F16\u7801\u65B9\u5F0F\u8BFB\u53D6 <strong>application.properties</strong> \u914D\u7F6E\u6587\u4EF6\u3002</p><h4 id="_3-1-2-\u52A0\u8F7D\u987A\u5E8F" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u52A0\u8F7D\u987A\u5E8F" aria-hidden="true">#</a> 3.1.2 \u52A0\u8F7D\u987A\u5E8F</h4><p>Java \u7684 <code>Properties</code> \u52A0\u8F7D\u5C5E\u6027\u6587\u4EF6\u540E\u662F\u65E0\u6CD5\u4FDD\u8BC1\u8F93\u51FA\u7684\u987A\u5E8F\u4E0E\u6587\u4EF6\u4E2D\u4E00\u81F4\u7684\uFF0C\u56E0\u4E3A <code>Properties</code> \u662F\u7EE7\u627F\u81EA <code>Hashtable</code> \u7684\uFF0C <strong>key/value</strong> \u90FD\u662F\u76F4\u63A5\u5B58\u5728 <code>Hashtable</code> \u4E2D\u7684\uFF0C\u800C <code>Hashtable</code> \u662F\u4E0D\u4FDD\u8BC1\u8FDB\u51FA\u987A\u5E8F\u7684\u3002</p><p>\u6240\u4EE5\u5982\u679C\u9700\u8981\u5C5E\u6027\u4FDD\u6301\u6709\u5E8F\uFF0C\u8BF7\u4F7F\u7528 <strong>application.yml</strong>\u3002</p><h4 id="_3-1-3-\u7528\u6237\u540D" tabindex="-1"><a class="header-anchor" href="#_3-1-3-\u7528\u6237\u540D" aria-hidden="true">#</a> 3.1.3 \u7528\u6237\u540D</h4><p>\u5982\u679C\u5B9A\u4E49\u4E00\u4E2A\u952E\u503C\u5BF9 <code>user.name=xxx</code> , \u8FD9\u91CC\u4F1A\u8BFB\u53D6\u4E0D\u5230\u5BF9\u5E94\u5199\u7684\u5C5E\u6027\u503C\u3002\u4E3A\u4EC0\u4E48\u5462\uFF1FSpringBoot \u7684\u9ED8\u8BA4 <code>StandardEnvironment</code> \u9996\u5148\u5C06\u4F1A\u52A0\u8F7D <strong>systemEnvironment</strong> \u4F5C\u4E3A\u9996\u4E2A <strong>PropertySource</strong>\u3002\u800C <strong>source</strong> \u5373\u4E3A <code>System.getProperties()</code>\uFF0C\u6309\u7167\u8BFB\u53D6\u987A\u5E8F\uFF0C\u8FD4\u56DE <strong>systemEnvironment</strong> \u7684\u503C\u5373 <code>System.getProperty(&quot;user.name&quot;)</code>\uFF0CMac \u7535\u8111\u4F1A\u8BFB\u53D6\u81EA\u5DF1\u7684\u767B\u5F55\u8D26\u53F7\u3002</p><h3 id="_3-3-value\u548C-configurationproperties\u6BD4\u8F83" tabindex="-1"><a class="header-anchor" href="#_3-3-value\u548C-configurationproperties\u6BD4\u8F83" aria-hidden="true">#</a> 3.3 <code>@Value</code>\u548C<code>@ConfigurationProperties</code>\u6BD4\u8F83</h3><table><thead><tr><th>\u9879\u76EE</th><th><strong>@ConfigurationProperties</strong></th><th><strong>@Value</strong></th></tr></thead><tbody><tr><td>\u529F\u80FD</td><td>\u6279\u91CF\u6CE8\u5165\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u5C5E\u6027</td><td>\u5206\u522B\u6307\u5B9A</td></tr><tr><td>\u677E\u6563\u7ED1\u5B9A\uFF08\u677E\u6563\u8BED\u6CD5\uFF09</td><td>\u652F\u6301</td><td>\u4E0D\u652F\u6301</td></tr><tr><td>SpEL</td><td>\u4E0D\u652F\u6301</td><td>\u652F\u6301</td></tr><tr><td>JSR-303\u6570\u636E\u6821\u9A8C</td><td>\u652F\u6301</td><td>\u4E0D\u652F\u6301</td></tr><tr><td>\u590D\u6742\u7C7B\u578B\u5C01\u88C5</td><td>\u652F\u6301</td><td>\u4E0D\u652F\u6301</td></tr></tbody></table><p>\u65E0\u8BBA\u914D\u7F6E\u6587\u4EF6\u662F <strong>yml</strong> \u8FD8\u662F <strong>properties</strong> \u4ED6\u4EEC\u90FD\u80FD\u83B7\u53D6\u5230\u503C\u3002</p><p>\u5982\u679C\u8BF4\uFF0C\u6211\u4EEC\u53EA\u662F\u5728\u67D0\u4E2A\u4E1A\u52A1\u903B\u8F91\u4E2D\u9700\u8981\u83B7\u53D6\u4E00\u4E0B\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u67D0\u9879\u503C\uFF0C\u4F7F\u7528 <code>@Value</code>\u3002</p><p>\u5982\u679C\u8BF4\uFF0C\u6211\u4EEC\u4E13\u95E8\u7F16\u5199\u4E86\u4E00\u4E2A JavaBean \u6765\u548C\u914D\u7F6E\u6587\u4EF6\u8FDB\u884C\u6620\u5C04\uFF0C\u6211\u4EEC\u5C31\u76F4\u63A5\u4F7F\u7528<code>@ConfigurationProperties</code>\u3002</p><h2 id="_4\u3001\u8F93\u5165\u6570\u636E\u6821\u9A8C" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u8F93\u5165\u6570\u636E\u6821\u9A8C" aria-hidden="true">#</a> 4\u3001\u8F93\u5165\u6570\u636E\u6821\u9A8C</h2><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
@ConfigurationProperties(prefix = &quot;person&quot;)
@Validated // \u542F\u7528\u6570\u636E\u6821\u9A8C
public class Person {
    /**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;\u5B57\u9762\u91CF/\${key}\u4ECE\u73AF\u5883\u53D8\u91CF\u3001\u914D\u7F6E\u6587\u4EF6\u4E2D\u83B7\u53D6\u503C/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */

    // lastName\u5FC5\u987B\u662F\u90AE\u7BB1\u683C\u5F0F
    @Email
    // @Value(&quot;\${person.last-name}&quot;)
    private String lastName;
    // @Value(&quot;#{11*2}&quot;)
    private Integer age;
    // @Value(&quot;true&quot;)
    private Boolean boss;

    private Date birth;
    private Map&lt;String,Object&gt; maps;
    private List&lt;Object&gt; lists;
    private Dog dog;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5\u3001\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 5\u3001\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6</h2><h3 id="_5-1-propertysource" tabindex="-1"><a class="header-anchor" href="#_5-1-propertysource" aria-hidden="true">#</a> 5.1 <code>@PropertySource</code></h3><p>\u52A0\u8F7D\u6307\u5B9A\u7684 <strong>properties</strong> \u914D\u7F6E\u6587\u4EF6\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 * @ConfigurationProperties\uFF1A\u544A\u8BC9SpringBoot\u5C06\u672C\u7C7B\u4E2D\u7684\u6240\u6709\u5C5E\u6027\u548C\u914D\u7F6E\u6587\u4EF6\u4E2D\u76F8\u5173\u7684\u914D\u7F6E\u8FDB\u884C\u7ED1\u5B9A\u3002
 */
@Component // \u53EA\u6709\u5C06\u7EC4\u4EF6\u6CE8\u518C\u5230\u5BB9\u5668\u4E2D\uFF0C\u624D\u80FD\u4F7F\u7528\u5BB9\u5668\u63D0\u4F9B\u7684ConfigurationProperties\u529F\u80FD\u3002
@PropertySource(value = {&quot;classpath:person.properties&quot;}) // \u6307\u5B9A\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6person.properties\u3002
@ConfigurationProperties(prefix = &quot;person&quot;) // \u6620\u5C04\u5230\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684person\u5C5E\u6027\u3002
//@Validated
public class Person {
    /**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;\u5B57\u9762\u91CF/\${key}\u4ECE\u73AF\u5883\u53D8\u91CF\u3001\u914D\u7F6E\u6587\u4EF6\u4E2D\u83B7\u53D6\u503C/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */

   //lastName\u5FC5\u987B\u662F\u90AE\u7BB1\u683C\u5F0F
   // @Email
    //@Value(&quot;\${person.last-name}&quot;)
    private String lastName;
    //@Value(&quot;#{11*2}&quot;)
    private Integer age;
    //@Value(&quot;true&quot;)
    private Boolean boss;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-importresource" tabindex="-1"><a class="header-anchor" href="#_5-2-importresource" aria-hidden="true">#</a> 5.2 <code>@ImportResource</code></h3><p>\u4E3A\u4E86\u517C\u5BB9 Spring \u5E94\u7528\uFF0C\u5BFC\u5165 Spring \u7684 <strong>xml</strong> \u914D\u7F6E\u6587\u4EF6\uFF0C\u8BA9\u914D\u7F6E\u6587\u4EF6\u91CC\u9762\u7684\u5185\u5BB9\u751F\u6548\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@ImportResource(locations = {&quot;classpath:beans.xml&quot;}) // \u5BFC\u5165Spring\u7684\u914D\u7F6E\u6587\u4EF6@SpringBootApplicationpublic class SpringBoot02ConfigApplication {
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>beans.xml\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>helloService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.springboot.service.HelloService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SpringBoot \u63A8\u8350\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u7EC4\u4EF6\u7684\u65B9\u5F0F\u3002\u63A8\u8350\u4F7F\u7528\u5168\u6CE8\u89E3\u7684\u65B9\u5F0F\uFF1A</p><p>1\u3001\u914D\u7F6E\u7C7B <code>@Configuration</code> Spring \u914D\u7F6E\u6587\u4EF6</p><p>2\u3001\u4F7F\u7528 <code>@Bean</code> \u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u7EC4\u4EF6</p><p>3\u3001\u7EC4\u4EF6\u6CE8\u89E3\uFF1A<code>@Component</code>\u3001<code>@Controller</code>\u3001<code>@Service</code>\u3001<code>@Repository</code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 * @Configuration\u6307\u660E\u5F53\u524D\u7C7B\u662F\u4E00\u4E2A\u914D\u7F6E\u7C7B\uFF0C\u66FF\u4EE3Spring\u914D\u7F6E\u6587\u4EF6\u3002
 * \u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u662F\u4F7F\u7528&lt;bean&gt;&lt;/bean&gt;\u6807\u7B7E\u6DFB\u52A0\u7EC4\u4EF6\u3002
 */
@Configuration
public class MyAppConfig {
    // \u5C06\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u6DFB\u52A0\u5230\u5BB9\u5668\u4E2D\uFF0C\u5BB9\u5668\u4E2D\u8FD9\u4E2A\u7EC4\u4EF6\u9ED8\u8BA4\u7684ID\u5C31\u5C31\u662F\u65B9\u6CD5\u540D
    @Bean
    public HelloService helloService() {
        System.out.println(&quot;\u914D\u7F6E\u7C7B\u4F7F\u7528@Bean\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u7EC4\u4EF6&quot;);
        return new HelloService();
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6\u3001\u914D\u7F6E\u4EF6\u5360\u4F4D\u7B26" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u914D\u7F6E\u4EF6\u5360\u4F4D\u7B26" aria-hidden="true">#</a> 6\u3001\u914D\u7F6E\u4EF6\u5360\u4F4D\u7B26</h2><h3 id="_6-1-\u968F\u673A\u6570" tabindex="-1"><a class="header-anchor" href="#_6-1-\u968F\u673A\u6570" aria-hidden="true">#</a> 6.1 \u968F\u673A\u6570</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>\${random.uuid}\u3001\${random.value}\u3001\${random.int}\u3001\${random.long}\${random.int(10)}\u3001\${random.int[1024,65536]}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-2-\u4F7F\u7528\u5360\u4F4D\u7B26" tabindex="-1"><a class="header-anchor" href="#_6-2-\u4F7F\u7528\u5360\u4F4D\u7B26" aria-hidden="true">#</a> 6.2 \u4F7F\u7528\u5360\u4F4D\u7B26</h3><p>\u5360\u4F4D\u7B26\u83B7\u53D6\u4E4B\u524D\u914D\u7F6E\u7684\u503C\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>:</code> \u6307\u5B9A\u9ED8\u8BA4\u503C\u3002</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">person.last-name</span><span class="token punctuation">=</span><span class="token value attr-value">\u738B\u4E94\${random.uuid}person.age=\${random.int}person.birth=2020/04/18person.boss=falseperson.maps.k11=v11person.maps.k22=v22person.lists=a,b,cperson.dog.name=\${person.hello:hello}_\u5C0F\u9ED1person.dog.age=2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_7\u3001profile" tabindex="-1"><a class="header-anchor" href="#_7\u3001profile" aria-hidden="true">#</a> 7\u3001Profile</h2><h3 id="_7-1-\u591A-profile-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_7-1-\u591A-profile-\u6587\u4EF6" aria-hidden="true">#</a> 7.1 \u591A Profile \u6587\u4EF6</h3><p>\u6211\u4EEC\u5728\u4E3B\u914D\u7F6E\u6587\u4EF6\u7F16\u5199\u7684\u65F6\u5019\uFF0C\u6587\u4EF6\u540D\u53EF\u4EE5\u662F <strong>application-{profile}.properties/yml/yaml</strong>\u3002</p><p>\u9ED8\u8BA4\u4F7F\u7528 <strong>application.properties</strong> \u7684\u914D\u7F6E\u3002</p><h3 id="_7-2-yml-\u652F\u6301\u591A\u6587\u6863\u5757\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_7-2-yml-\u652F\u6301\u591A\u6587\u6863\u5757\u65B9\u5F0F" aria-hidden="true">#</a> 7.2 yml \u652F\u6301\u591A\u6587\u6863\u5757\u65B9\u5F0F</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> prod

<span class="token punctuation">---</span>
<span class="token comment"># \u6587\u6863\u57572</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev

<span class="token punctuation">---</span>
<span class="token comment"># \u6587\u6863\u57573</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8084</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> prod  <span class="token comment">#\u6307\u5B9A\u5C5E\u4E8E\u54EA\u4E2A\u73AF\u5883</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-\u6FC0\u6D3B\u6307\u5B9A-profile" tabindex="-1"><a class="header-anchor" href="#_7-3-\u6FC0\u6D3B\u6307\u5B9A-profile" aria-hidden="true">#</a> 7.3 \u6FC0\u6D3B\u6307\u5B9A Profile</h3><p>1\u3001\u5728 <strong>application.properties</strong> \u914D\u7F6E\u6587\u4EF6\u4E2D\u6307\u5B9A\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.profiles.active</span><span class="token punctuation">=</span><span class="token value attr-value">dev</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2\u3001\u547D\u4EE4\u884C\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">java</span> <span class="token value attr-value">-jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u76F4\u63A5\u5728\u6D4B\u8BD5\u7684\u65F6\u5019\uFF0C\u914D\u7F6E\u4F20\u5165\u547D\u4EE4\u884C\u53C2\u6570\u3002</p><p>3\u3001\u865A\u62DF\u673A\u53C2\u6570\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">-Dspring.profiles.active</span><span class="token punctuation">=</span><span class="token value attr-value">dev</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_8\u3001\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_8\u3001\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u4F4D\u7F6E" aria-hidden="true">#</a> 8\u3001\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u4F4D\u7F6E</h2><p>SpringBoot \u542F\u52A8\u4F1A\u626B\u63CF\u4EE5\u4E0B\u4F4D\u7F6E\u7684 <strong>application.properties</strong> \u6216\u8005 <strong>application.yml</strong> \u6587\u4EF6\u4F5C\u4E3A SpringBoot \u7684\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6\u3002</p><p>\u5F53\u524D\u5DE5\u7A0B\u6839\u76EE\u5F55\u548C <strong>resources</strong> \u6587\u4EF6\u5939\u4E0B\uFF1A</p><p>/config/</p><p>/</p><p>\u4F18\u5148\u7EA7\u7531\u9AD8\u5230\u5E95\uFF0C\u9AD8\u4F18\u5148\u7EA7\u7684\u914D\u7F6E\u4F1A\u8986\u76D6\u4F4E\u4F18\u5148\u7EA7\u7684\u914D\u7F6E\u3002</p><p>SpringBoot \u4F1A\u4ECE\u8FD9\u56DB\u4E2A\u4F4D\u7F6E\u5168\u90E8\u52A0\u8F7D\u4E3B\u914D\u7F6E\u6587\u4EF6\uFF0C\u5171\u540C\u8D77\u4F5C\u7528\u5F62\u6210<strong>\u4E92\u8865\u914D\u7F6E</strong>\u3002</p><p>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7 <code>spring.config.location</code> \u6765\u6539\u53D8\u9ED8\u8BA4\u7684\u914D\u7F6E\u6587\u4EF6\u4F4D\u7F6E\u3002</p><p>\u9879\u76EE\u6253\u5305\u597D\u4EE5\u540E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<strong>\u547D\u4EE4\u884C\u53C2\u6570</strong>\u7684\u5F62\u5F0F\uFF0C\u542F\u52A8\u9879\u76EE\u7684\u65F6\u5019\u6765\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u7684\u65B0\u4F4D\u7F6E\u3002</p><p>\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u548C\u9ED8\u8BA4\u52A0\u8F7D\u7684\u8FD9\u4E9B\u914D\u7F6E\u6587\u4EF6\u5171\u540C\u8D77\u4F5C\u7528\u5F62\u6210<strong>\u4E92\u8865\u914D\u7F6E</strong>\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --spring.config.location=D:/application.properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u591A\u4E2A\u914D\u7F6E\u7528\u7A7A\u683C\u5206\u5F00\uFF0C*--\u914D\u7F6E\u9879**=*<em>\u503C</em>\u3002</p>`,110),V=s("SpringBoot \u4E5F\u53EF\u4EE5"),O={href:"https://docs.spring.io/spring-boot/docs/2.5.3/reference/htmlsingle/#features.external-config",target:"_blank",rel:"noopener noreferrer"},U=s("\u4ECE\u5916\u90E8\u52A0\u8F7D\u914D\u7F6E"),N=s("\u3002"),G=e(`<h2 id="_9\u3001\u81EA\u52A8\u914D\u7F6E\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_9\u3001\u81EA\u52A8\u914D\u7F6E\u539F\u7406" aria-hidden="true">#</a> 9\u3001\u81EA\u52A8\u914D\u7F6E\u539F\u7406</h2><h3 id="_9-1-\u5F15\u5BFC\u52A0\u8F7D\u81EA\u52A8\u914D\u7F6E\u7C7B" tabindex="-1"><a class="header-anchor" href="#_9-1-\u5F15\u5BFC\u52A0\u8F7D\u81EA\u52A8\u914D\u7F6E\u7C7B" aria-hidden="true">#</a> 9.1 <strong>\u5F15\u5BFC\u52A0\u8F7D\u81EA\u52A8\u914D\u7F6E\u7C7B</strong></h3><p>SpringBoot \u542F\u52A8\u7684\u65F6\u5019\u52A0\u8F7D\u4E3B\u914D\u7F6E\u7C7B\uFF0C\u4E3B\u914D\u7F6E\u7C7B\u4E0A\u7684 <code>@SpringBootApplication</code> \u6CE8\u89E3\u5F00\u542F\u4E86\u81EA\u52A8\u914D\u7F6E\u529F\u80FD <code>@EnableAutoConfiguration</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootConfiguration</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span> <span class="token comment">// \u5F00\u542F\u81EA\u52A8\u914D\u7F6E</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>excludeFilters <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span> classes <span class="token operator">=</span> <span class="token class-name">TypeExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span> classes <span class="token operator">=</span> <span class="token class-name">AutoConfigurationExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">SpringBootApplication</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-1-1-springbootconfiguration" tabindex="-1"><a class="header-anchor" href="#_9-1-1-springbootconfiguration" aria-hidden="true">#</a> 9.1.1 <code>@SpringBootConfiguration</code></h4><p>\u6807\u6CE8\u5728\u67D0\u4E2A\u7C7B\u4E0A\uFF0C\u8868\u793A\u8FD9\u662F\u4E00\u4E2A SpringBoot \u7684\u914D\u7F6E\u7C7B\u3002</p><p><code>@Configuration</code>\uFF1A\u914D\u7F6E\u7C7B\u4E0A\u4F7F\u7528\u8FD9\u4E2A\u6CE8\u89E3\u3002</p><p>\u914D\u7F6E\u7C7B \u2192 \u914D\u7F6E\u6587\u4EF6\uFF0C\u914D\u7F6E\u7C7B\u4E5F\u662F\u5BB9\u5668\u4E2D\u7684\u4E00\u4E2A\u7EC4\u4EF6\uFF08<code>@Component</code>\uFF09\u3002</p><h4 id="_9-1-2-componentscan" tabindex="-1"><a class="header-anchor" href="#_9-1-2-componentscan" aria-hidden="true">#</a> 9.1.2 <code>@ComponentScan</code></h4><p>\u6307\u5B9A\u626B\u63CF\u54EA\u4E9B\u5305\uFF0C\u9ED8\u8BA4\u626B\u63CF\u4E3B\u7A0B\u5E8F <code>MainApplication</code> \u6240\u5728\u7684\u5305\u53CA\u5176\u5B50\u5305\u3002</p><h4 id="_9-1-3-enableautoconfiguration" tabindex="-1"><a class="header-anchor" href="#_9-1-3-enableautoconfiguration" aria-hidden="true">#</a> 9.1.3 <code>@EnableAutoConfiguration</code></h4><p>\u5F00\u542F\u81EA\u52A8\u914D\u7F6E\u529F\u80FD\u3002</p><p>\u4EE5\u524D\u6211\u4EEC\u9700\u8981\u914D\u7F6E\u7684\u4E1C\u897F\uFF0CSpringBoot \u5E2E\u6211\u4EEC\u81EA\u52A8\u914D\u7F6E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@AutoConfigurationPackage</span>
    <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">AutoConfigurationImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableAutoConfiguration</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>@AutoConfigurationPackage</code>\uFF1A\u81EA\u52A8\u914D\u7F6E\u5305\u3002</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Registrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">AutoConfigurationPackage</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B Spring \u7684\u5E95\u5C42\u6CE8\u89E3 <code>@Import</code>\uFF0C\u7ED9\u5BB9\u5668\u4E2D\u5BFC\u5165\u4E00\u4E2A <code>Registrar.class</code> \u7C7B\u578B\u7684\u7EC4\u4EF6\u3002</p><p>\u200B \u7136\u540E\u5229\u7528 <code>Registrar</code> \u5C06\u4E3B\u7A0B\u5E8F <code>MainApplication</code> \u6240\u5728\u7684\u5305\u53CA\u5176\u5B50\u5305\u91CC\u9762\u7684\u6240\u6709\u7EC4\u4EF6\u626B\u63CF\u5E76\u914D\u7F6E\u5230 Spring \u5BB9\u5668\u3002</p><ul><li><p><code>@Import({AutoConfigurationImportSelector.class})</code>\uFF1A\u5BFC\u5165\u7EC4\u4EF6\u3002</p><ul><li><p>\u5229\u7528 <code>AutoConfigurationImportSelector.getAutoConfigurationEntry(AnnotationMetadata annotationMetadata)</code> \u7ED9\u5BB9\u5668\u4E2D\u5BFC\u5165\u4E00\u4E9B\u7EC4\u4EF6\uFF1B</p></li><li><p>\u53EF\u4EE5\u67E5\u770B <code>AutoConfigurationImportSelector.selectImports(AnnotationMetadata annotationMetadata)</code> \u65B9\u6CD5\u7684\u5185\u5BB9\uFF1B</p></li><li><p>\u83B7\u53D6\u5019\u9009\u7684\u914D\u7F6E\u9879\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> configurations <span class="token operator">=</span> <span class="token function">getCandidateConfigurations</span><span class="token punctuation">(</span>annotationMetadata<span class="token punctuation">,</span> attributes<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u52A0\u8F7D\u914D\u7F6E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> configurations <span class="token operator">=</span> <span class="token class-name">SpringFactoriesLoader</span><span class="token punctuation">.</span><span class="token function">loadFactoryNames</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSpringFactoriesLoaderFactoryClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBeanClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul><p>\u626B\u63CF\u6240\u6709 jar \u5305\u7C7B\u8DEF\u5F84\u4E0B <strong>META-INF/spring.factories</strong>\uFF0C\u628A\u626B\u63CF\u5230\u7684\u8FD9\u4E9B\u6587\u4EF6\u7684\u5185\u5BB9\u5305\u88C5\u6210 <strong>properties</strong> \u5BF9\u8C61\u3002</p><p>\u4ECE <strong>properties</strong> \u4E2D\u83B7\u53D6\u5230 <code>EnableAutoConfiguration</code> \u5C5E\u6027\u4E0B\u7684\u7C7B\u5168\u9650\u5B9A\u540D\u5217\u8868\uFF0C\u7136\u540E\u628A\u4ED6\u4EEC\u6DFB\u52A0\u5230\u5BB9\u5668\u4E2D\u3002</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># Auto Configure</span>
<span class="token key attr-name">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span><span class="token punctuation">=</span><span class="token value attr-value">\\
org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\\
org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\\
...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BCF\u4E00\u4E2A\u8FD9\u6837\u7684 <code>xxxAutoConfiguration</code> \u7C7B\u90FD\u662F\u5BB9\u5668\u4E2D\u7684\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u90FD\u52A0\u5165\u5230\u5BB9\u5668\u4E2D\uFF0C\u7528\u4ED6\u4EEC\u6765\u505A\u81EA\u52A8\u914D\u7F6E\u3002</p><h3 id="_9-2-\u6309\u9700\u5F00\u542F\u81EA\u52A8\u914D\u7F6E\u9879" tabindex="-1"><a class="header-anchor" href="#_9-2-\u6309\u9700\u5F00\u542F\u81EA\u52A8\u914D\u7F6E\u9879" aria-hidden="true">#</a> 9.2 \u6309\u9700\u5F00\u542F\u81EA\u52A8\u914D\u7F6E\u9879</h3><h4 id="_9-2-1-conditional" tabindex="-1"><a class="header-anchor" href="#_9-2-1-conditional" aria-hidden="true">#</a> 9.2.1 <code>@Conditional</code></h4><p>\u4F5C\u7528\uFF1A\u5FC5\u987B\u662F <code>@Conditional</code> \u6307\u5B9A\u7684\u6761\u4EF6\u6210\u7ACB\uFF0C\u624D\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u7EC4\u4EF6\uFF0C\u914D\u7F6E\u91CC\u9762\u7684\u6240\u6709\u5185\u5BB9\u624D\u751F\u6548\u3002</p>`,26),z=n("thead",null,[n("tr",null,[n("th",null,"@Conditional\u6269\u5C55\u6CE8\u89E3"),n("th",null,"\u4F5C\u7528\uFF08\u5224\u65AD\u662F\u5426\u6EE1\u8DB3\u5F53\u524D\u6307\u5B9A\u6761\u4EF6\uFF09")])],-1),Y={href:"https://www.yuque.com/ConditionalOnJava",target:"_blank",rel:"noopener noreferrer"},$=s("@ConditionalOnJava "),X=n("td",null,"\u7CFB\u7EDF\u7684java\u7248\u672C\u662F\u5426\u7B26\u5408\u8981\u6C42",-1),Q={href:"https://www.yuque.com/ConditionalOnBean",target:"_blank",rel:"noopener noreferrer"},K=s("@ConditionalOnBean "),Z=n("td",null,"\u5BB9\u5668\u4E2D\u5B58\u5728\u6307\u5B9ABean\uFF1B",-1),nn=n("tr",null,[n("td",null,"@ConditionalOnMissingBean"),n("td",null,"\u5BB9\u5668\u4E2D\u4E0D\u5B58\u5728\u6307\u5B9ABean\uFF1B")],-1),sn=n("tr",null,[n("td",null,"@ConditionalOnExpression"),n("td",null,"\u6EE1\u8DB3SpEL\u8868\u8FBE\u5F0F\u6307\u5B9A")],-1),an={href:"https://www.yuque.com/ConditionalOnClass",target:"_blank",rel:"noopener noreferrer"},tn=s("@ConditionalOnClass"),en=n("td",null,"\u7CFB\u7EDF\u4E2D\u6709\u6307\u5B9A\u7684\u7C7B",-1),on=n("tr",null,[n("td",null,"@ConditionalOnMissingClass"),n("td",null,"\u7CFB\u7EDF\u4E2D\u6CA1\u6709\u6307\u5B9A\u7684\u7C7B")],-1),pn=n("tr",null,[n("td",null,"@ConditionalOnSingleCandidate"),n("td",null,"\u5BB9\u5668\u4E2D\u53EA\u6709\u4E00\u4E2A\u6307\u5B9A\u7684Bean\uFF0C\u6216\u8005\u8FD9\u4E2ABean\u662F\u9996\u9009Bean")],-1),ln=n("tr",null,[n("td",null,"@ConditionalOnProperty"),n("td",null,"\u7CFB\u7EDF\u4E2D\u6307\u5B9A\u7684\u5C5E\u6027\u662F\u5426\u6709\u6307\u5B9A\u7684\u503C")],-1),cn=n("tr",null,[n("td",null,"@ConditionalOnResource"),n("td",null,"\u7C7B\u8DEF\u5F84\u4E0B\u662F\u5426\u5B58\u5728\u6307\u5B9A\u8D44\u6E90\u6587\u4EF6")],-1),rn=n("tr",null,[n("td",null,"@ConditionalOnWebApplication"),n("td",null,"\u5F53\u524D\u662Fweb\u73AF\u5883")],-1),un=n("tr",null,[n("td",null,"@ConditionalOnNotWebApplication"),n("td",null,"\u5F53\u524D\u4E0D\u662Fweb\u73AF\u5883")],-1),dn={href:"https://www.yuque.com/ConditionalOnJndi",target:"_blank",rel:"noopener noreferrer"},kn=s("@ConditionalOnJndi"),vn=n("td",null,"JNDI\u5B58\u5728\u6307\u5B9A\u9879",-1),gn=e(`<p><strong>\u81EA\u52A8\u914D\u7F6E\u7C7B\u5FC5\u987B\u5728\u4E00\u5B9A\u7684\u6761\u4EF6\u4E0B\u624D\u80FD\u751F\u6548\u3002</strong></p><p>\u6211\u4EEC\u600E\u4E48\u77E5\u9053\u54EA\u4E9B\u81EA\u52A8\u914D\u7F6E\u7C7B\u751F\u6548\uFF1F</p><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u542F\u7528 <code>debug=true</code> \u5C5E\u6027\uFF0C\u6765\u8BA9\u63A7\u5236\u53F0\u6253\u5370\u81EA\u52A8\u914D\u7F6E\u62A5\u544A\uFF0C\u8FD9\u6837\u6211\u4EEC\u5C31\u53EF\u4EE5\u5F88\u65B9\u4FBF\u5730\u77E5\u9053\u54EA\u4E9B\u81EA\u52A8\u914D\u7F6E\u7C7B\u751F\u6548\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
AUTO<span class="token operator">-</span><span class="token class-name">CONFIGURATION</span> REPORT
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>


<span class="token class-name">Positive</span> matches<span class="token operator">:</span> <span class="token comment">// \u81EA\u52A8\u914D\u7F6E\u7C7B\u542F\u7528\u7684</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">DispatcherServletAutoConfiguration</span> matched<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> found required <span class="token keyword">class</span> &#39;<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>DispatcherServlet</span>&#39;<span class="token punctuation">;</span> <span class="token annotation punctuation">@ConditionalOnMissingClass</span> did not find unwanted <span class="token keyword">class</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> found <span class="token class-name">StandardServletEnvironment</span> <span class="token punctuation">(</span><span class="token class-name">OnWebApplicationCondition</span><span class="token punctuation">)</span>
        
    
<span class="token class-name">Negative</span> matches<span class="token operator">:</span> <span class="token comment">// \u6CA1\u6709\u542F\u52A8\uFF0C\u6CA1\u6709\u5339\u914D\u6210\u529F\u7684\u81EA\u52A8\u914D\u7F6E\u7C7B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">ActiveMQAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes &#39;<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>jms<span class="token punctuation">.</span></span>ConnectionFactory</span><span class="token char">&#39;, &#39;</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>activemq<span class="token punctuation">.</span></span>ActiveMQConnectionFactory</span>&#39; <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>

   <span class="token class-name">AopAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes &#39;<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span>Aspect</span><span class="token char">&#39;, &#39;</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>Advice</span>&#39; <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-spring-mvc-\u81EA\u52A8\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_9-3-spring-mvc-\u81EA\u52A8\u914D\u7F6E" aria-hidden="true">#</a> 9.3 Spring MVC \u81EA\u52A8\u914D\u7F6E</h3><p>\u4EE5\u4E0B\u662F SpringBoot \u5BF9 SpringMVC \u7684\u9ED8\u8BA4\u914D\u7F6E\uFF08<code>WebMvcAutoConfiguration</code>\uFF09\uFF1A</p><ul><li><p>Inclusion of <code>ContentNegotiatingViewResolver</code> and <code>BeanNameViewResolver</code> beans.</p><ul><li>\u81EA\u52A8\u914D\u7F6E\u4E86 <code>ViewResolver</code>\uFF08\u89C6\u56FE\u89E3\u6790\u5668\uFF09\uFF1A\u6839\u636E\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u5F97\u5230\u89C6\u56FE\u5BF9\u8C61\uFF08<code>View</code>\uFF09\uFF0C\u89C6\u56FE\u5BF9\u8C61\u51B3\u5B9A\u5982\u4F55\u6E32\u67D3\uFF08\u8F6C\u53D1\uFF1F\u91CD\u5B9A\u5411\uFF1F\uFF09.</li><li><code>ContentNegotiatingViewResolver</code>\uFF1A\u7EC4\u5408\u6240\u6709\u7684\u89C6\u56FE\u89E3\u6790\u5668\u7684\u3002</li><li>\u53EF\u4EE5\u81EA\u5DF1\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u89C6\u56FE\u89E3\u6790\u5668\uFF08<code>@Bean</code>\uFF0C<code>@Component</code>\uFF09\uFF0CSpringBoot \u4F1A\u81EA\u52A8\u5730\u5C06\u5176\u7EC4\u5408\u8FDB\u6765\u3002</li></ul></li><li><p>Support for serving static resources, including support for WebJars (see below).</p><ul><li>\u9759\u6001\u8D44\u6E90\u6587\u4EF6\u5939\u8DEF\u5F84\uFF0C\u5305\u62EC <code>webjars</code>\u3002</li></ul></li><li><p>Static <code>index.html</code> support.</p><ul><li>\u9759\u6001\u9996\u9875\u8BBF\u95EE\uFF08\u6B22\u8FCE\u9875\uFF09\u3002</li></ul></li><li><p>Custom <code>Favicon</code> support (see below).</p><ul><li>\u7F51\u7AD9\u56FE\u6807\u652F\u6301\uFF0C\u5373 <strong>favicon.ico</strong>\u3002</li></ul></li><li><p>\u81EA\u52A8\u6CE8\u518C\u4E86 of <code>Converter</code>, <code>GenericConverter</code>, <code>Formatter</code> beans.</p><ul><li><p><code>Converter&lt;S, T&gt;</code>\uFF1A\u8F6C\u6362\u5668\u63A5\u53E3\uFF0C\u5C06\u6E90\u7C7B\u578B <code>S</code> \u8F6C\u6362\u4E3A\u76EE\u6807\u7C7B\u578B <code>T</code>\u3002</p></li><li><p><code>GenericConverter</code>\uFF1A\u901A\u7528\u8F6C\u6362\u5668\u63A5\u53E3\uFF0C\u7528\u4E8E\u4E24\u4E2A\u4EE5\u4E0A\u7C7B\u578B\u4E4B\u95F4\u7684\u8F6C\u6362\u3002</p></li><li><p><code>Formatter&lt;T&gt;</code> \u683C\u5F0F\u5316\u5668\u63A5\u53E3\uFF0C\u683C\u5F0F\u5316\u6210\u76EE\u6807\u7C7B\u578B <code>T</code>\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Bean
@ConditionalOnProperty(prefix = &quot;spring.mvc&quot;, name = &quot;date-format&quot;) // \u5728\u6587\u4EF6\u4E2D\u914D\u7F6E\u65E5\u671F\u683C\u5F0F\u5316\u7684\u89C4\u5219
public Formatter&lt;Date&gt; dateFormatter() {
    return new DateFormatter(this.mvcProperties.getDateFormat()); // \u65E5\u671F\u683C\u5F0F\u5316\u7EC4\u4EF6
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u81EA\u5DF1\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u683C\u5F0F\u5316\u5668\u8F6C\u6362\u5668\u3002</p></li></ul></li><li><p>Support for <code>HttpMessageConverters</code> (see below).</p><ul><li><code>HttpMessageConverter</code>\uFF1ASpringMVC \u7528\u6765\u8F6C\u6362 <code>HTTP</code> \u8BF7\u6C42\u548C\u54CD\u5E94\u7684\u3002</li><li><code>HttpMessageConverters</code> \u662F\u4ECE\u5BB9\u5668\u4E2D\u786E\u5B9A\u7684\uFF0C\u83B7\u53D6\u6240\u6709\u7684 <code>HttpMessageConverter</code>\uFF0C\u7136\u540E\u770B\u54EA\u4E00\u4E2A\u8F6C\u6362\u5668\u80FD\u5904\u7406\u3002</li><li>\u53EF\u4EE5\u81EA\u5DF1\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A <code>HttpMessageConverter</code>\u3002</li></ul></li><li><p>Automatic registration of <code>MessageCodesResolver</code> (see below).</p><ul><li>\u5B9A\u4E49\u9519\u8BEF\u4EE3\u7801\u751F\u6210\u89C4\u5219\u3002</li></ul></li><li><p>Automatic use of a <code>ConfigurableWebBindingInitializer</code> bean (see below).</p><ul><li>\u53EF\u4EE5\u81EA\u5DF1\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A <code>ConfigurableWebBindingInitializer</code> \u6765\u66FF\u6362\u9ED8\u8BA4\u7684\u3002</li></ul></li></ul><h3 id="_9-4-\u6269\u5C55springmvc" tabindex="-1"><a class="header-anchor" href="#_9-4-\u6269\u5C55springmvc" aria-hidden="true">#</a> 9.4 \u6269\u5C55SpringMVC</h3><p>\u7F16\u5199\u4E00\u4E2A\u914D\u7F6E\u7C7B\uFF08<code>@Configuration</code>\uFF09\uFF0C\u662F <code>WebMvcConfigurer</code> \u7C7B\u578B\u3002\u4E0D\u80FD\u6807\u6CE8<code>@EnableWebMvc</code> \u3002</p><p>\u65E2\u4FDD\u7559\u4E86\u6240\u6709\u7684\u81EA\u52A8\u914D\u7F6E\uFF0C\u4E5F\u80FD\u7528\u6211\u4EEC\u6269\u5C55\u7684\u914D\u7F6E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u4F7F\u7528 WebMvcConfigurer \u53EF\u4EE5\u6269\u5C55 SpringMVC \u7684\u529F\u80FD</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span><span class="token class-name">ViewControllerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6D4F\u89C8\u5668\u53D1\u9001 /atguigu \u8BF7\u6C42\u6765\u5230 success \u9875\u9762</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">&quot;/atguigu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u539F\u7406\uFF1A</p><ol><li><code>WebMvcConfigurer</code> \u662F SpringMVC \u7684\u81EA\u52A8\u914D\u7F6E\u7C7B;</li><li>\u5728\u505A\u5176\u4ED6\u81EA\u52A8\u914D\u7F6E\u65F6\u4F1A\u5BFC\u5165\uFF1B</li></ol><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Import(EnableWebMvcConfiguration.class)
@Configuration
public static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration {
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7C7B <code>DelegatingWebMvcConfiguration</code>\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport {
    private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite();
    // \u4ECE\u5BB9\u5668\u4E2D\u83B7\u53D6\u6240\u6709\u7684 WebMvcConfigurer\u3002
    @Autowired(required = false)
    public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) {
        if (!CollectionUtils.isEmpty(configurers)) {
            this.configurers.addWebMvcConfigurers(configurers);
            // \u4E00\u4E2A\u53C2\u8003\u5B9E\u73B0\uFF1A\u5C06\u6240\u6709 WebMvcConfigurer \u76F8\u5173\u914D\u7F6E\u4E00\u8D77\u8C03\u7528\u3002
            // @Override
            // protected void addViewControllers(ViewControllerRegistry registry) {
            //     this.configurers.addViewControllers(registry);
            // }
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u5BB9\u5668\u4E2D\u6240\u6709\u7684 <code>WebMvcConfigurer</code> \u90FD\u4F1A\u540C\u65F6\u8D77\u4F5C\u7528\uFF1B</li><li>\u6211\u4EEC\u7684\u914D\u7F6E\u7C7B\u4E5F\u4F1A\u88AB\u8C03\u7528\u3002</li></ol><p>\u6548\u679C\uFF1ASpringMVC \u7684\u81EA\u52A8\u914D\u7F6E\u548C\u6211\u4EEC\u7684\u6269\u5C55\u914D\u7F6E\u90FD\u4F1A\u8D77\u4F5C\u7528\u3002</p><h3 id="_9-5-\u5168\u9762\u63A5\u7BA1-springmvc" tabindex="-1"><a class="header-anchor" href="#_9-5-\u5168\u9762\u63A5\u7BA1-springmvc" aria-hidden="true">#</a> 9.5 \u5168\u9762\u63A5\u7BA1 SpringMVC</h3><p>\u4E0D\u4F7F\u7528 SpringBoot \u5BF9 SpringMVC \u7684\u81EA\u52A8\u914D\u7F6E\uFF0C\u800C\u662F\u4F7F\u7528\u81EA\u5B9A\u4E49\u914D\u7F6E\u3002</p><p>\u53EA\u8981\u914D\u7F6E\u7C7B\u4E2D\u6DFB\u52A0 <code>@EnableWebMvc</code> \u5373\u53EF\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// \u4F7F\u7528 WebMvcConfigurerAdapter \u53EF\u4EE5\u6765\u6269\u5C55 SpringMVC \u7684\u529F\u80FD
@EnableWebMvc
@Configuration
public class MyMvcConfig extends WebMvcConfigurerAdapter {
    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        // super.addViewControllers(registry);
        //\u6D4F\u89C8\u5668\u53D1\u9001 /atguigu \u8BF7\u6C42\u6765\u5230 success \u9875\u9762
        registry.addViewController(&quot;/atguigu&quot;).setViewName(&quot;success&quot;);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u539F\u7406\uFF1A</strong></p><p>\u4E3A\u4EC0\u4E48\u4F7F\u7528 <code>@EnableWebMvc</code> \u81EA\u52A8\u914D\u7F6E\u5C31\u5931\u6548\u4E86\u3002</p><ol><li><code>@EnableWebMvc</code> \u5BFC\u5165\u4E86 <code>DelegatingWebMvcConfiguration</code> \u7EC4\u4EF6\uFF1B</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">DelegatingWebMvcConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableWebMvc</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p><code>DelegatingWebMvcConfiguration</code> \u7EE7\u627F\u4E86 <code>WebMvcConfigurationSupport</code> \u7C7B\uFF1B</p><p>\u628A\u6240\u6709\u7CFB\u7EDF\u4E2D\u7684 <code>WebMvcConfigurer</code> \u62FF\u8FC7\u6765\uFF0C\u6240\u6709\u529F\u80FD\u7684\u5B9A\u5236\u90FD\u662F\u8FD9\u4E9B <code>WebMvcConfigurer</code> \u5408\u8D77\u6765\u4E00\u8D77\u751F\u6548\u7684\uFF1B</p><p>\u81EA\u52A8\u914D\u7F6E\u4E86\u4E00\u4E9B\u975E\u5E38\u5E95\u5C42\u7684\u7EC4\u4EF6\uFF0C<code>RequestMappingHandlerMapping</code>\u3001\u8FD9\u4E9B\u7EC4\u4EF6\u4F9D\u8D56\u7684\u7EC4\u4EF6\u90FD\u662F\u4ECE\u5BB9\u5668\u4E2D\u83B7\u53D6\u3002</p></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DelegatingWebMvcConfiguration</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurationSupport</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><code>WebMvcAutoConfiguration</code> \u53EA\u6709\u5F53\u5BB9\u5668\u4E2D\u6CA1\u6709 <code>WebMvcConfigurationSupport</code> \u7EC4\u4EF6\u7684\u65F6\u5019\u624D\u751F\u6548\uFF1B</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ConditionalOnWebApplication</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">Type</span><span class="token punctuation">.</span>SERVLET<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">Servlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">DispatcherServlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u5BB9\u5668\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C\u8FD9\u4E2A\u81EA\u52A8\u914D\u7F6E\u7C7B\u624D\u751F\u6548\u3002</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">WebMvcConfigurationSupport</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AutoConfigureOrder</span><span class="token punctuation">(</span><span class="token class-name">Ordered</span><span class="token punctuation">.</span>HIGHEST_PRECEDENCE <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AutoConfigureAfter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">DispatcherServletAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">TaskExecutionAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name">ValidationAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebMvcAutoConfiguration</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><p>\u800C\u7B2C 2 \u6B65\u4E2D\uFF0C<code>@EnableWebMvc</code> \u5DF2\u7ECF\u5C06 <code>WebMvcConfigurationSupport</code> \u7EC4\u4EF6\u5BFC\u5165\u8FDB\u6765\u4E86\u3002</p></li><li><p>\u5BFC\u5165\u7684 <code>WebMvcConfigurationSupport</code> \u53EA\u662F SpringMVC \u6700\u57FA\u672C\u7684\u529F\u80FD\u3002</p></li></ol><h3 id="_9-6-\u4FEE\u6539\u9ED8\u8BA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_9-6-\u4FEE\u6539\u9ED8\u8BA4\u914D\u7F6E" aria-hidden="true">#</a> 9.6 \u4FEE\u6539\u9ED8\u8BA4\u914D\u7F6E</h3>`,32),mn=s("\u53EF\u914D\u7F6E\u7684"),bn={href:"https://docs.spring.io/spring-boot/docs/2.5.3/reference/htmlsingle/#application-properties",target:"_blank",rel:"noopener noreferrer"},hn=s("\u5C5E\u6027\u5217\u8868"),qn=s("\u3002"),fn=e('<ol><li>SpringBoot \u5728\u81EA\u52A8\u914D\u7F6E\u5F88\u591A\u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C\u5148\u770B\u5BB9\u5668\u4E2D\u6709\u6CA1\u6709\u7528\u6237\u81EA\u5DF1\u914D\u7F6E\u7684\uFF08<code>@Bean</code>\u3001<code>@Component</code>\uFF09\u5982\u679C\u6709\u5C31\u7528\u7528\u6237\u914D\u7F6E\u7684\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u624D\u81EA\u52A8\u914D\u7F6E\u3002\u5982\u679C\u6709\u4E9B\u7EC4\u4EF6\u53EF\u4EE5\u6709\u591A\u4E2A\uFF08<code>ViewResolver</code>\uFF09\u5C06\u7528\u6237\u914D\u7F6E\u7684\u548C\u81EA\u5DF1\u9ED8\u8BA4\u7684\u7EC4\u5408\u8D77\u6765\u3002</li><li>\u5728 SpringBoot \u4E2D\u4F1A\u6709\u975E\u5E38\u591A\u7684 <code>xxxConfigurer</code> \u5E2E\u52A9\u6211\u4EEC\u8FDB\u884C<strong>\u6269\u5C55</strong>\u914D\u7F6E\uFF1B</li><li>\u5728 SpringBoot \u4E2D\u4F1A\u6709\u975E\u5E38\u591A\u7684 <code>xxxCustomizer</code> \u5E2E\u52A9\u6211\u4EEC\u8FDB\u884C<strong>\u5B9A\u5236</strong>\u914D\u7F6E\u3002</li></ol><h3 id="_9-7-\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_9-7-\u603B\u7ED3" aria-hidden="true">#</a> 9.7 \u603B\u7ED3</h3><ul><li><p>SpringBoot \u5148\u52A0\u8F7D\u6240\u6709\u7684\u81EA\u52A8\u914D\u7F6E\u7C7B <code>xxxAutoConfiguration</code>\u3002</p></li><li><p>\u6BCF\u4E2A\u81EA\u52A8\u914D\u7F6E\u7C7B\u6309\u7167\u6761\u4EF6\u751F\u6548\uFF0C\u9ED8\u8BA4\u90FD\u4F1A\u7ED1\u5B9A <code>xxxProperties</code> \u7C7B\uFF0C<code>xxxProperties</code> \u7C7B\u548C\u5BF9\u5E94\u914D\u7F6E\u6587\u4EF6\u8FDB\u884C\u4E86\u7ED1\u5B9A\u3002</p></li><li><p>\u5B9A\u5236\u5316\u914D\u7F6E\uFF1A</p><ul><li>\u7528\u6237\u76F4\u63A5\u4F7F\u7528 <code>@Bean</code>\u3001<code>@Component</code> \u66FF\u6362\u5E95\u5C42\u7684\u7EC4\u4EF6\uFF1B</li><li>\u7528\u6237\u53BB\u770B\u8FD9\u4E2A\u7EC4\u4EF6\u662F\u83B7\u53D6\u7684\u914D\u7F6E\u6587\u4EF6\u4EC0\u4E48\u503C\u5C31\u53BB\u4FEE\u6539\u3002</li></ul></li></ul><p>\u573A\u666F <strong>starter</strong> -&gt; <code>xxxAutoConfiguration</code> -&gt; \u5BFC\u5165 <code>xxx</code> \u7EC4\u4EF6 -&gt; \u7ED1\u5B9A <code>xxxProperties</code> -&gt; \u7ED1\u5B9A\u914D\u7F6E\u6587\u4EF6\u9879\uFF08application.properties\uFF09</p><h3 id="_9-8-\u6700\u4F73\u5B9E\u8DF5" tabindex="-1"><a class="header-anchor" href="#_9-8-\u6700\u4F73\u5B9E\u8DF5" aria-hidden="true">#</a> 9.8 \u6700\u4F73\u5B9E\u8DF5</h3>',5),_n=n("p",null,"\u5F15\u5165\u573A\u666F\u4F9D\u8D56\uFF1B",-1),yn={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter",target:"_blank",rel:"noopener noreferrer"},xn=s("Starters"),Cn=s("\u3002"),Sn=n("li",null,[n("p",null,"\u67E5\u770B\u81EA\u52A8\u914D\u7F6E\u4E86\u54EA\u4E9B\uFF08\u9009\u505A\uFF09\uFF1B"),n("ul",null,[n("li",null,"\u81EA\u5DF1\u5206\u6790\uFF0C\u5F15\u5165\u573A\u666F\u5BF9\u5E94\u7684\u81EA\u52A8\u914D\u7F6E\u4E00\u822C\u90FD\u751F\u6548\u4E86\uFF1B"),n("li",null,[s("\u914D\u7F6E\u6587\u4EF6\u4E2D "),n("code",null,"debug=true"),s(" \u5F00\u542F\u81EA\u52A8\u914D\u7F6E\u62A5\u544A\uFF1A"),n("strong",null,"Negative"),s("\uFF08\u4E0D\u751F\u6548\uFF09 \\ "),n("strong",null,"Positive"),s("\uFF08\u751F\u6548\uFF09\u3002")])])],-1),wn=n("p",null,"\u662F\u5426\u9700\u8981\u4FEE\u6539\u914D\u7F6E\u9879\uFF1B",-1),Mn=s("\u53C2\u7167\u6587\u6863\u4FEE\u6539\u914D\u7F6E\u9879\u3002 "),Fn={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties",target:"_blank",rel:"noopener noreferrer"},An=s("Common Application Properties"),Rn=s("\uFF1B"),Pn=n("li",null,[s("\u81EA\u5DF1\u5206\u6790\uFF0C"),n("code",null,"xxxProperties"),s(" \u914D\u7F6E\u7C7B\u7ED1\u5B9A\u4E86\u54EA\u4E2A\u914D\u7F6E\u6587\u4EF6\uFF1B")],-1),jn=e(`<li><p>\u81EA\u5B9A\u4E49\u52A0\u5165\u6216\u8005\u66FF\u6362\u7EC4\u4EF6\uFF1B</p><ul><li><p>\u7F16\u5199\u81EA\u5B9A\u4E49\u7684\u914D\u7F6E\u7C7B <code>xxxConfiguration</code> + <code>@Bean</code>\u3001<code>@Component</code> \u66FF\u6362\u3001\u589E\u52A0\u5BB9\u5668\u4E2D\u9ED8\u8BA4\u7EC4\u4EF6\u3002</p><ul><li>Web\u5E94\u7528\uFF1A\u7F16\u5199\u4E00\u4E2A\u914D\u7F6E\u7C7B\u5B9E\u73B0 <code>WebMvcConfigurer</code> \u5373\u53EF\u5B9A\u5236\u5316 <strong>Web</strong> \u529F\u80FD + <code>@Bean</code> \u7ED9\u5BB9\u5668\u4E2D\u518D\u6269\u5C55\u4E00\u4E9B\u7EC4\u4EF6\u3002</li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration
public class AdminWebConfig implements WebMvcConfigurer {
    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        // \u5206\u9875\u62E6\u622A\u5668
        PaginationInnerInterceptor paginationInnerInterceptor = new PaginationInnerInterceptor(DbType.MYSQL);
        // \u8DF3\u56DE\u9996\u9875
        paginationInnerInterceptor.setOverflow(true);
        // \u6BCF\u9875\u4E0D\u53D7\u9650\u5236
        paginationInnerInterceptor.setMaxLimit(-1L);
        interceptor.addInnerInterceptor(paginationInnerInterceptor);
        return interceptor;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>\u81EA\u5B9A\u4E49\u5668 <code>xxxCustomizer</code>\uFF1B</p></li><li><p>......</p></li>`,3),En=e(`<h3 id="_9-9-\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_9-9-\u793A\u4F8B" aria-hidden="true">#</a> 9.9 \u793A\u4F8B</h3><p>\u4EE5 <code>HttpEncodingAutoConfiguration</code>\uFF08Http \u7F16\u7801\u81EA\u52A8\u914D\u7F6E\uFF09\u4E3A\u4F8B\u89E3\u91CA\u81EA\u52A8\u914D\u7F6E\u539F\u7406\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// \u8868\u793A\u8FD9\u662F\u4E00\u4E2A\u914D\u7F6E\u7C7B\uFF0C\u5173\u95ED bean \u4EE3\u7406\uFF08\u6BCF\u6B21\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684 bean\uFF0C\u76F8\u5F53\u4E8E prototype\uFF09</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">HttpProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// \u5C06\u914D\u7F6E\u6587\u4EF6\u4E2D\u5BF9\u5E94\u7684\u503C\u548CHttpProperties\u7ED1\u5B9A\u8D77\u6765\uFF0C\u5E76\u628AHttpProperties\u52A0\u5165\u5230\u5BB9\u5668\u4E2D\u3002</span>
<span class="token annotation punctuation">@ConditionalOnWebApplication</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">ConditionalOnWebApplication<span class="token punctuation">.</span>Type</span><span class="token punctuation">.</span>SERVLET<span class="token punctuation">)</span> <span class="token comment">// \u4EC5\u5BF9 Web \u5E94\u7528\u751F\u6548\u3002</span>
<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// CharacterEncodingFilter \u7C7B\u5B58\u5728\u65F6\u751F\u6548\u3002SpringMVC\u4E2D\u8FDB\u884C\u4E71\u7801\u89E3\u51B3\u7684\u8FC7\u6EE4\u5668\u3002</span>
<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.http.encoding&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">// \u5224\u65AD\u914D\u7F6E\u6587\u4EF6\u4E2D\u662F\u5426\u5B58\u5728\u67D0\u4E2A\u914D\u7F6E spring.http.encoding=enabled\u3002</span>
<span class="token comment">// \u5373\u4F7F\u6211\u4EEC\u4E0D\u914D\u7F6E\uFF0Cpring.http.encoding.enabled=true\uFF0C\u4E5F\u662F\u9ED8\u8BA4\u751F\u6548\u7684\u3002</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingAutoConfiguration</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5B83\u5DF2\u7ECF\u548CSpringBoot\u7684\u914D\u7F6E\u6587\u4EF6\u6620\u5C04\u4E86\u3002</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">HttpProperties<span class="token punctuation">.</span>Encoding</span> properties<span class="token punctuation">;</span>

    <span class="token comment">// \u53EA\u6709\u4E00\u4E2A\u6709\u53C2\u6784\u9020\u5668\u7684\u60C5\u51B5\u4E0B\uFF0C\u53C2\u6570\u7684\u503C\u5C31\u4F1A\u4ECE\u5BB9\u5668\u4E2D\u62FF\u3002</span>
    <span class="token keyword">public</span> <span class="token class-name">HttpEncodingAutoConfiguration</span><span class="token punctuation">(</span><span class="token class-name">HttpProperties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span> <span class="token comment">// \u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u8FD9\u4E2A\u7EC4\u4EF6\u7684\u67D0\u4E9B\u503C\u9700\u8981\u4ECE properties \u4E2D\u83B7\u53D6\u3002</span>
    <span class="token annotation punctuation">@ConditionalOnMissingBean</span> <span class="token comment">// \u5BB9\u5668\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u7EC4\u4EF6\u65F6\u624D\u751F\u6548\u3002</span>
    <span class="token keyword">public</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token function">characterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CharacterEncodingFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderedCharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">getCharset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filter<span class="token punctuation">.</span><span class="token function">setForceRequestEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>REQUEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filter<span class="token punctuation">.</span><span class="token function">setForceResponseEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>RESPONSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> filter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u56DB\u3001\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u56DB\u3001\u65E5\u5FD7" aria-hidden="true">#</a> \u56DB\u3001\u65E5\u5FD7</h1><h2 id="_1\u3001\u65E5\u5FD7\u6846\u67B6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u65E5\u5FD7\u6846\u67B6" aria-hidden="true">#</a> 1\u3001\u65E5\u5FD7\u6846\u67B6</h2><p>\u5C0F\u5F20\u8981\u5F00\u53D1\u4E00\u4E2A\u5927\u578B\u7CFB\u7EDF\u3002</p><ol><li><p>System.out.println(&quot;&quot;)\u3002\u5C06\u5173\u952E\u6570\u636E\u6253\u5370\u5728\u63A7\u5236\u53F0\u3002\u53BB\u6389\uFF1F\u5199\u5728\u4E00\u4E2A\u6587\u4EF6\uFF1F</p></li><li><p>\u6846\u67B6\u6765\u8BB0\u5F55\u7CFB\u7EDF\u7684\u4E00\u4E9B\u8FD0\u884C\u65F6\u4FE1\u606F\u3002\u65E5\u5FD7\u6846\u67B6 \u3002<strong>zhanglogging.jar</strong>\u3002</p></li><li><p>\u9AD8\u5927\u4E0A\u7684\u51E0\u4E2A\u529F\u80FD\uFF1F\u5F02\u6B65\u6A21\u5F0F\uFF1F\u81EA\u52A8\u5F52\u6863\uFF1Fxxx\uFF1F<strong>zhanglogging-good.jar\u3002</strong></p></li><li><p>\u5C06\u4EE5\u524D\u6846\u67B6\u5378\u4E0B\u6765\uFF1F\u6362\u4E0A\u65B0\u7684\u6846\u67B6\uFF0C\u91CD\u65B0\u4FEE\u6539\u4E4B\u524D\u76F8\u5173\u7684API\u3002<strong>zhanglogging-prefect.jar</strong>\u3002</p></li><li><p>JDBC---\u6570\u636E\u5E93\u9A71\u52A8\u3002</p></li></ol><p>\u5199\u4E86\u4E00\u4E2A\u7EDF\u4E00\u7684\u63A5\u53E3\u5C42\uFF0C\u65E5\u5FD7\u95E8\u9762\uFF08\u65E5\u5FD7\u7684\u4E00\u4E2A\u62BD\u8C61\u5C42\uFF09\uFF1A<strong>logging-abstract.jar</strong>\u3002</p><p>\u7ED9\u9879\u76EE\u4E2D\u5BFC\u5165\u5177\u4F53\u7684\u65E5\u5FD7\u5B9E\u73B0\u5C31\u884C\u4E86\u3002\u6211\u4EEC\u4E4B\u524D\u7684\u65E5\u5FD7\u6846\u67B6\u90FD\u662F\u5B9E\u73B0\u7684\u62BD\u8C61\u5C42\u3002</p><p><strong>\u5E02\u9762\u4E0A\u7684\u65E5\u5FD7\u6846\u67B6\u3002</strong></p><p>JUL\u3001JCL\u3001Jboss-logging\u3001logback\u3001log4j\u3001log4j2\u3001SLF4j...</p><table><thead><tr><th>\u65E5\u5FD7\u95E8\u9762 \uFF08\u65E5\u5FD7\u7684\u62BD\u8C61\u5C42\uFF09</th><th>\u65E5\u5FD7\u5B9E\u73B0</th></tr></thead><tbody><tr><td>JCL\uFF08Jakarta Commons Logging\uFF09 \u3001<strong>SLF4j</strong>\uFF08Simple Logging Facade for Java\uFF09\u3001Jboss-logging</td><td>Log4j\u3001JUL\uFF08java.util.logging\uFF09\u3001Log4j2\u3001<strong>Logback</strong></td></tr></tbody></table><p>\u5DE6\u8FB9\u9009\u4E00\u4E2A\u95E8\u9762\uFF08\u62BD\u8C61\u5C42\uFF09\u3001\u53F3\u8FB9\u6765\u9009\u4E00\u4E2A\u5B9E\u73B0\u3002</p><p>Spring \u6846\u67B6\u9ED8\u8BA4\u662F\u7528 <strong>JCL</strong>\u3002</p><p>SpringBoot \u9009\u7528 <strong>SLF4j</strong> \u548C <strong>logback</strong>\u3002</p><h2 id="_2\u3001slf4j-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2\u3001slf4j-\u4F7F\u7528" aria-hidden="true">#</a> 2\u3001SLF4j \u4F7F\u7528</h2><h3 id="_2-1-\u5982\u4F55\u5728\u7CFB\u7EDF\u4E2D\u4F7F\u7528-slf4j" tabindex="-1"><a class="header-anchor" href="#_2-1-\u5982\u4F55\u5728\u7CFB\u7EDF\u4E2D\u4F7F\u7528-slf4j" aria-hidden="true">#</a> 2.1 \u5982\u4F55\u5728\u7CFB\u7EDF\u4E2D\u4F7F\u7528 SLF4j</h3><p>https://www.slf4j.org</p><p>\u4EE5\u540E\u5F00\u53D1\u7684\u65F6\u5019\uFF0C\u65E5\u5FD7\u8BB0\u5F55\u65B9\u6CD5\u7684\u8C03\u7528\uFF0C\u4E0D\u5E94\u8BE5\u6765\u76F4\u63A5\u8C03\u7528\u65E5\u5FD7\u7684\u5B9E\u73B0\u7C7B\uFF0C\u800C\u662F\u8C03\u7528\u65E5\u5FD7\u62BD\u8C61\u5C42\u91CC\u9762\u7684\u65B9\u6CD5\u3002</p><p>\u7ED9\u7CFB\u7EDF\u91CC\u9762\u5BFC\u5165 <strong>slf4j</strong> \u7684\u62BD\u8C61\u5C42 jar \u548C <strong>logback</strong> \u7684\u5B9E\u73B0\u5C42 jar\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">HelloWorld</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56FE\u793A\uFF1A</p><p><img src="https://qiniu.dyl.fit/\u4F7F\u7528 SLF4J.png" alt="\u4F7F\u7528 SLF4J"></p><p>\u6BCF\u4E00\u4E2A\u65E5\u5FD7\u7684\u5B9E\u73B0\u6846\u67B6\u90FD\u6709\u81EA\u5DF1\u7684\u914D\u7F6E\u6587\u4EF6\u3002</p><h3 id="_2-2-\u9057\u7559\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_2-2-\u9057\u7559\u95EE\u9898" aria-hidden="true">#</a> 2.2 \u9057\u7559\u95EE\u9898</h3><p>A\u7CFB\u7EDF\uFF08slf4j + logback\uFF09: Spring\uFF08commons-logging\uFF09\u3001Hibernate\uFF08jboss-logging\uFF09\u3001MyBatis...</p><p>\u7EDF\u4E00\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u5373\u4F7F\u662F\u522B\u7684\u6846\u67B6\u548C\u6211\u4E00\u8D77\u7EDF\u4E00\u4F7F\u7528 <strong>slf4j</strong> \u8FDB\u884C\u8F93\u51FA\uFF1F</p><p><img src="https://qiniu.dyl.fit/\u9057\u7559\u7CFB\u7EDF\u4F7F\u7528 SLF4J.png" alt="\u9057\u7559\u7CFB\u7EDF\u4F7F\u7528 SLF4J"></p><p><strong>\u5982\u4F55\u8BA9\u7CFB\u7EDF\u4E2D\u6240\u6709\u7684\u65E5\u5FD7\u90FD\u7EDF\u4E00\u5230 slf4j\uFF1F</strong></p><ol><li>\u5C06\u7CFB\u7EDF\u4E2D\u5176\u4ED6\u65E5\u5FD7\u6846\u67B6\u5148\u6392\u9664\u51FA\u53BB\u3002</li><li>\u7528\u4E2D\u95F4\u5305\u6765\u66FF\u6362\u539F\u6709\u7684\u65E5\u5FD7\u6846\u67B6\u3002</li><li>\u6211\u4EEC\u5BFC\u5165 <strong>slf4j</strong> \u5176\u4ED6\u7684\u5B9E\u73B0\u3002</li></ol><h2 id="_3\u3001springboot-\u65E5\u5FD7\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#_3\u3001springboot-\u65E5\u5FD7\u5173\u7CFB" aria-hidden="true">#</a> 3\u3001SpringBoot \u65E5\u5FD7\u5173\u7CFB</h2><p>SpringBoot \u4F7F\u7528\u5B83\u6765\u505A\u65E5\u5FD7\u529F\u80FD\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5E95\u5C42\u4F9D\u8D56\u5173\u7CFB\uFF1A</p><p><img src="https://qiniu.dyl.fit/\u65E5\u5FD7\u5173\u7CFB.png" alt="\u65E5\u5FD7\u5173\u7CFB"></p><p>\u603B\u7ED3\uFF1A</p><p>\u200B 1. SpringBoot \u5E95\u5C42\u4E5F\u662F\u4F7F\u7528 <strong>slf4j</strong> + <strong>logback</strong> \u7684\u65B9\u5F0F\u8FDB\u884C\u65E5\u5FD7\u8BB0\u5F55\u3002</p><p>\u200B 2. SpringBoot \u4E5F\u628A\u5176\u4ED6\u7684\u65E5\u5FD7\u90FD\u66FF\u6362\u6210\u4E86<strong>slf4j</strong>\u3002</p><p>\u200B 3. \u4E2D\u95F4\u8F6C\u6362\u5305\uFF1F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;rawtypes&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">LogFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J <span class="token operator">=</span> <span class="token string">&quot;http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token class-name">LogFactory</span> logFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SLF4JLogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/\u65E5\u5FD7\u4E2D\u95F4\u8F6C\u6362\u5305.png" alt="\u65E5\u5FD7\u4E2D\u95F4\u8F6C\u6362\u5305"></p><p>\u200B 4. \u5982\u679C\u6211\u4EEC\u8981\u5F15\u5165\u5176\u4ED6\u6846\u67B6\uFF0C\u4E00\u5B9A\u8981\u628A\u8FD9\u4E2A\u6846\u67B6\u7684\u9ED8\u8BA4\u65E5\u5FD7\u4F9D\u8D56\u79FB\u9664\u6389\u3002</p><p>\u200B Spring \u6846\u67B6\u7528\u7684\u662F <strong>commons-logging\uFF08JCL\uFF09</strong>\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringBoot \u80FD\u81EA\u52A8\u9002\u914D\u6240\u6709\u7684\u65E5\u5FD7\uFF0C\u800C\u4E14\u5E95\u5C42\u4F7F\u7528 <strong>slf4j</strong> + <strong>logback</strong> \u7684\u65B9\u5F0F\u8BB0\u5F55\u65E5\u5FD7\uFF0C\u5F15\u5165\u5176\u4ED6\u6846\u67B6\u7684\u65F6\u5019\uFF0C\u53EA\u9700\u8981\u628A\u8FD9\u4E2A\u6846\u67B6\u4F9D\u8D56\u7684\u65E5\u5FD7\u6846\u67B6\u6392\u9664\u6389\u5373\u53EF\u3002</p><h2 id="_4\u3001\u65E5\u5FD7\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u65E5\u5FD7\u4F7F\u7528" aria-hidden="true">#</a> 4\u3001\u65E5\u5FD7\u4F7F\u7528</h2><h3 id="_4-1-\u9ED8\u8BA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-1-\u9ED8\u8BA4\u914D\u7F6E" aria-hidden="true">#</a> 4.1 \u9ED8\u8BA4\u914D\u7F6E</h3><p>SpringBoot \u9ED8\u8BA4\u5E2E\u6211\u4EEC\u914D\u7F6E\u597D\u4E86\u65E5\u5FD7\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u8BB0\u5F55\u5668</span>
<span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// System.out.println();</span>

    <span class="token comment">// \u65E5\u5FD7\u7684\u7EA7\u522B\u3002</span>
    <span class="token comment">// \u7531\u4F4E\u5230\u9AD8\uFF1Atrace &lt; debug &lt; info &lt; warn &lt; error</span>
    <span class="token comment">// \u53EF\u4EE5\u8C03\u6574\u8F93\u51FA\u7684\u65E5\u5FD7\u7EA7\u522B\uFF0C\u65E5\u5FD7\u5C31\u53EA\u4F1A\u5728\u8FD9\u4E2A\u7EA7\u522B\u4EE5\u4EE5\u540E\u7684\u9AD8\u7EA7\u522B\u751F\u6548</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662Ftrace\u65E5\u5FD7...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662Fdebug\u65E5\u5FD7...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// SpringBoot \u9ED8\u8BA4\u7ED9\u6211\u4EEC\u4F7F\u7528\u7684\u662F info \u7EA7\u522B\u7684</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662Finfo\u65E5\u5FD7...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662Fwarn\u65E5\u5FD7...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662Ferror\u65E5\u5FD7...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u65E5\u5FD7\u8F93\u51FA\u683C\u5F0F\uFF1A
    <span class="token operator">%</span>d\u8868\u793A\u65E5\u671F\u65F6\u95F4\uFF0C
    <span class="token operator">%</span>thread\u8868\u793A\u7EBF\u7A0B\u540D\uFF0C
    <span class="token operator">%</span><span class="token operator">-</span><span class="token number">5l</span>evel\uFF1A\u7EA7\u522B\u4ECE\u5DE6\u663E\u793A<span class="token number">5</span>\u4E2A\u5B57\u7B26\u5BBD\u5EA6
    <span class="token operator">%</span>logger<span class="token punctuation">{</span><span class="token number">50</span><span class="token punctuation">}</span> \u8868\u793Alogger\u540D\u5B57\u6700\u957F<span class="token number">50</span>\u4E2A\u5B57\u7B26\uFF0C\u5426\u5219\u6309\u7167\u53E5\u70B9\u5206\u5272\u3002 
    <span class="token operator">%</span>msg\uFF1A\u65E5\u5FD7\u6D88\u606F\uFF0C
    <span class="token operator">%</span>n\u662F\u6362\u884C\u7B26
<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">%</span>d<span class="token punctuation">{</span>yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss<span class="token punctuation">.</span>SSS<span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token operator">%</span>thread<span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">-</span><span class="token number">5l</span>evel <span class="token operator">%</span>logger<span class="token punctuation">{</span><span class="token number">50</span><span class="token punctuation">}</span> <span class="token operator">-</span> <span class="token operator">%</span>msg<span class="token operator">%</span>n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringBoot \u4FEE\u6539\u65E5\u5FD7\u7684\u9ED8\u8BA4\u914D\u7F6E\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">logging.level.com.atguigu</span><span class="token punctuation">=</span><span class="token value attr-value">trace</span>

<span class="token comment"># \u4E0D\u6307\u5B9A\u8DEF\u5F84\uFF0C\u5728\u5F53\u524D\u9879\u76EE\u4E0B\u751F\u6210 springboot.log \u65E5\u5FD7\u3002</span>
<span class="token comment">#logging.file.path=</span>

<span class="token comment"># \u53EF\u4EE5\u6307\u5B9A\u5B8C\u6574\u7684\u8DEF\u5F84\u3002</span>
<span class="token comment">#logging.file.name=D:/springboot.log</span>

<span class="token comment"># \u5728\u5F53\u524D\u78C1\u76D8\u7684\u6839\u8DEF\u5F84\u4E0B\u521B\u5EFA /spring/log \u6587\u4EF6\u5939\uFF0C\u4F7F\u7528 spring.log \u4F5C\u4E3A\u65E5\u5FD7\u6587\u4EF6\u3002</span>
<span class="token key attr-name">logging.file.path</span><span class="token punctuation">=</span><span class="token value attr-value">/spring/log</span>

<span class="token comment"># \u5728\u63A7\u5236\u53F0\u8F93\u51FA\u7684\u65E5\u5FD7\u683C\u5F0F</span>
<span class="token key attr-name">logging.pattern.console</span><span class="token punctuation">=</span><span class="token value attr-value">%d{yyyy-MM-dd} [%thread] %-5level %logger{50} - %msg%n</span>

<span class="token comment"># \u6307\u5B9A\u6587\u4EF6\u4E2D\u8F93\u51FA\u7684\u65E5\u5FD7\u683C\u5F0F</span>
<span class="token key attr-name">logging.pattern.file</span><span class="token punctuation">=</span><span class="token value attr-value">%d{yyyy-MM-dd} === [%thread] === %-5level === %logger{50} === %msg%n</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>logging.file</th><th>logging.path</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>(none)</td><td>(none)</td><td></td><td>\u53EA\u5728\u63A7\u5236\u53F0\u8F93\u51FA</td></tr><tr><td>\u6307\u5B9A\u6587\u4EF6\u540D</td><td>(none)</td><td>my.log</td><td>\u8F93\u51FA\u65E5\u5FD7\u5230 <strong>my.log</strong> \u6587\u4EF6</td></tr><tr><td>(none)</td><td>\u6307\u5B9A\u76EE\u5F55</td><td>/var/log</td><td>\u8F93\u51FA\u5230\u6307\u5B9A\u76EE\u5F55\u7684 <strong>spring.log</strong> \u6587\u4EF6\u4E2D</td></tr></tbody></table><h3 id="_4-2-\u6307\u5B9A\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-2-\u6307\u5B9A\u914D\u7F6E" aria-hidden="true">#</a> 4.2 \u6307\u5B9A\u914D\u7F6E</h3><p>\u7ED9\u7C7B\u8DEF\u5F84\u4E0B\u653E\u4E0A\u6BCF\u4E2A\u65E5\u5FD7\u6846\u67B6\u81EA\u5DF1\u7684\u914D\u7F6E\u6587\u4EF6\u5373\u53EF\uFF0CSpringBoot \u5C31\u4E0D\u4F7F\u7528\u5B83\u9ED8\u8BA4\u914D\u7F6E\u7684\u4E86\u3002</p><table><thead><tr><th>Logging System</th><th>Customization</th></tr></thead><tbody><tr><td>Logback</td><td><code>logback-spring.xml</code>, <code>logback-spring.groovy</code>, <code>logback.xml</code> or <code>logback.groovy</code></td></tr><tr><td>Log4j2</td><td><code>log4j2-spring.xml</code> or <code>log4j2.xml</code></td></tr><tr><td>JDK (Java Util Logging)</td><td><code>logging.properties</code></td></tr></tbody></table><p><strong>logback.xml</strong>\uFF1A\u76F4\u63A5\u5C31\u88AB\u65E5\u5FD7\u6846\u67B6\u8BC6\u522B\u4E86\u3002</p><p><strong>logback-spring.xml</strong>\uFF1A\u65E5\u5FD7\u6846\u67B6\u5C31\u4E0D\u76F4\u63A5\u52A0\u8F7D\u65E5\u5FD7\u7684\u914D\u7F6E\u9879\uFF0C\u7531 SpringBoot \u89E3\u6790\u65E5\u5FD7\u914D\u7F6E\uFF0C\u53EF\u4EE5\u4F7F\u7528 SpringBoot \u7684\u9AD8\u7EA7 <strong>profile</strong> \u529F\u80FD\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dev<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u53EF\u4EE5\u6307\u5B9A\u67D0\u6BB5\u914D\u7F6E\u53EA\u5728\u67D0\u4E2A\u73AF\u5883\u4E0B\u751F\u6548 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stdout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
    \u65E5\u5FD7\u8F93\u51FA\u683C\u5F0F\uFF1A
        %d\u8868\u793A\u65E5\u671F\u65F6\u95F4\uFF0C
        %thread\u8868\u793A\u7EBF\u7A0B\u540D\uFF0C
        %-5level\uFF1A\u7EA7\u522B\u4ECE\u5DE6\u663E\u793A5\u4E2A\u5B57\u7B26\u5BBD\u5EA6
        %logger{50} \u8868\u793Alogger\u540D\u5B57\u6700\u957F50\u4E2A\u5B57\u7B26\uFF0C\u5426\u5219\u6309\u7167\u53E5\u70B9\u5206\u5272\u3002 
        %msg\uFF1A\u65E5\u5FD7\u6D88\u606F\uFF0C
        %n\u662F\u6362\u884C\u7B26
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dev<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} ----&gt; [%thread] ---&gt; %-5level %logger{50} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!dev<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} ==== [%thread] ==== %-5level %logger{50} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F7F\u7528 <strong>logback.xml</strong> \u4F5C\u4E3A\u65E5\u5FD7\u914D\u7F6E\u6587\u4EF6\uFF0C\u8FD8\u8981\u4F7F\u7528 Profile \u529F\u80FD\uFF0C\u4F1A\u6709\u4EE5\u4E0B\u9519\u8BEF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>no applicable action <span class="token keyword">for</span> <span class="token punctuation">[</span>springProfile<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_5\u3001\u5207\u6362\u65E5\u5FD7\u6846\u67B6" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u5207\u6362\u65E5\u5FD7\u6846\u67B6" aria-hidden="true">#</a> 5\u3001\u5207\u6362\u65E5\u5FD7\u6846\u67B6</h2><p>\u53EF\u4EE5\u6309\u7167 <strong>slf4j</strong> \u7684\u65E5\u5FD7\u9002\u914D\u56FE\uFF0C\u8FDB\u884C\u76F8\u5173\u7684\u5207\u6362\u3002</p><p><strong>slf4j</strong> + <strong>log4j</strong> \u7684\u65B9\u5F0F\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-over-slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5207\u6362\u4E3A <strong>log4j2</strong>\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-log4j2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u4E94\u3001web-\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#\u4E94\u3001web-\u5F00\u53D1" aria-hidden="true">#</a> \u4E94\u3001Web \u5F00\u53D1</h1><h2 id="_1\u3001\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u7B80\u4ECB" aria-hidden="true">#</a> 1\u3001\u7B80\u4ECB</h2><ol><li><p>\u521B\u5EFA SpringBoot \u5E94\u7528\uFF0C\u9009\u4E2D\u6211\u4EEC\u9700\u8981\u7684 <strong>starter</strong> \u6A21\u5757\u3002</p></li><li><p>SpringBoot \u5DF2\u7ECF\u9ED8\u8BA4\u5C06\u8FD9\u4E9B\u573A\u666F\u914D\u7F6E\u597D\u4E86\uFF0C\u53EA\u9700\u8981\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6307\u5B9A\u5C11\u91CF\u914D\u7F6E\u5C31\u53EF\u4EE5\u8FD0\u884C\u8D77\u6765</p></li><li><p>\u81EA\u5DF1\u7F16\u5199\u4E1A\u52A1\u4EE3\u7801\u3002</p></li></ol><h2 id="_2\u3001\u7B80\u5355\u529F\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u7B80\u5355\u529F\u80FD\u5206\u6790" aria-hidden="true">#</a> 2\u3001\u7B80\u5355\u529F\u80FD\u5206\u6790</h2><h3 id="_2-1-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#_2-1-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE" aria-hidden="true">#</a> 2.1 \u9759\u6001\u8D44\u6E90\u8BBF\u95EE</h3><blockquote><p>\u9759\u6001\u8D44\u6E90\uFF1A<code>css</code>\u3001<code>jss</code>\u3001<code>html</code>\u3001<code>jpg</code> \u7B49\u8D44\u6E90\u6587\u4EF6\uFF0C\u7528\u6237\u591A\u6B21\u8BBF\u95EE\u90FD\u662F\u83B7\u53D6\u540C\u6837\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u88AB\u6D4F\u89C8\u5668\u7F13\u5B58\u3002</p></blockquote><h4 id="_2-1-1-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#_2-1-1-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u76EE\u5F55" aria-hidden="true">#</a> 2.1.1 \u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u76EE\u5F55</h4><p>\u53EA\u8981\u9759\u6001\u8D44\u6E90\u653E\u5728\u7C7B\u8DEF\u5F84\u4E0B\uFF1A called <code>/static</code> (or <code>/public</code> or <code>/resources</code> or <code>/META-INF/resources</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>&quot;classpath<span class="token punctuation">:</span>/META<span class="token punctuation">-</span>INF/resources/&quot;<span class="token punctuation">,</span> 
<span class="token string">&quot;classpath:/resources/&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;classpath:/static/&quot;</span><span class="token punctuation">,</span> 
<span class="token string">&quot;classpath:/public/&quot;</span> 
&quot;/&quot;\uFF1A\u5F53\u524D\u9879\u76EE\u7684\u6839\u8DEF\u5F84
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBF\u95EE\u5F53\u524D\u9879\u76EE\u6839\u8DEF\u5F84 <code>/</code> + <code>\u9759\u6001\u8D44\u6E90\u540D</code> \uFF0C\u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u5BF9\u5E94\u7684\u9759\u6001\u8D44\u6E90\u3002</p><p>\u8BBF\u95EE\u5730\u5740\uFF1Ahttp://localhost:8080/<strong>hello.jpg</strong>\uFF0C\u53BB\u9759\u6001\u8D44\u6E90\u76EE\u5F55\u4E0B\u627E <strong>hello.jpg</strong>\u3002</p><p>\u539F\u7406\uFF1A <strong>\u9759\u6001\u6620\u5C04/*</strong>*\u3002</p><p>\u8BF7\u6C42\u8FDB\u6765\uFF0C\u5148\u53BB\u627E Controller \u770B\u80FD\u4E0D\u80FD\u5904\u7406\u3002\u4E0D\u80FD\u5904\u7406\u7684\u6240\u6709\u8BF7\u6C42\u53C8\u90FD\u4EA4\u7ED9\u9759\u6001\u8D44\u6E90\u5904\u7406\u5668\u3002\u9759\u6001\u8D44\u6E90\u4E5F\u627E\u4E0D\u5230\u5219\u54CD\u5E94 404 \u9875\u9762\u3002</p><h4 id="_2-1-2-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u524D\u7F00" tabindex="-1"><a class="header-anchor" href="#_2-1-2-\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u524D\u7F00" aria-hidden="true">#</a> 2.1.2 \u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u524D\u7F00</h4><p>\u9ED8\u8BA4\u65E0\u524D\u7F00\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">static-path-pattern</span><span class="token punctuation">:</span> /res/<span class="token important">**</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBF\u95EE\u5F53\u524D\u9879\u76EE\u6839\u8DEF\u5F84 <code>/</code> + <code>static-path-pattern</code> + <code>\u9759\u6001\u8D44\u6E90\u540D</code> \uFF0C\u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u5BF9\u5E94\u7684\u9759\u6001\u8D44\u6E90\u3002</p><p>\u8BBF\u95EE\u5730\u5740\uFF1Ahttp://localhost:8080/<strong>res</strong>/<strong>hello.jpg</strong>\uFF0C\u53BB\u9759\u6001\u8D44\u6E90\u6587\u4EF6\u5939\u91CC\u9762\u627E <strong>hello.jpg</strong>\u3002</p><p>2.1.3 webjar \u6620\u5C04</p><p>\u6240\u6709 <code>/webjars/**</code> \u8BF7\u6C42\uFF0C\u90FD\u4F1A\u53BB <code>classpath:/META-INF/resources/webjars/</code> \u4E0B\u627E\u8D44\u6E90\u3002</p><p><strong>webjars</strong>\uFF1A\u4EE5 jar \u5305\u7684\u65B9\u5F0F\u5F15\u5165\u9759\u6001\u8D44\u6E90\u3002</p><p>http://www.webjars.org</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- \u5F15\u5165jquery-webjar --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.webjars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jquery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/webjars.png" alt="webjars"></p><p>\u8BBF\u95EE\u5730\u5740\uFF1Ahttp://localhost:8080/webjars/<strong>jquery/3.5.0/jquery.js</strong>\uFF0C\u540E\u9762\u5730\u5740\u8981\u6309\u7167\u4F9D\u8D56\u91CC\u9762\u7684\u5305\u8DEF\u5F84\uFF0C\u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u5BF9\u5E94\u7684\u9759\u6001\u8D44\u6E90\u3002</p><h4 id="_2-1-3-\u4FEE\u6539\u9759\u6001\u8D44\u6E90\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#_2-1-3-\u4FEE\u6539\u9759\u6001\u8D44\u6E90\u8DEF\u5F84" aria-hidden="true">#</a> 2.1.3 \u4FEE\u6539\u9759\u6001\u8D44\u6E90\u8DEF\u5F84</h4><p>\u6539\u53D8\u9ED8\u8BA4\u7684\u9759\u6001\u8D44\u6E90\u524D\u7F00\u548C\u76EE\u5F55\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">static-path-pattern</span><span class="token punctuation">:</span> /res/<span class="token important">**</span> <span class="token comment"># \u4FEE\u6539\u524D\u7F00</span>
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">static-locations</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>classpath<span class="token punctuation">:</span>/haha/<span class="token punctuation">]</span> <span class="token comment"># \u4FEE\u6539\u76EE\u5F55</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBF\u95EE\u5730\u5740\uFF1Ahttp://localhost:8080/<strong>res</strong>/<strong>haha</strong>/<strong>hello.jpg</strong>\uFF0C\u53BB\u9759\u6001\u8D44\u6E90\u76EE\u5F55\u4E0B\u627E <strong>hello.jpg</strong>\u3002</p><h3 id="_2-2-\u6B22\u8FCE\u9875" tabindex="-1"><a class="header-anchor" href="#_2-2-\u6B22\u8FCE\u9875" aria-hidden="true">#</a> 2.2 \u6B22\u8FCE\u9875</h3><p>\u9759\u6001\u8D44\u6E90\u8DEF\u5F84\u4E0B\u7684\u6240\u6709 <strong>index.html</strong> \u9875\u9762\uFF0C\u88AB <code>/**</code> \u6620\u5C04\u3002</p><ul><li>\u53EF\u4EE5\u914D\u7F6E\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u76EE\u5F55\uFF1B</li><li>\u4F46\u662F\u4E0D\u80FD\u914D\u7F6E\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u524D\u7F00\uFF0C\u5426\u5219\u5BFC\u81F4 <strong>index.html</strong> \u4E0D\u80FD\u88AB\u9ED8\u8BA4\u8BBF\u95EE\uFF1B</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
<span class="token comment">#  mvc:</span>
<span class="token comment">#    static-path-pattern: /res/** # \u8FD9\u4E2A\u4F1A\u5BFC\u81F4 Welcome Page \u529F\u80FD\u5931\u6548</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBF\u95EE\u5730\u5740\uFF1Ahttp://localhost:8080/\uFF0C\u5C31\u4F1A\u53BB\u9759\u6001\u8D44\u6E90\u76EE\u5F55\u4E0B\u627E <strong>index.html</strong> \u9875\u9762\u3002</p><p>Controller \u80FD\u5904\u7406 <code>/index</code> \u8BF7\u6C42\u3002</p><h3 id="_2-3-\u81EA\u5B9A\u4E49-favicon" tabindex="-1"><a class="header-anchor" href="#_2-3-\u81EA\u5B9A\u4E49-favicon" aria-hidden="true">#</a> 2.3 \u81EA\u5B9A\u4E49 Favicon</h3><p>\u5C06 <code>favicon.ico</code> \u653E\u5728\u9759\u6001\u8D44\u6E90\u76EE\u5F55\u4E0B\u5373\u53EF\u3002</p><p>\u8DDF\u300C\u6B22\u8FCE\u9875\u300D\u4E00\u6837\uFF0C\u4E0D\u80FD\u914D\u7F6E\u9759\u6001\u8D44\u6E90\u8BBF\u95EE\u524D\u7F00\uFF0C\u5426\u5219\u4E0D\u80FD\u8BBF\u95EE\u81EA\u5B9A\u4E49\u56FE\u6807\u3002</p><h3 id="_2-4-\u9759\u6001\u8D44\u6E90\u914D\u7F6E\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_2-4-\u9759\u6001\u8D44\u6E90\u914D\u7F6E\u539F\u7406" aria-hidden="true">#</a> 2.4 \u9759\u6001\u8D44\u6E90\u914D\u7F6E\u539F\u7406</h3><ul><li>SpringBoot \u542F\u52A8\u9ED8\u8BA4\u52A0\u8F7D <code>xxxAutoConfiguration</code> \u7C7B\uFF08\u81EA\u52A8\u914D\u7F6E\u7C7B\uFF09\u3002</li><li>SpringMVC \u529F\u80FD\u7684\u81EA\u52A8\u914D\u7F6E\u7C7B <code>WebMvcAutoConfiguration</code> \u751F\u6548\u3002</li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
@ConditionalOnWebApplication(type = Type.SERVLET)
@ConditionalOnClass({Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class})
@ConditionalOnMissingBean({WebMvcConfigurationSupport.class})
@AutoConfigureOrder(-2147483638)
@AutoConfigureAfter({DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class})
public class WebMvcAutoConfiguration {
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>\u67E5\u770B <code>WebMvcConfigurer</code> \u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B <code>WebMvcAutoConfigurationAdapter</code>\uFF0C\u770B\u770B\u7ED9\u5BB9\u5668\u4E2D\u914D\u7F6E\u4E86\u4EC0\u4E48</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
@Import({WebMvcAutoConfiguration.EnableWebMvcConfiguration.class})
@EnableConfigurationProperties({WebMvcProperties.class, ResourceProperties.class, WebProperties.class})
@Order(0)
public static class WebMvcAutoConfigurationAdapter implements WebMvcConfigurer, ServletContextAware {
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u914D\u7F6E\u7C7B\u548C\u914D\u7F6E\u6587\u4EF6\u7684\u76F8\u5173\u5C5E\u6027 <code>spring.xxx</code> \u8FDB\u884C\u4E86\u7ED1\u5B9A\u3002</p><ul><li><p><code>WebMvcProperties</code> \u7ED1\u5B9A <code>spring.mvc</code></p></li><li><p><code>ResourceProperties</code>\uFF08\u5DF2\u8FC7\u65F6\uFF09 \u7ED1\u5B9A <code>spring.resources</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Deprecated</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.resources&quot;</span><span class="token punctuation">,</span> ignoreUnknownFields <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResourceProperties</span> <span class="token keyword">extends</span> <span class="token class-name">Resources</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>WebProperties</code> \u7ED1\u5B9A <code>spring.web</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span><span class="token string">&quot;spring.web&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebProperties</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Resources</span> <span class="token punctuation">{</span>

		<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> CLASSPATH_RESOURCE_LOCATIONS <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;classpath:/META-INF/resources/&quot;</span><span class="token punctuation">,</span>
				<span class="token string">&quot;classpath:/resources/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;classpath:/static/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;classpath:/public/&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token doc-comment comment">/**
		 * Locations of static resources. Defaults to classpath:[/META-INF/resources/,
		 * /resources/, /static/, /public/].
		 */</span>
		<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> staticLocations <span class="token operator">=</span> CLASSPATH_RESOURCE_LOCATIONS<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h4 id="_2-4-1-\u914D\u7F6E\u552F\u4E00\u7684\u6709\u53C2\u7C7B\u6784\u9020\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-1-\u914D\u7F6E\u552F\u4E00\u7684\u6709\u53C2\u7C7B\u6784\u9020\u51FD\u6570" aria-hidden="true">#</a> 2.4.1 \u914D\u7F6E\u552F\u4E00\u7684\u6709\u53C2\u7C7B\u6784\u9020\u51FD\u6570</h4><p>org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration.<code>WebMvcAutoConfigurationAdapter#WebMvcAutoConfigurationAdapter()</code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// \u6709\u53C2\u6784\u9020\u5668\u6240\u6709\u53C2\u6570\u7684\u503C\u90FD\u4F1A\u4ECE\u5BB9\u5668\u4E2D\u83B7\u53D6
// ResourceProperties\uFF1A\u83B7\u53D6\u548C spring.resources \u7ED1\u5B9A\u7684\u6240\u6709\u7684\u503C\u7684\u5BF9\u8C61
// WebMvcProperties\uFF1A\u83B7\u53D6\u548C spring.mvc \u7ED1\u5B9A\u7684\u6240\u6709\u7684\u503C\u7684\u5BF9\u8C61
// ListableBeanFactory\uFF1ASpring \u7684 beanFactory
// HttpMessageConverters\uFF1A\u627E\u5230\u6240\u6709\u7684 HttpMessageConverters
// ResourceHandlerRegistrationCustomizer\uFF1A\u627E\u5230\u8D44\u6E90\u5904\u7406\u5668\u7684\u81EA\u5B9A\u4E49\u5668\u3002
// DispatcherServletPath\uFF1A\u914D\u7F6E\u8BBF\u95EE\u8DEF\u5F84
// ServletRegistrationBean\uFF1A\u7ED9\u5E94\u7528\u6CE8\u518C Listener -&gt; Fliter -&gt; Servlet
public WebMvcAutoConfigurationAdapter (ResourceProperties resourceProperties, WebMvcProperties mvcProperties,
                                       ListableBeanFactory beanFactory, ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider,
                                       ObjectProvider&lt;ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider,
                                       ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath,
                                       ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations) {
    this.resourceProperties = resourceProperties;
    this.mvcProperties = mvcProperties;
    this.beanFactory = beanFactory;
    this.messageConvertersProvider = messageConvertersProvider;
    this.resourceHandlerRegistrationCustomizer = resourceHandlerRegistrationCustomizerProvider.getIfAvailable ();
    this.dispatcherServletPath = dispatcherServletPath;
    this.servletRegistrations = servletRegistrations;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-2-\u9759\u6001\u8D44\u6E90\u548C-webjars-\u7684\u5904\u7406\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_2-4-2-\u9759\u6001\u8D44\u6E90\u548C-webjars-\u7684\u5904\u7406\u89C4\u5219" aria-hidden="true">#</a> 2.4.2 \u9759\u6001\u8D44\u6E90\u548C webjars \u7684\u5904\u7406\u89C4\u5219</h4><p>org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration.<code>WebMvcAutoConfigurationAdapter#addResourceHandlers()</code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Override
public void addResourceHandlers (ResourceHandlerRegistry registry) {
    if (!this.resourceProperties.isAddMappings ()) {
        logger.debug (&quot;Default resource handling disabled&quot;);
        return;
    }
    Duration cachePeriod = this.resourceProperties.getCache ().getPeriod ();
    CacheControl cacheControl = this.resourceProperties.getCache ().getCachecontrol ().toHttpCacheControl ();
    // webjars \u7684\u5904\u7406\u89C4\u5219
    if (!registry.hasMappingForPattern (&quot;/webjars/**&quot;)) {
        customizeResourceHandlerRegistration (registry.addResourceHandler (&quot;/webjars/**&quot;)
                                              .addResourceLocations (&quot;classpath:/META-INF/resources/webjars/&quot;)
                                              .setCachePeriod (getSeconds (cachePeriod)).setCacheControl (cacheControl));
    }
    // \u9759\u6001\u8D44\u6E90\u7684\u5904\u7406\u89C4\u5219
    String staticPathPattern = this.mvcProperties.getStaticPathPattern ();
    if (!registry.hasMappingForPattern (staticPathPattern)) {
        customizeResourceHandlerRegistration (registry.addResourceHandler (staticPathPattern)
                                              .addResourceLocations (getResourceLocations (this.resourceProperties.getStaticLocations ()))
                                              .setCachePeriod (getSeconds (cachePeriod)).setCacheControl (cacheControl));
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-3-\u6B22\u8FCE\u9875\u7684\u5904\u7406\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_2-4-3-\u6B22\u8FCE\u9875\u7684\u5904\u7406\u89C4\u5219" aria-hidden="true">#</a> 2.4.3 \u6B22\u8FCE\u9875\u7684\u5904\u7406\u89C4\u5219</h4><p>org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration.<code>EnableWebMvcConfiguration#welcomePageHandlerMapping()</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u914D\u7F6E\u6B22\u8FCE\u9875\u6620\u5C04</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">WelcomePageHandlerMapping</span> <span class="token function">welcomePageHandlerMapping</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">,</span>
                                                           <span class="token class-name">FormattingConversionService</span> mvcConversionService<span class="token punctuation">,</span> <span class="token class-name">ResourceUrlProvider</span> mvcResourceUrlProvider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">WelcomePageHandlerMapping</span> welcomePageHandlerMapping <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WelcomePageHandlerMapping</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TemplateAvailabilityProviders</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">)</span><span class="token punctuation">,</span> applicationContext<span class="token punctuation">,</span> <span class="token function">getWelcomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getStaticPathPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    welcomePageHandlerMapping<span class="token punctuation">.</span><span class="token function">setInterceptors</span><span class="token punctuation">(</span><span class="token function">getInterceptors</span><span class="token punctuation">(</span>mvcConversionService<span class="token punctuation">,</span> mvcResourceUrlProvider<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    welcomePageHandlerMapping<span class="token punctuation">.</span><span class="token function">setCorsConfigurations</span><span class="token punctuation">(</span><span class="token function">getCorsConfigurations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> welcomePageHandlerMapping<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// WelcomePageHandlerMapping \u7C7B\u7684\u552F\u4E00\u6709\u53C2\u6784\u9020\u51FD\u6570</span>
<span class="token class-name">WelcomePageHandlerMapping</span><span class="token punctuation">(</span><span class="token class-name">TemplateAvailabilityProviders</span> templateAvailabilityProviders<span class="token punctuation">,</span>
                          <span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">,</span> <span class="token class-name">Resource</span> welcomePage<span class="token punctuation">,</span> <span class="token class-name">String</span> staticPathPattern<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>welcomePage <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;/**&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>staticPathPattern<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8981\u7528\u6B22\u8FCE\u9875\uFF0C\u5FC5\u987B\u4F7F\u7528\u9ED8\u8BA4\u7684\u9759\u6001\u8D44\u6E90\u76EE\u5F55 /**</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Adding welcome page: &quot;</span> <span class="token operator">+</span> welcomePage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setRootViewName</span><span class="token punctuation">(</span><span class="token string">&quot;forward:index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">welcomeTemplateExists</span><span class="token punctuation">(</span>templateAvailabilityProviders<span class="token punctuation">,</span> applicationContext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8C03\u7528 Controller \u5904\u7406 /index \u8BF7\u6C42</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Adding welcome page template: index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setRootViewName</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-4-favicon-\u7684\u5904\u7406\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_2-4-4-favicon-\u7684\u5904\u7406\u89C4\u5219" aria-hidden="true">#</a> 2.4.4 Favicon \u7684\u5904\u7406\u89C4\u5219</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// \u914D\u7F6E\u559C\u6B22\u7684\u56FE\u6807
@Configuration
@ConditionalOnProperty(value = &quot;spring.mvc.favicon.enabled&quot;, matchIfMissing = true)
public static class FaviconConfiguration {

    private final ResourceProperties resourceProperties;

    public FaviconConfiguration(ResourceProperties resourceProperties) {
        this.resourceProperties = resourceProperties;
    }

    @Bean
    public SimpleUrlHandlerMapping faviconHandlerMapping() {
        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();
        mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1);
        // \u6620\u5C04\u6240\u6709 **/favicon.ico 
        mapping.setUrlMap(Collections.singletonMap(&quot;**/favicon.ico&quot;,
                faviconRequestHandler()));
        return mapping;
    }

    @Bean
    public ResourceHttpRequestHandler faviconRequestHandler() {
        ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler();
        requestHandler
                .setLocations(this.resourceProperties.getFaviconLocations());
        return requestHandler;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B0\u7248\u672C\u6CA1\u6709\u8FD9\u4E2A\u7C7B\u4E86\uFF0C\u627E\u5230\u4E86\u4E0B\u9762\u8FD9\u4E2A\u7C7B\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>public enum StaticResourceLocation {
	CSS(&quot;/css/**&quot;),
	JAVA_SCRIPT(&quot;/js/**&quot;),
	IMAGES(&quot;/images/**&quot;),
	WEB_JARS(&quot;/webjars/**&quot;),
	FAVICON(&quot;/favicon.*&quot;, &quot;/*/icon-*&quot;);

	private final String[] patterns;

	StaticResourceLocation(String... patterns) {
		this.patterns = patterns;
	}

	public Stream&lt;String&gt; getPatterns() {
		return Arrays.stream(this.patterns);
	}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3\u3001\u8BF7\u6C42\u54CD\u5E94\u53C2\u6570\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u8BF7\u6C42\u54CD\u5E94\u53C2\u6570\u5904\u7406" aria-hidden="true">#</a> 3\u3001\u8BF7\u6C42\u54CD\u5E94\u53C2\u6570\u5904\u7406</h2><h3 id="_3-1-\u8BF7\u6C42\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#_3-1-\u8BF7\u6C42\u6620\u5C04" aria-hidden="true">#</a> 3.1 \u8BF7\u6C42\u6620\u5C04</h3><h4 id="_3-1-1-rest-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-1-1-rest-\u4F7F\u7528" aria-hidden="true">#</a> 3.1.1 REST \u4F7F\u7528</h4><ul><li><p><code>@xxxMapping</code>\uFF08<code>@GetMapping</code>\u3001<code>@PostMapping</code>\u3001<code>@PutMapping</code>\u3001<code>@DeleteMapping</code>\uFF0C<code>@PatchMapping</code>\u662F\u5BF9 Put \u7684\u8865\u5145\uFF0C\u533A\u522B\u662F Patch \u662F\u90E8\u5206\u66F4\u65B0\uFF0CPut \u662F\u5168\u90E8\u66F4\u65B0\uFF0C\u8FD9\u4E9B\u6CE8\u89E3\u90FD\u662F Spring4.3 \u5F15\u5165\u7684\uFF09\uFF1B</p></li><li><p><strong>REST</strong> \u98CE\u683C\u652F\u6301\uFF08\u4F7F\u7528 <strong>HTTP</strong> \u8BF7\u6C42\u65B9\u5F0F\u52A8\u8BCD\u6765\u8868\u793A\u5BF9\u8D44\u6E90\u7684\u64CD\u4F5C\uFF09</p></li></ul><table><thead><tr><th>\u64CD\u4F5C</th><th>\u4EE5\u524D</th><th>\u73B0\u5728\uFF08REST \u98CE\u683C\uFF09</th></tr></thead><tbody><tr><td>\u83B7\u53D6\u7528\u6237</td><td>/getUser \u7684 GET \u8BF7\u6C42</td><td>/user/id \u7684 GET \u8BF7\u6C42</td></tr><tr><td>\u4FDD\u5B58\u7528\u6237</td><td>/saveUser \u7684 POST \u8BF7\u6C42</td><td>/user/id \u7684 POST \u8BF7\u6C42</td></tr><tr><td>\u4FEE\u6539\u7528\u6237</td><td>/editUser \u7684 POST \u8BF7\u6C42</td><td>/user/id \u7684 PUT \u8BF7\u6C42</td></tr><tr><td>\u5220\u9664\u7528\u6237</td><td>/deleteUser \u7684 POST \u8BF7\u6C42</td><td>/user/id \u7684 DELETE \u8BF7\u6C42</td></tr></tbody></table><ul><li>\u6838\u5FC3\u8FC7\u6EE4\u5668\uFF1A\u6D4F\u89C8\u5668 <strong>form</strong> \u8868\u5355\u53EA\u652F\u6301 GET \u4E0E POST \u8BF7\u6C42\uFF0C\u800C DELETE\u3001PUT \u7B49 method \u5E76\u4E0D\u652F\u6301\uFF0CSpring 3.0 \u6DFB\u52A0\u4E86\u4E00\u4E2A\u8FC7\u6EE4\u5668 <code>HiddenHttpMethodFilter</code>\uFF0C\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u8BF7\u6C42\u8F6C\u6362\u4E3A\u6807\u51C6\u7684 <strong>HTTP</strong> \u65B9\u6CD5\uFF0C\u4F7F\u5F97\u652F\u6301 GET\u3001POST\u3001PUT \u4E0E DELETE \u8BF7\u6C42\u3002</li></ul><p>\u7528\u6CD5\uFF1A SpringBoot \u4E2D\u624B\u52A8\u5F00\u542F <strong>REST</strong> \u652F\u6301\uFF0C\u8868\u5355 <code>method=post</code>\uFF0C\u9690\u85CF\u57DF <code>_method=put</code>\u3002</p><p>\u6269\u5C55\uFF1A\u5982\u4F55\u628A <code>_method</code> \u8FD9\u4E2A\u540D\u5B57\u6362\u6210\u6211\u4EEC\u81EA\u5DF1\u559C\u6B22\u7684\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;GET-\u5F20\u4E09&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;POST-\u5F20\u4E09&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>PUT<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">putUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;PUT-\u5F20\u4E09&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>DELETE<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;DELETE-\u5F20\u4E09&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">HiddenHttpMethodFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.mvc.hiddenmethod.filter&quot;</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">OrderedHiddenHttpMethodFilter</span> <span class="token function">hiddenHttpMethodFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OrderedHiddenHttpMethodFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u81EA\u5B9A\u4E49 HiddenHttpMethodFilter\uFF0C\u5C06\u9690\u85CF\u57DF\u65B9\u6CD5\u540D\u6362\u6210\u81EA\u5DF1\u559C\u6B22\u7684 _m</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">HiddenHttpMethodFilter</span> <span class="token function">hiddenHttpMethodFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">HiddenHttpMethodFilter</span> methodFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HiddenHttpMethodFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    methodFilter<span class="token punctuation">.</span><span class="token function">setMethodParam</span><span class="token punctuation">(</span><span class="token string">&quot;_m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> methodFilter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-2-rest-\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_3-1-2-rest-\u539F\u7406" aria-hidden="true">#</a> 3.1.2 REST \u539F\u7406</h4><p>\u539F\u7406\uFF08\u8868\u5355\u63D0\u4EA4\u8981\u4F7F\u7528 <strong>REST</strong> \u7684\u65F6\u5019\uFF09</p><ul><li><p>\u8868\u5355\u63D0\u4EA4\u4F1A\u5E26\u4E0A <code>_method=\u4F7F\u7528\u7684\u65B9\u6CD5</code>\u3002</p></li><li><p>\u8BF7\u6C42\u8FC7\u6765\u88AB <code>HiddenHttpMethodFilter</code> \u62E6\u622A\u3002</p><ul><li><p>\u8BF7\u6C42\u662F\u5426\u6B63\u5E38\uFF0C\u5E76\u4E14\u662F <strong>POST</strong>\u3002</p><ul><li><p>\u83B7\u53D6\u5230 <code>_method</code> \u7684\u503C\uFF0C\u7EDF\u4E00\u8F6C\u6362\u6210\u5927\u5199\u3002</p></li><li><p>\u517C\u5BB9\u4EE5\u4E0B\u8BF7\u6C42\uFF1A<strong>PUT</strong>\u3001<strong>DELETE</strong>\u3001<strong>PATCH</strong>\u3002</p></li><li><p>\u539F\u751F <code>request(post)</code>\uFF0C\u5305\u88C5\u6A21\u5F0F <code>requesWrapper</code> \u91CD\u5199\u4E86 <code>getMethod</code> \u65B9\u6CD5\uFF0C\u8FD4\u56DE\u7684\u662F\u4F20\u5165\u7684\u503C\u3002</p></li><li><p>\u8FC7\u6EE4\u5668\u94FE\u653E\u884C\u7684\u65F6\u5019\u7528 <code>wrapper</code>\uFF0C\u4EE5\u540E\u7684\u65B9\u6CD5\u8C03\u7528 <code>getMethod</code> \u662F\u8C03\u7528 <code>requesWrapper</code> \u7684\u3002</p></li></ul></li></ul></li></ul><p><strong>\u4F7F\u7528\u5BA2\u6237\u7AEF\u5DE5\u5177\u53D1\u9001 REST \u8BF7\u6C42</strong></p><ul><li>\u5982 PostMan \u76F4\u63A5\u53D1\u9001 Put\u3001Delete \u7B49\u65B9\u5F0F\u8BF7\u6C42\uFF0C\u65E0\u9700 Filter\u3002</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">hiddenmethod</span><span class="token punctuation">:</span>
      <span class="token key atrule">filter</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>   <span class="token comment">#\u5F00\u542F\u9875\u9762\u8868\u5355\u7684 REST \u529F\u80FD</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-3-\u8BF7\u6C42\u6620\u5C04\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_3-1-3-\u8BF7\u6C42\u6620\u5C04\u539F\u7406" aria-hidden="true">#</a> 3.1.3 \u8BF7\u6C42\u6620\u5C04\u539F\u7406</h4><p><img src="https://qiniu.dyl.fit/\u8BF7\u6C42\u6620\u5C04\u539F\u7406.png" alt="\u8BF7\u6C42\u6620\u5C04\u539F\u7406"></p><p>SpringMVC \u529F\u80FD\u5206\u6790\u90FD\u4ECE org.springframework.web.servlet.<code>DispatcherServlet.doDispatch()</code> \u65B9\u6CD5\u5F00\u59CB\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {
    HttpServletRequest processedRequest = request;
    HandlerExecutionChain mappedHandler = null;
    boolean multipartRequestParsed = false;
    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);

    try {
        try {
            ModelAndView mv = null;
            Object dispatchException = null;

            try {
                processedRequest = this.checkMultipart(request);
                multipartRequestParsed = processedRequest != request;
                // \u627E\u5230\u5F53\u524D\u8BF7\u6C42\u4F7F\u7528\u54EA\u4E2A Handler\uFF08Controller \u7684\u65B9\u6CD5\uFF09\u5904\u7406
                mappedHandler = this.getHandler(processedRequest);
            
@Nullable
protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception {
    if (this.handlerMappings != null) {
        Iterator var2 = this.handlerMappings.iterator();
        while(var2.hasNext()) {
            HandlerMapping mapping = (HandlerMapping)var2.next();
            HandlerExecutionChain handler = mapping.getHandler(request);
            if (handler != null) {
                return handler;
            }
        }
    }
    return null;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/handlerMappings.png" alt="handlerMappings"></p><p><code>RequestMappingHandlerMapping</code>\uFF1A\u4FDD\u5B58\u4E86\u6240\u6709 <code>@RequestMapping</code>\uFF08\u8BF7\u6C42\u8DEF\u5F84\uFF09 \u548C <code>Handlerg</code>\uFF08<code>Controller</code> \u7684\u65B9\u6CD5\uFF09 \u7684\u6620\u5C04\u89C4\u5219\u3002</p><p><img src="https://qiniu.dyl.fit/RequestMappingHandlerMapping.png" alt="RequestMappingHandlerMapping"></p><p>\u6240\u6709\u7684\u8BF7\u6C42\u6620\u5C04\u90FD\u5728 <code>HandlerMapping</code> \u4E2D\u3002</p><ul><li><p>SpringBoot \u81EA\u52A8\u914D\u7F6E\u6B22\u8FCE\u9875\u7684 <code>WelcomePageHandlerMapping</code>\uFF0C\u8BBF\u95EE <code>/</code> \u80FD\u8BBF\u95EE\u5230<strong>index.html</strong>\uFF1B</p></li><li><p>SpringBoot \u81EA\u52A8\u914D\u7F6E\u4E86\u9ED8\u8BA4\u7684 <code>RequestMappingHandlerMapping</code>\uFF1A</p></li><li><p>\u8BF7\u6C42\u8FDB\u6765\uFF0C\u6328\u4E2A\u5C1D\u8BD5\u6240\u6709\u7684 <code>HandlerMapping</code> \u770B\u662F\u5426\u6709\u8BF7\u6C42\u4FE1\u606F\uFF1B</p></li><li><p>\u5982\u679C\u6709\uFF0C\u5C31\u627E\u5230\u8FD9\u4E2A\u8BF7\u6C42\u5BF9\u5E94\u7684 <code>Handler</code>\uFF1B</p></li><li><p>\u5982\u679C\u6CA1\u6709\uFF0C\u5C31\u904D\u5386\u4E0B\u4E00\u4E2A <code>HandlerMapping</code>\uFF1B</p></li></ul><p>\u5982\u679C\u6211\u4EEC\u9700\u8981\u4E00\u4E9B\u81EA\u5B9A\u4E49\u7684\u6620\u5C04\u5904\u7406\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7ED9\u5BB9\u5668\u4E2D\u653E <strong>HandlerMapping</strong> \u6765\u81EA\u5B9A\u4E49 <strong>HandlerMapping</strong></p><p><img src="https://qiniu.dyl.fit/Spring MVC \u7684\u8FD0\u884C\u539F\u7406\u4E0E\u673A\u5236.png" alt="Spring MVC \u7684\u8FD0\u884C\u539F\u7406\u4E0E\u673A\u5236"></p><p>\u6709\u7684\u65F6\u5019\uFF0C\u6BD4\u5982\u8BF4\u540C\u4E00\u7EC4 API \u6709\u4E0D\u540C\u7684\u7248\u672C\u5982 v1\uFF0Cv2\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728 <code>Controller</code> \u4E2D\u5199\u4E24\u7EC4mapping\uFF08\u6BD4\u5982 <code>v1/user</code>\uFF0C<code>v2/user</code>\uFF09\u3002\u4F46\u540C\u65F6\u6211\u4EEC\u4E5F\u53EF\u4EE5\u653E\u5728\u4E24\u4E2A\u5305\u4E0B\uFF0C\u90FD\u662F <code>/user</code>\uFF0C\u8FD9\u4E2A\u65F6\u5019\u6211\u4EEC\u5C31\u53EF\u4EE5\u81EA\u5B9A\u4E49 <code>HandlerMapping</code>\uFF0C\u628A <code>v1/user</code> \u6620\u5C04\u5230\u4E00\u4E2A\u5305\u4E0B\u7684 <code>/user</code>\uFF0C\u628A <code>v2/user</code>\u6620\u5C04\u5230\u53E6\u5916\u4E00\u4E2A\u5305\u4E0B\u7684 <code>/user</code>\u3002</p><h3 id="_3-2-\u666E\u901A\u53C2\u6570\u4E0E\u57FA\u672C\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-2-\u666E\u901A\u53C2\u6570\u4E0E\u57FA\u672C\u6CE8\u89E3" aria-hidden="true">#</a> 3.2 \u666E\u901A\u53C2\u6570\u4E0E\u57FA\u672C\u6CE8\u89E3</h3><h4 id="_3-2-1-\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-2-1-\u6CE8\u89E3" aria-hidden="true">#</a> 3.2.1 \u6CE8\u89E3</h4><ul><li><code>@PathVariable</code>\uFF1A\u8BF7\u6C42\u8DEF\u5F84\u4E2D\u7684\u503C</li><li><code>@RequestParam</code>\uFF1A\u8BF7\u6C42\u53C2\u6570\u4E2D\u7684\u503C</li><li><code>@RequestHeader</code>\uFF1A\u8BF7\u6C42 Header \u4E2D\u7684\u503C</li><li><code>@RequestBody</code>\uFF1A\u8BF7\u6C42 Body \u4E2D\u7684\u503C</li><li><code>@ModelAttribute</code>\uFF1A\u7ED1\u5B9A\u8BF7\u6C42\u53C2\u6570\u5230\u5B9E\u4F53\u5BF9\u8C61</li><li><code>@CookieValue</code>\uFF1A\u83B7\u53D6\u6D4F\u89C8\u5668\u4E2D\u7684 Cookie \u503C</li><li><code>@MatrixVariable</code>\uFF1A\u4EE5\u5206\u53F7\u5206\u9694\u7684\u77E9\u9635\u53D8\u91CF\u952E\u503C\u5BF9\uFF0C\u5F62\u5982 <strong>;name1=value1;name2=value2,value3</strong></li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@RestController

public class ParameterTestController {
    // \u8BF7\u6C42\u8DEF\u5F84\uFF1Acar/2/owner/zhangsan
    @GetMapping(&quot;/car/{id}/owner/{username}&quot;)
    public Map&lt;String, Object&gt; getCar(@PathVariable(&quot;id&quot;) Integer id, @PathVariable(&quot;username&quot;) String name, @PathVariable Map&lt;String, String&gt; pv, @RequestHeader(&quot;User-Agent&quot;) String userAgent, @RequestHeader Map&lt;String, String&gt; header, @RequestParam(&quot;age&quot;) Integer age, @RequestParam(&quot;inters&quot;) List&lt;String&gt; inters, @RequestParam Map&lt;String, String&gt; params, @CookieValue(&quot;_ga&quot;) String _ga, @CookieValue(&quot;_ga&quot;) Cookie cookie) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        //        map.put(&quot;id&quot;,id);
        //        map.put(&quot;name&quot;,name);
        //        map.put(&quot;pv&quot;,pv);
        //        map.put(&quot;userAgent&quot;,userAgent);
        //        map.put(&quot;headers&quot;,header);
        map.put(&quot;age&quot;, age);
        map.put(&quot;inters&quot;, inters);
        map.put(&quot;params&quot;, params);
        map.put(&quot;_ga&quot;, _ga);
        System.out.println(cookie.getName() + &quot;===&gt;&quot; + cookie.getValue());
        return map;
    }

    @PostMapping(&quot;/save&quot;)
    public Map postMethod(@RequestBody String content) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;content&quot;, content);
        return map;
    }

    //1\u3001\u8BF7\u6C42\u8DEF\u5F84\uFF1A/cars/sell;low=34;brand=byd,audi,yd
    // 2\u3001SpringBoot \u9ED8\u8BA4\u7981\u7528\u4E86\u77E9\u9635\u53D8\u91CF\u7684\u529F\u80FD    
    // \u624B\u52A8\u5F00\u542F\u7684\u539F\u7406\uFF1AURL \u8DEF\u5F84\u4F7F\u7528 UrlPathHelper \u8FDB\u884C\u89E3\u6790\u3002
    // \u5B9E\u73B0 WebMvcConfigurer \u63A5\u53E3\uFF0C\u91CD\u5199 configurePathMatch()    
    //  \u5C06 removeSemicolonContent \u8BBE\u7F6E\u4E3A false \u5373\u53EF\u5F00\u542F\u3002    
    // 3\u3001\u77E9\u9635\u53D8\u91CF\u5FC5\u987B\u6709 URL \u8DEF\u5F84\u53D8\u91CF\u624D\u80FD\u88AB\u89E3\u6790    
    @GetMapping(&quot;/cars/{path}&quot;)
    public Map carsSell(@MatrixVariable(&quot;low&quot;) Integer low, @MatrixVariable(&quot;brand&quot;) List&lt;String&gt; brand, @PathVariable(&quot;path&quot;) String path) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;low&quot;, low);
        map.put(&quot;brand&quot;, brand);
        map.put(&quot;path&quot;, path);
        return map;
    }

    // \u8BF7\u6C42\u8DEF\u5F84\uFF1A/boss/1;age=20/2;age=10   
    @GetMapping(&quot;/boss/{bossId}/{empId}&quot;)
    public Map boss(@MatrixVariable(value = &quot;age&quot;, pathVar = &quot;bossId&quot;) Integer bossAge, @MatrixVariable(value = &quot;age&quot;, pathVar = &quot;empId&quot;) Integer empAge) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;bossAge&quot;, bossAge);
        map.put(&quot;empAge&quot;, empAge);
        return map;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-servlet-api" tabindex="-1"><a class="header-anchor" href="#_3-2-2-servlet-api" aria-hidden="true">#</a> 3.2.2 Servlet API</h4><p><code>WebRequest</code>\u3001<code>ServletRequest</code>\u3001<code>MultipartRequest</code>\u3001 <code>HttpSession</code>\u3001<code>PushBuilder</code>\u3001<code>Principal</code>\u3001<code>InputStream</code>\u3001<code>Reader</code>\u3001<code>HttpMethod</code>\u3001<code>Locale</code>\u3001<code>TimeZone</code>\u3001<code>ZoneId</code></p><p>\u4EE5\u4E0A\u53C2\u6570\u90FD\u662F\u5728 <code>ServletRequestMethodArgumentResolver.supportsParameter()</code> \u91CC\u5224\u65AD\u7684\uFF1A</p><p><img src="https://qiniu.dyl.fit/supportsParameter.png" alt="supportsParameter"></p><p>\u7136\u540E\u83B7\u53D6\u8BF7\u6C42\uFF1A</p><p><img src="https://qiniu.dyl.fit/\u83B7\u53D6\u8BF7\u6C42.png" alt="\u83B7\u53D6\u8BF7\u6C42"></p><h4 id="_3-2-3-\u590D\u6742\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_3-2-3-\u590D\u6742\u53C2\u6570" aria-hidden="true">#</a> 3.2.3 \u590D\u6742\u53C2\u6570</h4><p><code>Map</code>\u3001<code>Model</code>\u3001<code>Errors</code>/<code>BindingResult</code>\u3001<code>RedirectAttributes</code><strong>\uFF08 \u91CD\u5B9A\u5411\u643A\u5E26\u6570\u636E\uFF09</strong>\u3001<code>ServletResponse</code><strong>\uFF08response\uFF09</strong>\u3001<code>SessionStatus</code>\u3001<code>UriComponentsBuilder</code>\u3001<code>ServletUriComponentsBuilder</code></p><p>Map&lt;String, Object&gt; <code>map</code>\u3001Model <code>model</code>\u3001HttpServletRequest <code>request</code> \u90FD\u53EF\u4EE5\u7ED9 request \u57DF\u4E2D\u653E\u6570\u636E <code>request.setAttribute()</code>\u3002</p><p><code>Map</code>\u3001<code>Model</code>\u7C7B\u578B\u7684\u53C2\u6570\uFF0C\u4F1A\u8FD4\u56DE <code>mavContainer.getModel()</code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>    // ModelAndViewContainer\uFF1A\u6A21\u578B\u548C\u89C6\u56FE\u7684\u5BB9\u5668
    private final ModelMap defaultModel = new BindingAwareModelMap();

    public ModelMap getModel() {
        if (this.useDefaultModel()) {
            return this.defaultModel;
            // \u9ED8\u8BA4\u8FD4\u56DE BindingAwareModelMap\uFF0C\u65E2\u662F Model \u53C8\u662F Map    
        } else {
            if (this.redirectModel == null) {
                this.redirectModel = new ModelMap();
                // \u91CD\u5B9A\u5411\u4E3A\u7A7A\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u7A7A\u7684 LinkedHashMap        
            }
            return this.redirectModel; // \u8FD4\u56DE RedirectAttributesModelMap   
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/Model \u548C Map \u662F\u540C\u4E00\u4E2A\u5BF9\u8C61.png" alt="Model \u548C Map \u662F\u540C\u4E00\u4E2A\u5BF9\u8C61"></p><p><img src="https://qiniu.dyl.fit/defaultModel.png" alt="defaultModel"></p><h4 id="_3-2-4-\u81EA\u5B9A\u4E49\u5BF9\u8C61\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_3-2-4-\u81EA\u5B9A\u4E49\u5BF9\u8C61\u53C2\u6570" aria-hidden="true">#</a> 3.2.4 \u81EA\u5B9A\u4E49\u5BF9\u8C61\u53C2\u6570</h4><p>\u53EF\u4EE5\u81EA\u52A8\u7C7B\u578B\u8F6C\u6362\u4E0E\u683C\u5F0F\u5316\uFF0C\u8FD8\u53EF\u4EE5\u7EA7\u8054\u5C01\u88C5\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 * html \u4E2D\u5F15\u7528\u5BF9\u8C61\u53C2\u6570
 *     \u59D3\u540D\uFF1A &lt;input name=&quot;userName&quot;/&gt; &lt;br/&gt;
 *     \u5E74\u9F84\uFF1A &lt;input name=&quot;age&quot;/&gt; &lt;br/&gt;
 *     \u751F\u65E5\uFF1A &lt;input name=&quot;birth&quot;/&gt; &lt;br/&gt;
 *     \u5BA0\u7269\u59D3\u540D\uFF1A&lt;input name=&quot;pet.name&quot;/&gt;&lt;br/&gt;
 *     \u5BA0\u7269\u5E74\u9F84\uFF1A&lt;input name=&quot;pet.age&quot;/&gt;
 */
@Data
public class Person {
    private String userName;
    private Integer age;
    private Date birth;
    private Pet pet;
}

@Data
public class Pet {
    private String name;
    private String age;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-\u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570-pojo-\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#_3-3-\u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570-pojo-\u5C01\u88C5" aria-hidden="true">#</a> 3.3 \u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570\uFF1APOJO \u5C01\u88C5</h3><p><code>RequestParamMethodArgumentResolver</code> \u652F\u6301\u7B80\u5355\u7C7B\u578B\u7684\u8BF7\u6C42\u65B9\u6CD5\u53C2\u6570\uFF0C<code>ServletModelAttributeMethodProcessor</code> \u652F\u6301\u975E\u7B80\u5355\u7C7B\u578B\u7684\u8BF7\u6C42\u65B9\u6CD5\u53C2\u6570\u3002</p><p>\u6240\u4EE5\u5BF9\u4E8E\u8BF7\u6C42 http://localhost:8080/<strong>testCustomObj?name=\u5F20\u4E09&amp;age=18</strong>\uFF0C\u7531\u4E8E\u8BF7\u6C42\u65B9\u6CD5\u53C2\u6570<code>Employee</code> \u4E0D\u662F\u7B80\u5355\u7C7B\u578B\uFF0C\u6240\u4EE5\u4F1A\u8C03\u7528 <code>ServletModelAttributeMethodProcessor</code> \u5C06\u8BF7\u6C42\u53C2\u6570\u5C01\u88C5\u4E3A <code>Employee</code> \u5BF9\u8C61\u5E76\u8FD4\u56DE\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testCustomObj&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">testCustomObj</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-\u53C2\u6570\u5904\u7406\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_3-4-\u53C2\u6570\u5904\u7406\u539F\u7406" aria-hidden="true">#</a> 3.4 \u53C2\u6570\u5904\u7406\u539F\u7406</h3><ol><li><code>HandlerMapping</code> \u4E2D\u627E\u5230\u80FD\u5904\u7406\u8BF7\u6C42\u7684 <code>Handler</code>\uFF08<code>Controller</code> \u4E2D\u8BF7\u6C42\u5BF9\u5E94\u7684\u65B9\u6CD5\uFF09\uFF1B</li><li>\u4E3A\u5F53\u524D <code>Handler</code> \u627E\u4E00\u4E2A\u9002\u914D\u5668 <code>HandlerAdapter</code>\uFF0C\u5BF9\u4E8E\u8BF7\u6C42\u6765\u8BF4\u5C31\u662F <code>RequestMappingHandlerAdapter</code>\uFF1B</li><li>\u9002\u914D\u5668\u6267\u884C\u76EE\u6807\u65B9\u6CD5\u5E76\u786E\u5B9A\u65B9\u6CD5\u53C2\u6570\u7684\u6BCF\u4E00\u4E2A\u503C\u3002</li></ol><p><strong>\u62D3\u5C55\uFF1A</strong></p><p>SpringMVC \u5904\u7406\u8BF7\u6C42\u5927\u81F4\u662F\u8FD9\u6837\u7684\uFF1A</p><ol><li>\u9996\u5148\u88AB <code>DispatcherServlet</code> \u622A\u83B7\uFF0C<code>DispatcherServlet</code> \u901A\u8FC7 <code>handlerMapping</code> \u83B7\u5F97 <code>HandlerExecutionChain</code>\uFF0C\u7136\u540E\u83B7\u5F97 <code>HandlerAdapter</code>\u3002</li><li><code>HandlerAdapter</code> \u5728\u5185\u90E8\u5BF9\u4E8E\u6BCF\u4E2A\u8BF7\u6C42\uFF0C\u90FD\u4F1A\u5B9E\u4F8B\u5316\u4E00\u4E2A <code>ServletInvocableHandlerMethod</code> \u8FDB\u884C\u5904\u7406\uFF0C<code>ServletInvocableHandlerMethod</code> \u5728\u8FDB\u884C\u5904\u7406\u7684\u65F6\u5019\uFF0C\u4F1A\u5206\u4E24\u90E8\u5206\u522B\u5BF9<strong>\u8BF7\u6C42</strong>\u8DDF<strong>\u54CD\u5E94</strong>\u8FDB\u884C\u5904\u7406\u3002 <ol><li>\u5904\u7406\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u4F1A\u6839\u636E <code>ServletInvocableHandlerMethod</code> \u7684\u5C5E\u6027 <code>argumentResolvers</code>\uFF08\u8FD9\u4E2A\u5C5E\u6027\u662F\u5B83\u7684\u7236\u7C7B <code>InvocableHandlerMethod</code> \u4E2D\u5B9A\u4E49\u7684\uFF09\u8FDB\u884C\u5904\u7406\uFF0C\u5176\u4E2D <code>argumentResolvers</code> \u5C5E\u6027\u662F\u4E00\u4E2A <code>HandlerMethodArgumentResolverComposite</code> \u7C7B \uFF08\u8FD9\u91CC\u4F7F\u7528\u4E86<strong>\u7EC4\u5408\u6A21\u5F0F</strong>\u7684\u4E00\u79CD\u53D8\u5F62\uFF09\uFF0C\u8FD9\u4E2A\u7C7B\u662F\u5B9E\u73B0\u4E86 <code>HandlerMethodArgumentResolver</code> \u63A5\u53E3\u7684\u7C7B\uFF0C\u91CC\u9762\u6709\u5404\u79CD\u5B9E\u73B0\u4E86 <code>HandlerMethodArgumentResolver</code> \u7684 <strong>List</strong> \u96C6\u5408\u3002</li><li>\u5904\u7406\u54CD\u5E94\u7684\u65F6\u5019\uFF0C\u4F1A\u6839\u636E <code>ServletInvocableHandlerMethod</code> \u7684\u5C5E\u6027 <code>returnValueHandlers</code> (\u81EA\u8EAB\u5C5E\u6027) \u8FDB\u884C\u5904\u7406\uFF0C<code>returnValueHandlers</code> \u5C5E\u6027\u662F\u4E00\u4E2A <code>HandlerMethodReturnValueHandlerComposite</code> \u7C7B\uFF08\u8FD9\u91CC\u4F7F\u7528\u4E86<strong>\u7EC4\u5408\u6A21\u5F0F</strong>\u7684\u4E00\u79CD\u53D8\u5F62\uFF09\uFF0C\u8FD9\u4E2A\u7C7B\u662F\u5B9E\u73B0\u4E86 <code>HandlerMethodReturnValueHandler</code> \u63A5\u53E3\u7684\u7C7B\uFF0C\u91CC\u9762\u6709\u5404\u79CD\u5B9E\u73B0\u4E86 <code>HandlerMethodReturnValueHandler</code> \u7684 <strong>List</strong> \u96C6\u5408\u3002</li></ol></li><li>\u4E4B\u540E <code>HandlerAdapter</code> \u5F97\u5230 <code>ModelAndView</code>\uFF0C\u7136\u540E\u505A\u76F8\u5E94\u7684\u5904\u7406\u3002</li></ol><p>\u4EE5 <strong>Resolver</strong> \u7ED3\u5C3E\u7684\u7C7B\u662F\u5B9E\u73B0\u4E86 <code>HandlerMethodArgumentResolver</code> \u63A5\u53E3\u7684\u7C7B\uFF0C\u4EE5 <strong>Processor</strong> \u7ED3\u5C3E\u7684\u7C7B\u662F\u5B9E\u73B0\u4E86 <code>HandlerMethodArgumentResolver</code> \u548C <code>HandlerMethodReturnValueHandler</code> \u7684\u7C7B\u3002</p><ul><li><code>HandlerMethodArgumentResolver</code> \uFF1A\u5904\u7406\u8BF7\u6C42\u65B9\u6CD5\u7684\u53C2\u6570</li><li><code>HandlerMethodReturnValueHandler</code>\uFF1A\u5904\u7406\u8BF7\u6C42\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C</li></ul><p><img src="https://qiniu.dyl.fit/HandlerMethodReturnValueHandler.png" alt="HandlerMethodReturnValueHandler"></p>`,183),Tn={href:"https://www.cnblogs.com/fangjian0423/p/springMVC-request-param-analysis.html",target:"_blank",rel:"noopener noreferrer"},Jn=s("\u8BE6\u89E3 SpringMVC \u4E2D Controller \u7684\u65B9\u6CD5\u4E2D\u53C2\u6570\u7684\u5DE5\u4F5C\u539F\u7406"),In=e(`<h4 id="_3-4-1-\u5904\u7406\u5668\u7684\u9002\u914D\u5668handleradapter" tabindex="-1"><a class="header-anchor" href="#_3-4-1-\u5904\u7406\u5668\u7684\u9002\u914D\u5668handleradapter" aria-hidden="true">#</a> 3.4.1 \u5904\u7406\u5668\u7684\u9002\u914D\u5668HandlerAdapter</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// DispatcherServlet#getHandlerAdapterprotected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException {    if (this.handlerAdapters != null) {        for (HandlerAdapter adapter : this.handlerAdapters) {            if (adapter.supports(handler)) {                return adapter;            }        }    }    throw new ServletException(&quot;No adapter for handler [&quot; + handler +            &quot;]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler&quot;);}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603262942726-107353bd-f8b7-44f6-93cf-2a3cad4093cf.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_18%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="HandlerAdapter"></p><ul><li><code>RequestMappingHandlerAdapter</code> \uFF1A\u652F\u6301\u65B9\u6CD5\u4E0A\u6807\u6CE8 <code>@RequestMapping</code> \u7684\u9002\u914D\u5668\u3002</li><li><code>HandlerFunctionAdapter</code>\uFF1A\u652F\u6301\u51FD\u6570\u5F0F\u7F16\u7A0B\u7684\u9002\u914D\u5668\u3002</li><li><code>HttpRequestHandlerAdapter</code>\uFF1A\u65E0\u8FD4\u56DE\u503C\uFF0C\u7528\u4E8E\u5904\u7406\u9759\u6001\u8D44\u6E90\u3002</li><li><code>SimpleControllerHandlerAdapter</code>\uFF1A\u662F <code>Controller</code> \u5B9E\u73B0\u7C7B\u7684\u9002\u914D\u5668\u7C7B\uFF0C\u5176\u672C\u8D28\u662F\u6267\u884C <code>Controller</code> \u4E2D\u7684 <code>handleRequest</code> \u65B9\u6CD5\u3002</li></ul><h4 id="_3-4-2-\u6267\u884C\u76EE\u6807\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_3-4-2-\u6267\u884C\u76EE\u6807\u65B9\u6CD5" aria-hidden="true">#</a> 3.4.2 \u6267\u884C\u76EE\u6807\u65B9\u6CD5</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// DispatcherServlet#doDispatch// Actually invoke the handler.mv = ha.handle(processedRequest, response, mappedHandler.getHandler());// RequestMappingHandlerAdapter#handleInternalmav = invokeHandlerMethod(request, response, handlerMethod); //\u6267\u884C\u76EE\u6807\u65B9\u6CD5// RequestMappingHandlerAdapter#invokeHandlerMethodinvocableMethod.invokeAndHandle(webRequest, mavContainer);// ServletInvocableHandlerMethod#invokeAndHandleObject returnValue = invokeForRequest(webRequest, mavContainer, providedArgs);// InvocableHandlerMethod#invokeForRequestObject[] args = getMethodArgumentValues(request, mavContainer, providedArgs);return this.doInvoke(args); // \u901A\u8FC7\u53CD\u5C04\u8C03\u7528\u76EE\u6807\u65B9\u6CD5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-4-3-\u53C2\u6570\u89E3\u6790\u5668-handlermethodargumentresolver" tabindex="-1"><a class="header-anchor" href="#_3-4-3-\u53C2\u6570\u89E3\u6790\u5668-handlermethodargumentresolver" aria-hidden="true">#</a> 3.4.3 \u53C2\u6570\u89E3\u6790\u5668 HandlerMethodArgumentResolver</h4><p>\u786E\u5B9A\u5C06\u8981\u6267\u884C\u7684\u76EE\u6807\u65B9\u6CD5\u7684\u6BCF\u4E00\u4E2A\u53C2\u6570\u7684\u503C\u662F\u4EC0\u4E48\u3002</p><p>SpringMVC \u76EE\u6807\u65B9\u6CD5\u80FD\u5199\u591A\u5C11\u79CD\u53C2\u6570\u7C7B\u578B\uFF0C\u53D6\u51B3\u4E8E\u53C2\u6570\u89E3\u6790\u5668\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// InvocableHandlerMethod#invokeForRequestObject[] args = getMethodArgumentValues(request, mavContainer, providedArgs);// InvocableHandlerMethod#getMethodArgumentValuesif (!this.resolvers.supportsParameter(parameter)) { // \u5224\u65AD\u662F\u5426\u652F\u6301\u5F53\u524D\u53C2\u6570\u7C7B\u578B// \u89E3\u6790\u652F\u6301\u7684\u53C2\u6570\uFF0C\u5E76\u653E\u5165\u53C2\u6570\u5217\u8868args[i] = this.resolvers.resolveArgument(parameter, mavContainer, request, this.dataBinderFactory);// HandlerMethodArgumentResolverComposite#resolveArgumentHandlerMethodArgumentResolver resolver = this.getArgumentResolver(parameter);// HandlerMethodArgumentResolverComposite#getArgumentResolver// \u5148\u4ECE\u53C2\u6570\u89E3\u6790\u5668\u7F13\u5B58\u4E2D\u83B7\u53D6\uFF0C\u82E5\u83B7\u53D6\u4E0D\u5230\u518D\u4ECE\u53C2\u6570\u89E3\u6790\u5668\u4E2D\u83B7\u53D6Iterator var3 = this.argumentResolvers.iterator();// \u5224\u65AD\u89E3\u6790\u5668\u662F\u5426\u652F\u6301\u5F53\u524D\u53C2\u6570\u7C7B\u578B\uFF0C\u82E5\u652F\u6301\u653E\u5165\u53C2\u6570\u89E3\u6790\u5668\u7F13\u5B58\u4E2D\uFF0C\u7136\u540E\u8FD4\u56DE\u53C2\u6570\u89E3\u6790\u5668
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603263283504-85bbd4d5-a9af-4dbf-b6a2-30b409868774.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_20%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="argumentResolvers"></p><h4 id="_3-4-4-\u8FD4\u56DE\u503C\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_3-4-4-\u8FD4\u56DE\u503C\u5904\u7406" aria-hidden="true">#</a> 3.4.4 \u8FD4\u56DE\u503C\u5904\u7406</h4><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626512571526-f97b165f-652c-4b2b-942a-a3cb3cfdffe6.png" alt="image.png"></p><h4 id="_3-4-5-\u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570-pojo-\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#_3-4-5-\u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570-pojo-\u5C01\u88C5" aria-hidden="true">#</a> 3.4.5 \u81EA\u5B9A\u4E49\u7C7B\u578B\u53C2\u6570\uFF1APOJO \u5C01\u88C5</h4><p><code>ServletModelAttributeMethodProcessor</code> \u8D1F\u8D23\u5904\u7406\u81EA\u5B9A\u4E49\u7684\u53C2\u6570\u7C7B\u578B\uFF08\u975E\u7B80\u5355\u7C7B\u578B\uFF09\u3002</p><p>\u7B80\u5355\u7C7B\u578B\u5982\u4E0B\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// BeanUtils#isSimpleValueTypepublic static boolean isSimpleValueType(Class&lt;?&gt; type) {    return (Void.class != type &amp;&amp; void.class != type &amp;&amp;            (ClassUtils.isPrimitiveOrWrapper(type) ||            Enum.class.isAssignableFrom(type) ||            CharSequence.class.isAssignableFrom(type) ||            Number.class.isAssignableFrom(type) ||            Date.class.isAssignableFrom(type) ||            Temporal.class.isAssignableFrom(type) ||            URI.class == type ||            URL.class == type ||            Locale.class == type ||            Class.class == type));}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626445334943-b3f18848-d490-44c3-9e72-319ef8ac9888.png" alt="isSimpleValueType"></p><p>\u89E3\u6790\u53C2\u6570\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// ModelAttributeMethodProcessor#resolveArgumentWebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>WebDataBinder</code>\uFF1AWeb \u6570\u636E\u7ED1\u5B9A\u5668\uFF0C\u5229\u7528\u5B83\u91CC\u9762\u7684 <code>Converters</code> \u5C06\u8BF7\u6C42\u6570\u636E\u8F6C\u6210\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u7136\u540E\u5C01\u88C5\u5230\u6307\u5B9A\u7684 POJO \u5BF9\u8C61\u91CC\u9762\u3002</p><p><code>GenericConversionService</code>\uFF1A\u5728\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u503C\u7684\u65F6\u5019\uFF0C\u627E\u5B83\u91CC\u9762\u6240\u6709\u7684 <code>Converters</code>\uFF0C\u54EA\u4E2A\u53EF\u4EE5\u5C06\u8FD9\u4E2A\u6570\u636E\u7C7B\u578B\uFF08request \u5E26\u6765\u53C2\u6570\u7684\u5B57\u7B26\u4E32\uFF09\u8F6C\u6362\u5230\u6307\u5B9A\u7684\u7C7B\u578B\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626448410878-008f3f9c-5013-4b4b-aced-1bc74895799a.png?x-oss-process=image%2Fresize%2Cw_750" alt="GenericConversionService"></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@FunctionalInterfacepublic interface Converter&lt;S, T&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603337871521-25fc1aa1-133a-4ce0-a146-d565633d7658.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_39%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="ExtendServletRequestDataBinder"></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603338486441-9bbd22a9-813f-49bd-b51b-e66c7f4b8598.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_44%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10%2Cresize%2Cw_752" alt="converters"></p><p>\u53EF\u4EE5\u7ED9WebDataBinder\u91CC\u9762\u653E\u81EA\u5DF1\u7684Converter\uFF1B</p><p><strong>private static final class</strong> StringToNumber&lt;T <strong>extends</strong> Number&gt; <strong>implements</strong> Converter&lt;String, T&gt;</p><p>\u81EA\u5B9A\u4E49 Converter\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// 1\u3001WebMvcConfigurer \u5B9A\u5236\u5316 SpringMVC \u7684\u529F\u80FD@Beanpublic WebMvcConfigurer webMvcConfigurer (){    return new WebMvcConfigurer () {        @Override        public void configurePathMatch (PathMatchConfigurer configurer) {            UrlPathHelper urlPathHelper = new UrlPathHelper ();            // \u4E0D\u79FB\u9664\u5206\u53F7\u540E\u9762\u7684\u5185\u5BB9\uFF0C\u77E9\u9635\u53D8\u91CF\u529F\u80FD\u5C31\u53EF\u4EE5\u751F\u6548            urlPathHelper.setRemoveSemicolonContent (false);            configurer.setUrlPathHelper (urlPathHelper);        }        @Override        public void addFormatters (FormatterRegistry registry) {            registry.addConverter (new Converter&lt;String, Pet&gt;() {                @Override                public Pet convert (String source) {                    // \u963F\u732B\uFF0C3                    if (!StringUtils.isEmpty (source)){                        Pet pet = new Pet ();                        String [] split = source.split (&quot;,&quot;);                        pet.setName (split [0]);                        pet.setAge (Integer.parseInt (split [1]));                        return pet;                    }                    return null;                }            });        }    };}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-4-6-\u76EE\u6807\u65B9\u6CD5\u6267\u884C\u5B8C\u6210" tabindex="-1"><a class="header-anchor" href="#_3-4-6-\u76EE\u6807\u65B9\u6CD5\u6267\u884C\u5B8C\u6210" aria-hidden="true">#</a> 3.4.6 \u76EE\u6807\u65B9\u6CD5\u6267\u884C\u5B8C\u6210</h4><p>\u5C06\u6240\u6709\u8FD4\u56DE\u7684\u6570\u636E\u90FD\u653E\u5728 <code>ModelAndViewContainer</code>\uFF0C\u5305\u542B\u8981\u53BB\u7684\u9875\u9762\u5730\u5740 <code>View</code>\uFF0C\u8FD8\u5305\u542B <code>Model</code> \u6570\u636E\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603272018605-1bce3142-bdd9-4834-a028-c753e91c52ac.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_16%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="mavContainer"></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626361978596-259159d7-7aa2-459c-b43a-7e31c8f63277.png" alt="updateBindResult"></p><h4 id="_3-4-7-\u5904\u7406\u6D3E\u53D1\u7ED3\u679C" tabindex="-1"><a class="header-anchor" href="#_3-4-7-\u5904\u7406\u6D3E\u53D1\u7ED3\u679C" aria-hidden="true">#</a> 3.4.7 \u5904\u7406\u6D3E\u53D1\u7ED3\u679C</h4><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626362958127-42143dee-56bd-4143-bd60-ed423ee81b98.png" alt="exposeModelAsRequestAttribute"></p><h2 id="_4\u3001\u6570\u636E\u54CD\u5E94\u4E0E\u5185\u5BB9\u534F\u5546" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u6570\u636E\u54CD\u5E94\u4E0E\u5185\u5BB9\u534F\u5546" aria-hidden="true">#</a> 4\u3001\u6570\u636E\u54CD\u5E94\u4E0E\u5185\u5BB9\u534F\u5546</h2><h3 id="_4-1-\u54CD\u5E94-json" tabindex="-1"><a class="header-anchor" href="#_4-1-\u54CD\u5E94-json" aria-hidden="true">#</a> 4.1 \u54CD\u5E94 JSON</h3><h4 id="_4-1-1-jackson-jar-responsebody" tabindex="-1"><a class="header-anchor" href="#_4-1-1-jackson-jar-responsebody" aria-hidden="true">#</a> 4.1.1 jackson.jar + @ResponseBody</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Web \u573A\u666F\u81EA\u52A8\u5F15\u5165\u4E86 json \u573A\u666F,\u4E0B\u9762\u7684\u4F9D\u8D56\u4E0D\u9700\u8981\u663E\u793A\u58F0\u660E --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u81EA\u52A8\u7ED9\u524D\u7AEF\u8FD4\u56DE <strong>json</strong> \u6570\u636E\u3002</p><p><strong>1\u3001\u8FD4\u56DE\u503C\u89E3\u6790\u5668</strong></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// ServletInvocableHandlerMethod#invokeAndHandle
this.returnValueHandlers.handleReturnValue(
        returnValue, getReturnValueType(returnValue), mavContainer, webRequest);

// HandlerMethodReturnValueHandlerComposite#handleReturnValue
handler.handleReturnValue(returnValue, returnType, mavContainer, webRequest);

// RequestResponseBodyMethodProcessor#handleReturnValue
// \u4F7F\u7528\u5BF9\u5E94\u7684\u6D88\u606F\u8F6C\u6362\u5668\u8FDB\u884C\u5199\u51FA\u64CD\u4F5C
writeWithMessageConverters(returnValue, returnType, inputMessage, outputMessage);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605151359370-01cd1fbe-628a-4eea-9430-d79a78f59125.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_25%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="returnValueHandlers"></p><p><strong>2\u3001\u8FD4\u56DE\u503C\u89E3\u6790\u5668\u539F\u7406</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605151728659-68c8ce8a-1b2b-4ab0-b86d-c3a875184672.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_23%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="HandlerMethodReturnValueHandler"></p><ol><li><p>\u8FD4\u56DE\u503C\u5904\u7406\u5668\u5224\u65AD\u662F\u5426\u652F\u6301\u8FD9\u79CD\u7C7B\u578B\u7684\u8FD4\u56DE\u503C <code>supportsReturnType</code>\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626514119167-937aa79a-8223-4ef3-82af-cdf4a62f987e.png" alt="supportsReturnType"></p></li><li><p>\u8FD4\u56DE\u503C\u5904\u7406\u5668\u8C03\u7528 <code>handleReturnValue</code> \u8FDB\u884C\u5904\u7406\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626514211219-23d6c27a-ea41-4e92-ade2-d66d4cc91362.png" alt="handleReturnValue"></p></li><li><p><code>RequestResponseBodyMethodProcessor</code> \u53EF\u4EE5\u5904\u7406\u6709 @ModelAttribute \u4E14\u4E3A\u5BF9\u8C61\u7C7B\u578B\u7684 @ResponseBody \u6CE8\u89E3\u3002</p><ol><li><p>\u5229\u7528 <code>MessageConverters</code> \u8FDB\u884C\u5904\u7406\u5C06\u6570\u636E\u5199\u4E3A <strong>json</strong>\u3002</p><ol><li><p>\u5185\u5BB9\u534F\u5546\uFF1A\u6D4F\u89C8\u5668\u9ED8\u8BA4\u4F1A\u4EE5\u8BF7\u6C42\u5934\uFF08<strong>Accept</strong> \u5B57\u6BB5\uFF09\u7684\u65B9\u5F0F\u544A\u8BC9\u670D\u52A1\u5668\u4ED6\u80FD\u63A5\u53D7\u4EC0\u4E48\u6837\u7684\u5185\u5BB9\u7C7B\u578B\uFF1B</p></li><li><p>\u670D\u52A1\u5668\u6839\u636E\u81EA\u5DF1\u7684\u80FD\u529B\uFF0C\u51B3\u5B9A\u80FD\u751F\u4EA7\u4EC0\u4E48\u5185\u5BB9\u7C7B\u578B\u7684\u6570\u636E\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626515255797-09a21cb2-a28d-4d3a-9167-a671177a293d.png?x-oss-process=image%2Fresize%2Cw_750" alt="\u5185\u5BB9\u7C7B\u578B"></p></li><li><p>SpringMVC \u4F1A\u904D\u5386\u6240\u6709\u5BB9\u5668\u5E95\u5C42\u7684 <code>HttpMessageConverter</code>\uFF0C\u770B\u8C01\u80FD\u5904\u7406\u3002</p><ol><li>\u5F97\u5230 <code>MappingJackson2HttpMessageConverter</code>\uFF0C\u5B83\u53EF\u4EE5\u5C06\u5BF9\u8C61\u5199\u4E3A <strong>json</strong>\uFF1B</li><li>\u5229\u7528 <code>MappingJackson2HttpMessageConverter</code> \u5C06\u5BF9\u8C61\u8F6C\u4E3A <strong>json</strong> \u518D\u5199\u51FA\u53BB\u3002</li></ol></li></ol></li></ol></li></ol><h4 id="_4-1-2-\u652F\u6301\u7684\u8FD4\u56DE\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_4-1-2-\u652F\u6301\u7684\u8FD4\u56DE\u7C7B\u578B" aria-hidden="true">#</a> 4.1.2 \u652F\u6301\u7684\u8FD4\u56DE\u7C7B\u578B</h4><ul><li><p><code>ModelAndView</code>\uFF1A\u5305\u542B <code>Model</code> \u548C <code>View</code> \u5BF9\u8C61\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B83\u8BBF\u95EE <code>@ModelAttribute</code> \u6CE8\u89E3\u7684\u5BF9\u8C61\u3002</p></li><li><p><code>Model</code>\uFF1A\u4EC5\u5305\u542B\u6570\u636E\u8BBF\u95EE\uFF0C\u901A\u8FC7 <code>RequestToViewNameTranslator</code> \u6765\u9690\u853D\u5730\u51B3\u5B9A\u6B64\u8BF7\u6C42\u8FD4\u56DE\u7684 <code>View</code> \u89C6\u56FE\u5BF9\u8C61\u3002</p></li><li><p><code>Map</code>\uFF1A\u548C <code>Model</code> \u76F8\u4F3C\u3002</p></li><li><p><code>View</code>\uFF1A\u4EC5\u5305\u542B\u89C6\u56FE\u6570\u636E\uFF0C\u800C <code>Model</code> \u6570\u636E\u9690\u542B\u5728 <code>@ModelAttribute</code> \u6CE8\u89E3\u6807\u6CE8\u7684\u5BF9\u8C61\u4E2D\u3001\u6216\u8005</p></li><li><p><code>String</code>\uFF1A\u8868\u793A <code>View</code> \u89C6\u56FE\u7684\u540D\u79F0\u3002\u6570\u636E\u4FE1\u606F\u7684\u4FDD\u5B58\u540C\u4E0A\u3002</p></li><li><p><code>void</code>\uFF1A\u5F53\u5F00\u53D1\u8005\u76F4\u63A5\u64CD\u4F5C <code>ServletResponse</code> / <code>HttpServletResponse</code> \u8FDB\u884C\u8BF7\u6C42\u8DF3\u8F6C\uFF0C\u6216\u8005 <code>View</code> \u7531 <code>RequestToViewNameTranslator</code> \u9690\u853D\u5730\u51B3\u5B9A\u65F6\uFF0C\u53EF\u4F7F\u7528\u6B64\u8FD4\u56DE\u503C\u3002</p></li><li><p>\u4EFB\u610F\u5BF9\u8C61\uFF1A\u5982\u679C\u65B9\u6CD5\u88AB <code>@ResponseBody</code> \u6CE8\u89E3\uFF0C\u53EF\u91C7\u7528\u6B64\u503C\u3002Spring \u4F1A\u4F7F\u7528 <code>HttpMessageConverters</code> \u5C06\u5BF9\u8C61\u8F6C\u5316\u6210\u6587\u672C\u8F93\u51FA\u3002</p></li><li><p><code>HttpEntity&lt;?&gt;</code> \u6216 <code>ResponseEntity&lt;?&gt;</code>\uFF1A\u4F7F\u7528\u6B64\u503C\uFF0CSpring \u4E5F\u4F1A\u4F7F\u7528 <code>HttpMessageConverters</code> \u5C06\u5BF9\u8C61\u8F6C\u5316\u6210\u6587\u672C\u8F93\u51FA\u3002</p></li><li><p><code>Callable</code>\uFF1A\u5F02\u6B65\u8BF7\u6C42\u65F6\u4F7F\u7528\u3002</p></li><li><p><code>DeferredResult</code>\uFF1A\u5F53 Spring \u51B3\u5B9A\u4F7F\u7528\u9009\u62E9\u7684\u67D0\u4E2A\u7EBF\u7A0B\u4EA7\u751F\u503C\u65F6\u53EF\u4EE5\u4F7F\u7528\u6B64\u5BF9\u8C61\u3002</p></li><li><p><code>WebAsyncTask</code>\uFF1A\u5E26\u6709\u8D85\u65F6\u65F6\u95F4\u7684 Callable \u5F02\u6B65\u4EFB\u52A1\u3002</p></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1628917925463-98d86339-8ba2-4c57-95f2-95781682a3a2.png?x-oss-process=image%2Fresize%2Cw_750" alt="\u652F\u6301\u7684\u8FD4\u56DE\u7C7B\u578B"></p><h4 id="_4-1-3-httpmessageconverter-\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_4-1-3-httpmessageconverter-\u539F\u7406" aria-hidden="true">#</a> 4.1.3 HTTPMessageConverter \u539F\u7406</h4><p><strong>1\u3001MessageConverter \u89C4\u8303</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605163447900-e2748217-0f31-4abb-9cce-546b4d790d0b.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_19%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="HTTPMessageConverter"></p><p><code>HttpMessageConverter</code>: \u8C03\u7528 <code>canRead()</code> \u6216 <code>canWrite()</code> \u65B9\u6CD5\u5224\u65AD\u662F\u5426\u652F\u6301\u5C06 \u6B64 Class \u7C7B\u578B\u7684\u5BF9\u8C61\uFF0C\u8F6C\u4E3A <code>MediaType</code> \u7C7B\u578B\u7684\u6570\u636E\u3002</p><p>\u4F8B\u5B50\uFF1A json \u8F6C\u4E3A Person \u5BF9\u8C61\uFF0C\u6216\u8005Person \u5BF9\u8C61\u8F6C\u4E3A json\u3002</p><p><strong>2\u3001\u9ED8\u8BA4\u7684MessageConverter</strong></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// AbstractMessageConverterMethodArgumentResolver#readWithMessageConverters
for (HttpMessageConverter&lt;?&gt; converter : this.messageConverters) {
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605163584708-e19770d6-6b35-4caa-bf21-266b73cb1ef1.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_17%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="messageConverters"></p><ul><li><code>ByteArrayHttpMessageConverter</code>\uFF1A\u53EA\u652F\u6301\u5B57\u8282\u6570\u7EC4\u7C7B\u578B\u7684\u3002</li><li><code>StringHttpMessageConverter</code>\uFF1A<strong>UTF-8</strong> \u7C7B\u578B\u7684\u5B57\u7B26\u4E32\u3002</li><li><code>StringHttpMessageConverter</code>\uFF1A<strong>ISO-8859-1</strong> \u7C7B\u578B\u7684\u5B57\u7B26\u4E32\u3002</li><li><code>ResourceHttpMessageConverter</code>\uFF1A<code>Resource</code> \u7C7B\u578B\u3002</li><li><code>ResourceRegionHttpMessageConverter</code>\uFF1A<code>ResourceHttpMessageConverter</code> \u7684\u7F3A\u7701\u8BBE\u7F6E\uFF0C\u7528\u4E8E\u652F\u6301 HTTP Range \u5934\u90E8\u4F7F\u7528\u65F6\uFF0C\u5C06\u9759\u6001\u8D44\u6E90\u7684\u90E8\u5206\u5199\u5165\u5230\u54CD\u5E94\u5BF9\u8C61\u3002</li><li><code>SourceHttpMessageConverter</code>\uFF1A<code>DOMSource.class</code>\u3001<code>SAXSource.class</code>\u3001<code>StAXSource.class</code>\u3001<code>StreamSource.class</code>\u3001<code>Source.class</code>\u3002</li><li><code>AllEncompassingFormHttpMessageConverter</code>\uFF1A\u5BF9 <code>FormHttpMessageConverter</code>\uFF08\u8868\u5355\u4E0E <code>MultiValueMap</code> \u7684\u76F8\u4E92\u8F6C\u6362\uFF09\u7684\u6269\u5C55\uFF0C\u63D0\u4F9B\u4E86\u5BF9 <strong>xml</strong> \u548C <strong>json</strong> \u7684\u652F\u6301\u3002</li><li><code>MappingJackson2HttpMessageConverter</code>\uFF1A\u4F7F\u7528 Jackson \u7684 ObjectMapper \u8F6C\u6362 Json \u6570\u636E</li><li><code>MappingJackson2HttpMessageConverter</code>\uFF1A</li><li><code>Jaxb2RootElementHttpMessageConverter</code>\uFF1A\u652F\u6301\u6CE8\u89E3\u65B9\u5F0F\u5C06\u5BF9\u8C61\u8F6C\u6362\u4E3A xml\u3002</li></ul><p>\u6700\u7EC8 <code>MappingJackson2HttpMessageConverter</code> \u628A\u5BF9\u8C61\u8F6C\u4E3A <strong>json</strong>\uFF08\u5229\u7528\u5E95\u5C42 <strong>jackson</strong> \u7684<code>objectMapper</code> \u8F6C\u6362\u7684\uFF09\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605164243168-1a31e9af-54a4-463e-b65a-c28ca7a8a2fa.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_34%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="outputMessage"></p>`,61),Hn={href:"https://cloud.tencent.com/developer/article/1497632",target:"_blank",rel:"noopener noreferrer"},Ln=s("\u3010\u5C0F\u5BB6 Spring\u3011Spring MVC \u5BB9\u5668\u7684 web \u4E5D\u5927\u7EC4\u4EF6\u4E4B ---HandlerAdapter \u6E90\u7801\u8BE6\u89E3 ---HttpMessageConverter \u6D88\u606F\u8F6C\u6362\u5668\u8BE6\u89E3"),Bn=e(`<h3 id="_4-2-\u5185\u5BB9\u534F\u5546" tabindex="-1"><a class="header-anchor" href="#_4-2-\u5185\u5BB9\u534F\u5546" aria-hidden="true">#</a> 4.2 \u5185\u5BB9\u534F\u5546</h3><h4 id="_4-2-1-\u5F15\u5165-xml-\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_4-2-1-\u5F15\u5165-xml-\u4F9D\u8D56" aria-hidden="true">#</a> 4.2.1 \u5F15\u5165 xml \u4F9D\u8D56</h4><p>\u6839\u636E\u5BA2\u6237\u7AEF\u63A5\u6536\u80FD\u529B\u4E0D\u540C\uFF0C\u8FD4\u56DE\u4E0D\u540C\u5A92\u4F53\u7C7B\u578B\u7684\u6570\u636E\u3002</p><p>\u82E5\u5BA2\u6237\u7AEF\u65E0\u6CD5\u89E3\u6790\u670D\u52A1\u7AEF\u8FD4\u56DE\u7684\u5185\u5BB9\uFF0C\u5373\u5A92\u4F53\u7C7B\u578B\u672A\u5339\u914D\uFF0C\u90A3\u4E48\u54CD\u5E94 <strong>406</strong>\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.dataformat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-dataformat-xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-2-\u8FD4\u56DE-json-\u548C-xml" tabindex="-1"><a class="header-anchor" href="#_4-2-2-\u8FD4\u56DE-json-\u548C-xml" aria-hidden="true">#</a> 4.2.2 \u8FD4\u56DE json \u548C xml</h4><p>Postman \u5206\u522B\u6D4B\u8BD5\uFF0C\u53EA\u9700\u8981\u6539\u53D8\u8BF7\u6C42\u5934\u4E2D <strong>Accept</strong> \u5B57\u6BB5\u3002<strong>HTTP</strong> \u534F\u8BAE\u4E2D\u89C4\u5B9A\u7684\uFF0C\u544A\u8BC9\u670D\u52A1\u5668\u672C\u5BA2\u6237\u7AEF\u53EF\u4EE5\u63A5\u6536\u7684\u6570\u636E\u7C7B\u578B\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605173127653-8a06cd0f-b8e1-4e22-9728-069b942eba3f.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_33%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="Postman"></p><h4 id="_4-2-3-\u5F00\u542F\u6D4F\u89C8\u5668\u53C2\u6570\u65B9\u5F0F\u5185\u5BB9\u534F\u5546\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_4-2-3-\u5F00\u542F\u6D4F\u89C8\u5668\u53C2\u6570\u65B9\u5F0F\u5185\u5BB9\u534F\u5546\u529F\u80FD" aria-hidden="true">#</a> 4.2.3 \u5F00\u542F\u6D4F\u89C8\u5668\u53C2\u6570\u65B9\u5F0F\u5185\u5BB9\u534F\u5546\u529F\u80FD</h4><p>\u4E3A\u4E86\u65B9\u4FBF\u5185\u5BB9\u534F\u5546\uFF0C\u5F00\u542F\u57FA\u4E8E\u8BF7\u6C42\u53C2\u6570\u7684\u5185\u5BB9\u534F\u5546\u529F\u80FD\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
    <span class="token key atrule">contentnegotiation</span><span class="token punctuation">:</span>
      <span class="token key atrule">favor-parameter</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment">#\u5F00\u542F\u8BF7\u6C42\u53C2\u6570\u5185\u5BB9\u534F\u5546\u6A21\u5F0F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4F18\u7F3A\u70B9\uFF1A</strong></p><ul><li>\u4F18\u70B9\uFF1A\u4E0D\u53D7\u6D4F\u89C8\u5668\u7EA6\u675F\u3002</li><li>\u7F3A\u70B9\uFF1A\u9700\u8981\u989D\u5916\u7684\u4F20\u9012 <strong>format</strong> \u53C2\u6570\uFF0C<strong>URL</strong> \u53D8\u5F97\u5197\u4F59\u7E41\u7410\uFF0C\u7F3A\u5C11\u4E86 <strong>REST</strong> \u7684\u7B80\u6D01\u98CE\u8303\u3002\u8FD8\u6709\u4E2A\u7F3A\u70B9\u4FBF\u662F\uFF1A\u9700\u8981\u624B\u52A8\u663E\u793A\u5F00\u542F\u3002</li></ul><p>\u53D1\u8BF7\u6C42\uFF1A</p><p>http://localhost:8080/test/person?format=json</p><p>http://localhost:8080/test/person?format=xml</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626528669116-d399ae57-2709-4b94-9426-32e4a2ec4390.png" alt="getAcceptableMediaTypes"></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605230907471-b0ed34bc-6782-40e7-84b7-615726312f01.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_22%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="contentNegotiationManager"></p><p>\u786E\u5B9A\u5BA2\u6237\u7AEF\u63A5\u6536\u4EC0\u4E48\u6837\u7684\u5185\u5BB9\u7C7B\u578B\uFF1A</p><ol><li><p>Parameter \u7B56\u7565\u4F18\u5148\u786E\u5B9A\u662F\u8981\u8FD4\u56DE <strong>json</strong> \u6570\u636E\uFF08\u83B7\u53D6\u8BF7\u6C42\u5934\u4E2D\u7684 <strong>format</strong> \u7684\u503C\uFF09</p></li><li><p>\u6700\u7EC8\u8FDB\u884C\u5185\u5BB9\u534F\u5546\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF <strong>json</strong> \u5373\u53EF\u3002</p></li></ol><h4 id="_4-2-4-\u5185\u5BB9\u534F\u5546\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_4-2-4-\u5185\u5BB9\u534F\u5546\u539F\u7406" aria-hidden="true">#</a> 4.2.4 \u5185\u5BB9\u534F\u5546\u539F\u7406</h4><ol><li><p>\u5224\u65AD\u5F53\u524D\u54CD\u5E94\u5934\u4E2D\u662F\u5426\u5DF2\u7ECF\u6709\u786E\u5B9A\u7684\u5A92\u4F53\u7C7B\u578B <code>MediaType</code>\uFF1B</p></li><li><p>\u83B7\u53D6\u5BA2\u6237\u7AEF\uFF08PostMan\u3001\u6D4F\u89C8\u5668\uFF09\u652F\u6301\u63A5\u6536\u7684\u5185\u5BB9\u7C7B\u578B\uFF0C\u5373\u83B7\u53D6 <strong>Accept</strong> \u8BF7\u6C42\u5934\u5B57\u6BB5\uFF0C\u5982<strong>application/xml</strong>\uFF1B</p><ul><li><p><code>contentNegotiationManager</code> \u5185\u5BB9\u534F\u5546\u7BA1\u7406\u5668\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u57FA\u4E8E\u8BF7\u6C42\u5934\u7684\u7B56\u7565\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626527877945-76d64ff0-a578-4ab7-b061-36bd451e6709.png" alt="strategies"></p></li><li><p><code>HeaderContentNegotiationStrategy</code> \u786E\u5B9A\u5BA2\u6237\u7AEF\u53EF\u4EE5\u63A5\u6536\u7684\u5185\u5BB9\u7C7B\u578B \u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605230546376-65dcf657-7653-4a58-837a-f5657778201a.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_28%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="getHeaderValues"></p></li></ul></li><li><p>\u904D\u5386\u5FAA\u73AF\u6240\u6709\u5F53\u524D\u7CFB\u7EDF\u7684 <code>MessageConverter</code>\uFF0C\u770B\u8C01\u652F\u6301\u64CD\u4F5C\u8FD9\u4E2A <code>Person</code> \u5BF9\u8C61\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605173657818-73331882-6086-490c-973b-af46ccf07b32.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_18%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="messageConverters"></p><p>\u4E0A\u9762\u8FD9\u56DB\u4E2A\u5E76\u4E0D\u5B8C\u5168\u4E00\u6837\uFF1A</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626519411779-4c8b7c30-53f2-46cb-beed-304eddb9f46c.png" alt="messageConverter \u5DEE\u5F02"></p></li><li><p>\u627E\u5230\u652F\u6301\u64CD\u4F5C <code>Person</code> \u5BF9\u8C61\u7684 <code>MessageConverter</code>\uFF0C\u628A <code>MessageConverter</code> \u652F\u6301\u7684\u5A92\u4F53\u7C7B\u578B\u7EDF\u8BA1\u51FA\u6765\uFF1B</p></li><li><p>\u5BA2\u6237\u7AEF\u9700\u8981 <strong>application/xml</strong>\uFF0C\u5728\u670D\u52A1\u7AEF\u80FD\u529B\u5217\u8868\u4E2D\uFF1B</p></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605173876646-f63575e2-50c8-44d5-9603-c2d11a78adae.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_20%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><p>6\u3001\u8FDB\u884C\u5185\u5BB9\u534F\u5546\uFF0C\u9009\u51FA\u6700\u4F73\u5339\u914D\u5A92\u4F53\u7C7B\u578B\uFF1B</p><p>7\u3001\u7528 <code>MessageConverter</code> \u5C06\u5BF9\u8C61\u8F6C\u4E3A\u6700\u4F73\u5339\u914D\u5A92\u4F53\u7C7B\u578B \u3002</p><p>\u5BFC\u5165\u4E86 <strong>jackson</strong> \u5904\u7406 <strong>xml</strong> \u7684\u5305\uFF0C<strong>xml</strong> \u7684 <code>MessageConverter</code> \u5C31\u4F1A\u81EA\u52A8\u914D\u7F6E\u8FDB\u6765\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// WebMvcConfigurationSupport
jackson2XmlPresent = ClassUtils.isPresent(&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;, classLoader);

// WebMvcConfigurationSupport#addDefaultHttpMessageConverters
if (jackson2XmlPresent) {
    Jackson2ObjectMapperBuilder builder = Jackson2ObjectMapperBuilder.xml();
    if (this.applicationContext != null) {
        builder.applicationContext(this.applicationContext);
    }
    messageConverters.add(new MappingJackson2XmlHttpMessageConverter(builder.build()));
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-5-\u81EA\u5B9A\u4E49-messageconverter" tabindex="-1"><a class="header-anchor" href="#_4-2-5-\u81EA\u5B9A\u4E49-messageconverter" aria-hidden="true">#</a> 4.2.5 \u81EA\u5B9A\u4E49 MessageConverter</h4><p>\u5B9E\u73B0\u591A\u534F\u8BAE\u6570\u636E\u517C\u5BB9\uFF1A<strong>json</strong>\u3001<strong>xml</strong>\u3001x-guigu\u3002</p><ol><li><code>@ResponseBody</code> \u54CD\u5E94\u6570\u636E\u51FA\u53BB \u8C03\u7528 <code>RequestResponseBodyMethodProcessor</code> \u5904\u7406\uFF1B</li><li>Processor \u5904\u7406\u65B9\u6CD5\u8FD4\u56DE\u503C\uFF0C\u901A\u8FC7 <code>MessageConverter</code> \u5904\u7406\uFF1B</li><li>\u6240\u6709 <code>MessageConverter</code> \u5408\u8D77\u6765\u53EF\u4EE5\u652F\u6301\u5404\u79CD\u5A92\u4F53\u7C7B\u578B\u6570\u636E\u7684\u64CD\u4F5C\uFF08\u8BFB\u3001\u5199\uFF09\uFF1B</li><li>\u5185\u5BB9\u534F\u5546\u627E\u5230\u6700\u7EC8\u7684 <code>MessageConverter</code> \u3002</li></ol><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">contentnegotiation</span><span class="token punctuation">:</span>
      <span class="token key atrule">media-types</span><span class="token punctuation">:</span>
        <span class="token key atrule">gg</span><span class="token punctuation">:</span> application/x<span class="token punctuation">-</span>guigu
      <span class="token key atrule">favor-parameter</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E SpringMVC \u7684\u4EC0\u4E48\u529F\u80FD\uFF0C\u53EA\u9700\u8981\u7ED9\u5BB9\u5668\u4E2D\u6DFB\u52A0\u4E00\u4E2A <code>WebMvcConfigurer</code> \u5E76\u914D\u7F6E\u5373\u53EF\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Bean
public WebMvcConfigurer webMvcConfigurer(){
    return new WebMvcConfigurer() {
        @Override
        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {

        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605260623995-8b1f7cec-9713-4f94-9cf1-8dbc496bd245.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_18%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="strategy"></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605261062877-0a27cc41-51cb-4018-a9af-4e0338a247cd.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_27%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="contentNegotiationManager"></p><p>\u6709\u53EF\u80FD\u6211\u4EEC\u6DFB\u52A0\u7684\u81EA\u5B9A\u4E49\u7684\u529F\u80FD\u4F1A\u8986\u76D6\u9ED8\u8BA4\u5F88\u591A\u529F\u80FD\uFF0C\u5BFC\u81F4\u4E00\u4E9B\u9ED8\u8BA4\u7684\u529F\u80FD\u5931\u6548\u3002</p><h2 id="_5\u3001\u89C6\u56FE\u89E3\u6790\u4E0E\u6A21\u677F\u5F15\u64CE" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u89C6\u56FE\u89E3\u6790\u4E0E\u6A21\u677F\u5F15\u64CE" aria-hidden="true">#</a> 5\u3001\u89C6\u56FE\u89E3\u6790\u4E0E\u6A21\u677F\u5F15\u64CE</h2>`,37),Wn=n("strong",null,"\u89C6\u56FE\u89E3\u6790",-1),Dn=s("\uFF1ASpringBoot\u9ED8\u8BA4\u4E0D\u652F\u6301 "),Vn={href:"https://www.w3cschool.cn/jsp/",target:"_blank",rel:"noopener noreferrer"},On=s("JSP"),Un=s("\uFF0C\u9700\u8981\u5F15\u5165\u7B2C\u4E09\u65B9\u6A21\u677F\u5F15\u64CE\u6280\u672F\u5B9E\u73B0\u9875\u9762\u6E32\u67D3\u3002"),Nn=n("p",null,[n("strong",null,"\u6A21\u677F\u5F15\u64CE"),s("\uFF1A\u662F\u4E3A\u4E86\u4F7F\u7528\u6237\u754C\u9762\u4E0E\u4E1A\u52A1\u6570\u636E\uFF08\u5185\u5BB9\uFF09\u5206\u79BB\u800C\u4EA7\u751F\u7684\uFF0C\u5B83\u53EF\u4EE5\u751F\u6210\u7279\u5B9A\u683C\u5F0F\u7684\u6587\u6863\uFF0C\u7528\u4E8E\u7F51\u7AD9\u7684\u6A21\u677F\u5F15\u64CE\u5C31\u4F1A\u751F\u6210\u4E00\u4E2A\u6807\u51C6\u7684\u6587\u6863\u3002")],-1),Gn=n("p",null,[n("img",{src:"https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109710-99fba456-92b1-43f3-8fa4-1db486247ecf.png",alt:"\u6A21\u677F\u5F15\u64CE"})],-1),zn={href:"https://www.jianshu.com/p/5913903324ff",target:"_blank",rel:"noopener noreferrer"},Yn=s("Velocity"),$n=s("\uFF1A\u4E00\u4E2A\u57FA\u4E8E Java \u7684\u6A21\u677F\u5F15\u64CE\uFF0C\u5176\u63D0\u4F9B\u4E86\u4E00\u4E2A "),Xn=n("code",null,"Context",-1),Qn=s(" \u5BB9\u5668\uFF0C\u5728 Java \u4EE3\u7801\u91CC\u9762\u6211\u4EEC\u53EF\u4EE5\u5F80\u5BB9\u5668\u4E2D\u5B58\u503C\uFF0C\u7136\u540E\u5728 "),Kn=n("strong",null,"vm",-1),Zn=s(" \u6587\u4EF6\u4E2D\u4F7F\u7528\u7279\u5B9A\u7684\u8BED\u6CD5\u83B7\u53D6\u3002"),ns=s("[Freemarker]("),ss={href:"http://www.freemarker.net/",target:"_blank",rel:"noopener noreferrer"},as=s("FreeMarker \u6559\u7A0B\u7F51"),ts=s(")\uFF1A\u4E00\u4E2A\u57FA\u4E8E\u6A21\u677F\u751F\u6210\u6587\u672C\u8F93\u51FA\u7684\u901A\u7528\u5DE5\u5177\uFF0C\u4F7F\u7528\u7EAF Java \u7F16\u5199\uFF0C\u6A21\u677F\u4E2D\u6CA1\u6709\u4E1A\u52A1\u903B\u8F91\uFF0C\u5916\u90E8 Java \u7A0B\u5E8F\u901A\u8FC7\u6570\u636E\u5E93\u64CD\u4F5C\u7B49\u751F\u6210\u6570\u636E\u4F20\u5165\u6A21\u677F\uFF08template\uFF09\u4E2D\uFF0C\u7136\u540E\u8F93\u51FA\u9875\u9762\u3002\u5B83\u80FD\u591F\u751F\u6210\u5404\u79CD\u6587\u672C\uFF1A"),es=n("strong",null,"HTML",-1),os=s("\u3001"),ps=n("strong",null,"XML",-1),ls=s("\u3001"),is=n("strong",null,"RTF",-1),cs=s("\u3001"),rs=n("strong",null,"Java",-1),us=s(" \u6E90\u4EE3\u7801\u7B49\u7B49\uFF0C\u800C\u4E14\u4E0D\u9700\u8981 Servlet \u73AF\u5883\uFF0C\u5E76\u4E14\u53EF\u4EE5\u4ECE\u4EFB\u4F55\u6E90\u8F7D\u5165\u6A21\u677F\uFF0C\u5982\u672C\u5730\u6587\u4EF6\u3001\u6570\u636E\u5E93\u7B49\u7B49\u3002"),ds={href:"https://www.docs4dev.com/docs/zh/thymeleaf/3.0/reference/using_thymeleaf.html",target:"_blank",rel:"noopener noreferrer"},ks=s("Thymeleaf"),vs=e("\uFF1A\u662F\u9002\u7528\u4E8E Web \u548C\u72EC\u7ACB\u73AF\u5883\u7684\u73B0\u4EE3\u670D\u52A1\u5668\u7AEF Java \u6A21\u677F\u5F15\u64CE\uFF0C\u80FD\u591F\u5904\u7406 HTML\uFF0CXML\uFF0CJavaScript\uFF0CCSS \u751A\u81F3\u7EAF\u6587\u672C\u3002\u6709\u4E24\u79CD<em>\u6807\u8BB0</em>\u6A21\u677F\u6A21\u5F0F <code>HTML</code>\uFF08\u5E38\u7528\uFF09\u548C <code>XML</code>\uFF0C\u4E09\u79CD<em>\u6587\u672C</em>\u6A21\u677F\u6A21\u5F0F <code>TEXT</code>\uFF0C<code>JAVASCRIPT</code> \u548C <code>CSS</code> \u548C<em>\u65E0\u64CD\u4F5C</em>\u6A21\u677F\u6A21\u5F0F <code>RAW</code>\u3002",19),gs=e(`<p>SpringBoot \u63A8\u8350\u4F7F\u7528 <strong>Thymeleaf</strong>\uFF0C\u56E0\u4E3A\u4E0E <strong>Velocity</strong>\u3001<strong>FreeMarker</strong> \u7B49\u4F20\u7EDF\u7684 Java \u6A21\u677F\u5F15\u64CE\u4E0D\u540C\uFF0C<strong>Thymeleaf</strong> \u652F\u6301 <code>HTML</code> \u6A21\u677F\u6A21\u5F0F\uFF0C\u6A21\u677F\u540E\u7F00\u4E3A <code>.html</code>\uFF0C\u53EF\u4EE5\u76F4\u63A5\u88AB\u6D4F\u89C8\u5668\u6253\u5F00\uFF0C\u56E0\u6B64\uFF0C\u9884\u89C8\u65F6\u975E\u5E38\u65B9\u4FBF\u3002</p><h3 id="_5-1-\u89C6\u56FE\u89E3\u6790\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_5-1-\u89C6\u56FE\u89E3\u6790\u539F\u7406" aria-hidden="true">#</a> 5.1 \u89C6\u56FE\u89E3\u6790\u539F\u7406</h3><ol><li><p>\u76EE\u6807\u65B9\u6CD5\u5904\u7406\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6240\u6709\u6570\u636E\u90FD\u4F1A\u88AB\u653E\u5728 <code>ModelAndViewContainer</code> \u91CC\u9762\uFF0C\u5305\u62EC<strong>\u6570\u636E</strong>\u548C<strong>\u89C6\u56FE\u5730\u5740</strong>\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626602773740-bb9b98c0-1108-48c9-9a52-364d61a4ea56.png" alt="mavContainer"></p></li><li><p>\u65B9\u6CD5\u7684\u53C2\u6570\u662F\u4E00\u4E2A<strong>\u81EA\u5B9A\u4E49\u7C7B\u578B</strong>\u5BF9\u8C61\uFF08\u4ECE\u8BF7\u6C42\u53C2\u6570\u4E2D\u786E\u5B9A\u7684\uFF09\uFF0C\u628A\u5B83\u91CD\u65B0\u653E\u5728 <code>ModelAndViewContainer</code>\uFF1B</p></li><li><p>\u4EFB\u4F55\u76EE\u6807\u65B9\u6CD5\u6267\u884C\u5B8C\u6210\u4EE5\u540E\u90FD\u4F1A\u8FD4\u56DE <code>ModelAndView</code>\uFF08\u6570\u636E\u548C\u89C6\u56FE\u5730\u5740\uFF09\uFF1B</p></li><li><p><code>processDispatchResult</code> \u5904\u7406\u6D3E\u53D1\u7ED3\u679C\uFF08\u9875\u9762\u8BE5\u5982\u4F55\u54CD\u5E94\uFF09\u3002</p><ul><li><p><code>render(mv, request, response);</code> \u8FDB\u884C\u9875\u9762\u6E32\u67D3\u903B\u8F91\u3002</p><ul><li><p>\u6839\u636E\u65B9\u6CD5\u7684 <code>String</code> \u8FD4\u56DE\u503C\u5F97\u5230 <code>View</code> \u5BF9\u8C61\uFF08\u5B9A\u4E49\u4E86\u9875\u9762\u7684\u6E32\u67D3\u903B\u8F91\uFF09</p><ol><li><p>\u6240\u6709\u7684\u89C6\u56FE\u89E3\u6790\u5668\u5C1D\u8BD5\u662F\u5426\u80FD\u6839\u636E\u5F53\u524D\u8FD4\u56DE\u503C\u5F97\u5230 View \u5BF9\u8C61\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626603433682-b9cb246c-dddf-47f2-8b3c-30046077a13f.png" alt="viewResolver"></p></li><li><p>\u5F97\u5230\u4E86 <strong>redirect:/main.html</strong> --&gt; <strong>Thymeleaf</strong> \u4F7F\u7528 <code>new RedirectView()</code> \u521B\u5EFA\u89C6\u56FE\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626603907392-3cd1dfce-afa8-43fd-a03d-a52a52204368.png" alt="RedirectView"></p></li><li><p><code>ContentNegotiationViewResolver</code> \u91CC\u9762\u5305\u542B\u4E86\u4E0B\u9762\u6240\u6709\u7684\u89C6\u56FE\u89E3\u6790\u5668\uFF0C\u5185\u90E8\u8FD8\u662F\u5229\u7528\u4E0A\u9762\u6240\u6709\u89C6\u56FE\u89E3\u6790\u5668\u5F97\u5230\u89C6\u56FE\u5BF9\u8C61\uFF1B</p></li><li><p><code>view.render(mv.getModelInternal(), request, response);</code> \u89C6\u56FE\u5BF9\u8C61\u8C03\u7528\u81EA\u5B9A\u4E49\u7684 <code>render</code> \u8FDB\u884C\u9875\u9762\u6E32\u67D3\u5DE5\u4F5C\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626604323783-4e6ca09d-35f0-4f84-a3ba-32889e29e49f.png" alt="render"></p><ul><li><p><code>RedirectView</code> \u5982\u4F55\u6E32\u67D3\uFF08\u91CD\u5B9A\u5411\u5230\u4E00\u4E2A\u9875\u9762)\u3002</p><ol><li><p>\u83B7\u53D6\u76EE\u6807 <code>URL</code> \u5730\u5740\uFF1B</p></li><li><p>\u8C03\u7528\u539F\u751F\u7684 <code>response.sendRedirect(encodedURL);</code> \u53D1\u9001\u91CD\u5B9A\u5411\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626604421372-b748b478-6665-4361-b41d-abbc80cf70b2.png" alt="sendRedirect"></p></li></ol></li></ul></li></ol></li></ul></li></ul></li></ol><p><strong>Controller \u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u5982\u4E0B</strong></p><h4 id="_5-2-1-\u8FD4\u56DE-modelandview" tabindex="-1"><a class="header-anchor" href="#_5-2-1-\u8FD4\u56DE-modelandview" aria-hidden="true">#</a> 5.2.1 \u8FD4\u56DE ModelAndView</h4><ul><li><p><code>ModelAndView</code> \u5B58\u653E\u6570\u636E\uFF0C<code>addObject()</code>\uFF0C\u5F80 <code>model</code>\uFF08<code>request</code> \u57DF\uFF09\u6DFB\u52A0\u6570\u636E\uFF1B</p></li><li><p><code>ModelAndView</code> \u6DFB\u52A0\u903B\u8F91\u89C6\u56FE\u540D\uFF0C<code>setViewName()</code>\uFF0C\u7ECF\u8FC7\u89C6\u56FE\u89E3\u6790\u5668\uFF0C\u5F97\u5230\u7269\u7406\u89C6\u56FE\uFF0C\u8F6C\u53D1\u5230\u7269\u7406\u89C6\u56FE\u3002</p></li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@RequestMapping(&quot;/getUser.action&quot;)
public ModelAndView getUser(@RequestParam(name=&quot;userId&quot;,required = true) Integer id) throws Exception{
    System.out.println(&quot;id=&quot; + id);
    ModelAndView modelAndView = new ModelAndView();
    User user = userService.queryOne(id);
    modelAndView.addObject(&quot;user&quot;, user);
    modelAndView.setViewName(&quot;userinfo&quot;);
    return modelAndView;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-2-\u8FD4\u56DE-string" tabindex="-1"><a class="header-anchor" href="#_5-2-2-\u8FD4\u56DE-string" aria-hidden="true">#</a> 5.2.2 \u8FD4\u56DE String</h4><ul><li><p>\u903B\u8F91\u89C6\u56FE\u540D\uFF1A \u7ECF\u8FC7\u89C6\u56FE\u89E3\u6790\u5668\uFF0C\u5F97\u5230\u7269\u7406\u89C6\u56FE\uFF0C\u8F6C\u53D1\u5230\u7269\u7406\u89C6\u56FE\uFF1B</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@RequestMapping(&quot;/index.action&quot;)
public String  toIndex() {
    return &quot;index&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>redirect:\u8D44\u6E90\u8DEF\u5F84</code>\uFF1A\u4E0D\u7ECF\u8FC7\u89C6\u56FE\u89E3\u6790\u5668\uFF0C\u8981\u6C42\u8FD9\u4E2A\u8D44\u6E90\u8DEF\u5F84\u4EE5\u5B8C\u6574\u7684\u8DEF\u5F84 <code>/</code> \u5F00\u5934\uFF0C<strong>\u91CD\u5B9A\u5411</strong>\u5230\u8D44\u6E90\uFF1B</p><p><code>new RedirectView()</code> -&gt; <code>response.sendRedirect(encodedURL);</code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@RequestMapping(&quot;/index.action&quot;)
public String  toIndex() {
    return &quot;redirect:/jsp/index.jsp&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>forward:\u8D44\u6E90\u8DEF\u5F84</code>\uFF1A \u4E0D\u7ECF\u8FC7\u89C6\u56FE\u89E3\u6790\u5668\uFF0C\u8981\u6C42\u8FD9\u4E2A\u8D44\u6E90\u8DEF\u5F84\u4EE5\u5B8C\u6574\u7684\u8DEF\u5F84 <code>/</code> \u5F00\u5934\uFF0C<strong>\u8F6C\u53D1</strong>\u5230\u8D44\u6E90\uFF1B</p><p><code>new InternalResourceView(forwardUrl);</code> -&gt; <code>request.getRequestDispatcher(path).forward(request, response);</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/index.action&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span>  <span class="token function">toIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;forward:/jsp/index.jsp&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u666E\u901A\u5B57\u7B26\u4E32\u3001\u5BF9\u8C61\uFF1A</p><p><code>new ThymeleafView()</code> -&gt; \u8C03\u7528\u6A21\u677F\u5F15\u64CE\u7684 <code>process</code> \u65B9\u6CD5\u8FDB\u884C\u9875\u9762\u6E32\u67D3\uFF08\u7528 <code>writer</code> \u8F93\u51FA\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u5C06 user \u5BF9\u8C61\u4EE5 json \u7684\u683C\u5F0F\u54CD\u5E94\u7ED9\u524D\u7AEF\u9875\u9762</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/queryUserByCondition.action&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span> <span class="token comment">// \u9700\u8981\u7ED3\u5408\u8BE5\u6CE8\u89E3\uFF0C\u8868\u793A\u54CD\u5E94\u7684\u4E0D\u662F\u89C6\u56FE</span>
<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">queryUserByCondition</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_5-2-thymeleaf-\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_5-2-thymeleaf-\u8BED\u6CD5" aria-hidden="true">#</a> 5.2 Thymeleaf \u8BED\u6CD5</h3><h4 id="_5-2-1-\u8868\u8FBE\u5F0F" tabindex="-1"><a class="header-anchor" href="#_5-2-1-\u8868\u8FBE\u5F0F" aria-hidden="true">#</a> 5.2.1 \u8868\u8FBE\u5F0F</h4><table><thead><tr><th>\u8868\u8FBE\u5F0F\u540D\u5B57</th><th>\u8BED\u6CD5</th><th>\u7528\u9014</th></tr></thead><tbody><tr><td>\u53D8\u91CF\u53D6\u503C</td><td>\${...}</td><td>\u83B7\u53D6\u8BF7\u6C42\u57DF\u3001<code>session</code> \u57DF\u3001\u5BF9\u8C61\u7B49\u503C</td></tr><tr><td>\u9009\u62E9\u53D8\u91CF</td><td>*{...}</td><td>\u83B7\u53D6\u4E0A\u4E0B\u6587\u5BF9\u8C61\u503C</td></tr><tr><td>\u6D88\u606F</td><td>#{...}</td><td>\u83B7\u53D6\u56FD\u9645\u5316\u7B49\u503C</td></tr><tr><td>\u94FE\u63A5</td><td>@{...}</td><td>\u751F\u6210\u94FE\u63A5</td></tr><tr><td>\u7247\u6BB5\u8868\u8FBE\u5F0F</td><td>~{...}</td><td>\u7C7B\u4F3C\u4E8E <code>jsp:include</code>\uFF0C\u5F15\u5165\u516C\u5171\u9875\u9762\u7247\u6BB5</td></tr></tbody></table><h4 id="_5-2-2-\u5B57\u9762\u91CF" tabindex="-1"><a class="header-anchor" href="#_5-2-2-\u5B57\u9762\u91CF" aria-hidden="true">#</a> 5.2.2 \u5B57\u9762\u91CF</h4><p>\u6587\u672C\u503C\uFF1A<code>&#39;one text&#39;</code>\u3001<code>&#39;Another one!&#39;</code>\u3001\u2026</p><p>\u6570\u5B57\uFF1A<code>0</code>\u3001<code>34</code>\u3001<code>3.0</code>\u3001<code>12.3</code>\u3001\u2026</p><p>\u5E03\u5C14\u503C\uFF1A<code>true</code>\u3001<code>false</code></p><p>\u7A7A\u503C\uFF1A<code>null</code></p><p>\u53D8\u91CF\uFF1A<code>one</code>\u3001<code>two</code>\u3001.... \u53D8\u91CF\u4E0D\u80FD\u6709\u7A7A\u683C</p><h4 id="_5-2-3-\u6587\u672C\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_5-2-3-\u6587\u672C\u64CD\u4F5C" aria-hidden="true">#</a> 5.2.3 \u6587\u672C\u64CD\u4F5C</h4><p>\u5B57\u7B26\u4E32\u62FC\u63A5\uFF1A<code>+</code></p><p>\u53D8\u91CF\u66FF\u6362\uFF1A<code>|The name is \${name}|</code></p><h4 id="_5-2-4-\u6570\u5B66\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#_5-2-4-\u6570\u5B66\u8FD0\u7B97" aria-hidden="true">#</a> 5.2.4 \u6570\u5B66\u8FD0\u7B97</h4><p>\u8FD0\u7B97\u7B26\uFF1A<code>+</code>\u3001<code>-</code> \u3001<code>*</code>\u3001<code>/</code>\u3001<code>%</code></p><h4 id="_5-2-5\u5E03\u5C14\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#_5-2-5\u5E03\u5C14\u8FD0\u7B97" aria-hidden="true">#</a> 5.2.5\u5E03\u5C14\u8FD0\u7B97</h4><p>\u8FD0\u7B97\u7B26\uFF1A<code>and</code>\u3001<code>or</code></p><p>\u4E00\u5143\u8FD0\u7B97\uFF1A<code>!</code>\u3001<code>not</code></p><h4 id="_5-2-6\u6BD4\u8F83\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#_5-2-6\u6BD4\u8F83\u8FD0\u7B97" aria-hidden="true">#</a> 5.2.6\u6BD4\u8F83\u8FD0\u7B97</h4><p>\u6BD4\u8F83\uFF1A<code>&gt;</code>\u3001<code>&lt;</code>\u3001<code>&gt;=</code>\u3001<code>&lt;=</code> (<code>gt</code>\u3001<code>lt</code>\u3001<code>ge</code>\u3001<code>le</code>)</p><p>\u7B49\u5F0F\uFF1A<code>==</code>\u3001<code>!=</code> (<code>eq</code>\u3001<code>ne</code> )</p><h4 id="_5-2-7-\u6761\u4EF6\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#_5-2-7-\u6761\u4EF6\u8FD0\u7B97" aria-hidden="true">#</a> 5.2.7 \u6761\u4EF6\u8FD0\u7B97</h4><p>If-then\uFF1A<code>(if) ? (then)</code></p><p>If-then-else\uFF1A<code>(if) ? (then) : (else)</code></p><p>Default\uFF1A<code>(value) ?: (defaultvalue) </code></p><h4 id="_5-2-8-\u7279\u6B8A\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_5-2-8-\u7279\u6B8A\u64CD\u4F5C" aria-hidden="true">#</a> 5.2.8 \u7279\u6B8A\u64CD\u4F5C</h4><p>\u65E0\u64CD\u4F5C\uFF1A<code>_</code></p><h4 id="_5-2-9-\u8BBE\u7F6E\u5C5E\u6027\u503C-th-attr" tabindex="-1"><a class="header-anchor" href="#_5-2-9-\u8BBE\u7F6E\u5C5E\u6027\u503C-th-attr" aria-hidden="true">#</a> 5.2.9 \u8BBE\u7F6E\u5C5E\u6027\u503C <code>th:attr</code></h4><p>\u8BBE\u7F6E\u5355\u4E2A\u503C\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subscribe.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action=@{/subscribe}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Subscribe!<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value=#{subscribe.submit}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBE\u7F6E\u591A\u4E2A\u503C\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../images/gtvglogo.png<span class="token punctuation">&quot;</span></span>  <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src=@{/images/gtvglogo.png},title=#{logo},alt=#{logo}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4EE5\u4E0A\u4E24\u4E2A\u7684\u4EE3\u66FF\u5199\u6CD5 <code>th:xxx</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Subscribe!<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{subscribe.submit}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subscribe.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/subscribe}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6240\u6709 <code>HTML5</code> \u517C\u5BB9\u7684\u6807\u7B7E\u5199\u6CD5\uFF1A</p><p>https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#setting-value-to-specific-attributes</p><h4 id="_5-2-10-\u8FED\u4EE3" tabindex="-1"><a class="header-anchor" href="#_5-2-10-\u8FED\u4EE3" aria-hidden="true">#</a> 5.2.10 \u8FED\u4EE3</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prod : \${prods}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.inStock}? #{true} : #{false}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prod,iterStat : \${prods}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${iterStat.odd}? <span class="token punctuation">&#39;</span>odd<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${prod.inStock}? #{true} : #{false}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-11-\u6761\u4EF6\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#_5-2-11-\u6761\u4EF6\u8FD0\u7B97" aria-hidden="true">#</a> 5.2.11 \u6761\u4EF6\u8FD0\u7B97</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comments.html<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/product/comments(prodId=\${prod.id})}<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${not #lists.isEmpty(prod.comments)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${user.role}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>admin<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>User is an administrator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{roles.manager}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>User is a manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>User is some other thing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-12\u5C5E\u6027\u4F18\u5148\u7EA7" tabindex="-1"><a class="header-anchor" href="#_5-2-12\u5C5E\u6027\u4F18\u5148\u7EA7" aria-hidden="true">#</a> 5.2.12\u5C5E\u6027\u4F18\u5148\u7EA7</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109707-e02b3397-5bac-4c3f-a23b-1779207bc929.png" alt="\u5C5E\u6027\u4F18\u5148\u7EA7"></p><h3 id="_5-3-thymeleaf-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_5-3-thymeleaf-\u4F7F\u7528" aria-hidden="true">#</a> 5.3 Thymeleaf \u4F7F\u7528</h3><h4 id="_5-3-1-\u5F15\u5165-starter" tabindex="-1"><a class="header-anchor" href="#_5-3-1-\u5F15\u5165-starter" aria-hidden="true">#</a> 5.3.1 \u5F15\u5165 starter</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf.version</span><span class="token punctuation">&gt;</span></span>3.0.11.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5E03\u5C40\u529F\u80FD\u7684\u652F\u6301\u7A0B\u5E8F thymeleaf3 \u4E3B\u7A0B\u5E8F layout2 \u4EE5\u4E0A\u7248\u672C --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">&gt;</span></span>2.4.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-3-2-thymeleaf-\u81EA\u52A8\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-thymeleaf-\u81EA\u52A8\u914D\u7F6E" aria-hidden="true">#</a> 5.3.2 Thymeleaf \u81EA\u52A8\u914D\u7F6E</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
@EnableConfigurationProperties(ThymeleafProperties.class)
@ConditionalOnClass({ TemplateMode.class, SpringTemplateEngine.class })
@AutoConfigureAfter({ WebMvcAutoConfiguration.class, WebFluxAutoConfiguration.class })
public class ThymeleafAutoConfiguration { }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u81EA\u52A8\u914D\u597D\u7684\u7B56\u7565</p><ul><li><p>\u6240\u6709 <strong>Thymeleaf</strong> \u7684\u914D\u7F6E\u503C\u90FD\u5728 <code>ThymeleafProperties</code>\u3002</p></li><li><p>\u914D\u7F6E\u597D\u4E86 <code>SpringTemplateEngine</code> \u3002</p></li><li><p>\u914D\u7F6E\u597D\u4E86 <code>ThymeleafViewResolver</code>\u3002</p></li><li><p>\u6211\u4EEC\u53EA\u9700\u8981\u76F4\u63A5\u5F00\u53D1\u9875\u9762\u3002</p></li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@ConfigurationProperties(prefix = &quot;spring.thymeleaf&quot;)
public class ThymeleafProperties {
    private static final Charset DEFAULT_ENCODING = StandardCharsets.UTF_8;

    public static final String DEFAULT_PREFIX = &quot;classpath:/templates/&quot;;

    public static final String DEFAULT_SUFFIX = &quot;.html&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EA\u8981\u6211\u4EEC\u628A <strong>HTML</strong> \u9875\u9762\u653E\u5728 <strong>classpath:/templates/</strong>\uFF0C<strong>Thymeleaf</strong> \u5C31\u80FD\u81EA\u52A8\u6E32\u67D3\u3002</p><h4 id="thymeleaf-\u9875\u9762\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#thymeleaf-\u9875\u9762\u5F00\u53D1" aria-hidden="true">#</a> Thymeleaf \u9875\u9762\u5F00\u53D1</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${msg}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> \u54C8\u54C8 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.atguigu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${link}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> \u53BB\u767E\u5EA6 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.atguigu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{link}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> \u53BB\u767E\u5EA6 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6\u3001\u6784\u5EFA\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u6784\u5EFA\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF" aria-hidden="true">#</a> 6\u3001\u6784\u5EFA\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF</h2><h3 id="_6-1-\u521B\u5EFA\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_6-1-\u521B\u5EFA\u9879\u76EE" aria-hidden="true">#</a> 6.1 \u521B\u5EFA\u9879\u76EE</h3><p><strong>pom.xml</strong> \u9700\u8981\u5F15\u5165\u4EE5\u4E0B\u4F9D\u8D56\uFF1Athymeleaf\u3001web-starter\u3001devtools\u3001lombok\u3002</p><h3 id="_6-2\u9759\u6001\u8D44\u6E90\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_6-2\u9759\u6001\u8D44\u6E90\u5904\u7406" aria-hidden="true">#</a> 6.2\u9759\u6001\u8D44\u6E90\u5904\u7406</h3><p>\u5DF2\u7ECF\u81EA\u52A8\u914D\u7F6E\u597D\uFF0C\u53EA\u9700\u628A\u6240\u6709\u9759\u6001\u8D44\u6E90\u653E\u5230 <strong>static</strong> \u6587\u4EF6\u5939\u4E0B\uFF0C\u6A21\u677F\u9875\u9762\u653E\u5230 <strong>templates</strong> \u6587\u4EF6\u5939\u4E0B\u3002</p><h3 id="_6-3-\u8DEF\u5F84\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#_6-3-\u8DEF\u5F84\u6784\u5EFA" aria-hidden="true">#</a> 6.3 \u8DEF\u5F84\u6784\u5EFA</h3><p><code>th:action=&quot;@{/login}&quot;</code></p><h3 id="_6-4-\u9875\u9762\u8DF3\u8F6C" tabindex="-1"><a class="header-anchor" href="#_6-4-\u9875\u9762\u8DF3\u8F6C" aria-hidden="true">#</a> 6.4 \u9875\u9762\u8DF3\u8F6C</h3><p><code>Controller</code> \uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@PostMapping(&quot;/login&quot;)
public String main(User user, HttpSession session, Model model){
    if (StringUtils.hasLength (user.getUserName()) &amp;&amp; &quot;123456&quot;.equals (user.getPassword())){
        // \u628A\u767B\u9646\u6210\u529F\u7684\u7528\u6237\u4FDD\u5B58\u8D77\u6765
        session.setAttribute(&quot;loginUser&quot;,user);
        // \u767B\u5F55\u6210\u529F\u91CD\u5B9A\u5411\u5230 main.html;  \u91CD\u5B9A\u5411\u9632\u6B62\u8868\u5355\u91CD\u590D\u63D0\u4EA4
        return &quot;redirect:/main.html&quot;;
    } else {
        model.addAttribute(&quot;msg&quot;,&quot;\u8D26\u53F7\u5BC6\u7801\u9519\u8BEF&quot;);
        // \u56DE\u5230\u767B\u5F55\u9875\u9762
        return &quot;login&quot;;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u767B\u9646\u9519\u8BEF\u6D88\u606F\u7684\u663E\u793A\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${msg}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${not #strings.isEmpty(msg)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-5-\u6570\u636E\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#_6-5-\u6570\u636E\u6E32\u67D3" aria-hidden="true">#</a> 6.5 \u6570\u636E\u6E32\u67D3</h3><p><code>Controller</code> \uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@GetMapping(&quot;/dynamic_table&quot;)
public String dynamic_table(Model model){
    // \u8868\u683C\u5185\u5BB9\u7684\u904D\u5386
    List&lt;User&gt; users = Arrays.asList(new User(&quot;zhangsan&quot;, &quot;123456&quot;),
                                     new User(&quot;lisi&quot;, &quot;654321&quot;),
                                     new User(&quot;haha&quot;, &quot;aaa&quot;));
    model.addAttribute(&quot;users&quot;, users);
    return &quot;table/dynamic_table&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-6-\u6A21\u677F\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_6-6-\u6A21\u677F\u9875\u9762" aria-hidden="true">#</a> 6.6 \u6A21\u677F\u9875\u9762</h3><p>table/<strong>dynamic_table.html</strong>\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>display table table-bordered<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden-table-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>#<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>\u7528\u6237\u540D<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>\u5BC6\u7801<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userClass<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user,stats:\${users}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${stats.count}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${user.userName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>[[\${user.password}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- \u884C\u5185\u5199\u6CD5 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F00\u53D1\u671F\u95F4\u6A21\u677F\u5F15\u64CE\u9875\u9762\u4FEE\u6539\u4EE5\u540E\uFF0C\u8981\u5B9E\u65F6\u751F\u6548\uFF0C\u9700\u8981\u7981\u7528\u6A21\u677F\u5F15\u64CE\u7684\u7F13\u5B58\uFF0C\u9875\u9762\u4FEE\u6539\u5B8C\u6210\u4EE5\u540E<strong>Ctrl + F9</strong>\uFF1A\u91CD\u65B0\u7F16\u8BD1\uFF08\u65E0\u9700\u91CD\u65B0\u542F\u52A8\uFF09\u3002</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># \u7981\u7528\u7F13\u5B58</span>
<span class="token key attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-7-\u56FD\u9645\u5316" tabindex="-1"><a class="header-anchor" href="#_6-7-\u56FD\u9645\u5316" aria-hidden="true">#</a> 6.7 \u56FD\u9645\u5316</h3><h4 id="_6-7-1-\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_6-7-1-\u7B80\u4ECB" aria-hidden="true">#</a> 6.7.1 \u7B80\u4ECB</h4><ol><li>\u7F16\u5199\u56FD\u9645\u5316\u914D\u7F6E\u6587\u4EF6\uFF1B</li><li>\u4F7F\u7528 <code>ResourceBundleMessageSource</code> \u7BA1\u7406\u56FD\u9645\u5316\u8D44\u6E90\u6587\u4EF6\uFF1B</li><li>\u5728\u9875\u9762\u4F7F\u7528 <code>fmt:message</code> \u53D6\u51FA\u56FD\u9645\u5316\u5185\u5BB9\u3002</li></ol><h4 id="_6-7-2-\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_6-7-2-\u6B65\u9AA4" aria-hidden="true">#</a> 6.7.2 \u6B65\u9AA4</h4><ol><li>\u7F16\u5199\u56FD\u9645\u5316\u914D\u7F6E\u6587\u4EF6\uFF0C\u62BD\u53D6\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u56FD\u9645\u5316\u6D88\u606F\uFF1B</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109688-89c69511-6d11-499d-a1d7-bf7cf48e7a98.png" alt="\u56FD\u9645\u5316\u914D\u7F6E\u6587\u4EF6"></p><ol start="2"><li>SpringBoot \u81EA\u52A8\u914D\u7F6E\u597D\u4E86\u7BA1\u7406\u56FD\u9645\u5316\u8D44\u6E90\u6587\u4EF6\u7684\u7EC4\u4EF6\uFF1B</li></ol><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>public class MessageSourceAutoConfiguration {
    private static final Resource[] NO_RESOURCES = {};

    @Bean
    // \u6211\u4EEC\u7684\u914D\u7F6E\u6587\u4EF6\u53EF\u4EE5\u76F4\u63A5\u653E\u5728\u7C7B\u8DEF\u5F84\u4E0B\u53EBmessages.properties\u3002
    @ConfigurationProperties(prefix = &quot;spring.messages&quot;)
    public MessageSourceProperties messageSourceProperties() {
        return new MessageSourceProperties();
    }

    @Bean
    public MessageSource messageSource(MessageSourceProperties properties) {
        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();
        if (StringUtils.hasText(properties.getBasename())) {
            // \u8BBE\u7F6E\u56FD\u9645\u5316\u8D44\u6E90\u6587\u4EF6\u7684\u57FA\u7840\u540D\uFF08\u53BB\u6389\u8BED\u8A00\u56FD\u5BB6\u4EE3\u7801\u7684\uFF09\u3002
            messageSource.setBasenames(StringUtils
                    .commaDelimitedListToStringArray(StringUtils.trimAllWhitespace(properties.getBasename())));
        }
        if (properties.getEncoding() != null) {
            messageSource.setDefaultEncoding(properties.getEncoding().name());
        }
        messageSource.setFallbackToSystemLocale(properties.isFallbackToSystemLocale());
        Duration cacheDuration = properties.getCacheDuration();
        if (cacheDuration != null) {
            messageSource.setCacheMillis(cacheDuration.toMillis());
        }
        messageSource.setAlwaysUseMessageFormat(properties.isAlwaysUseMessageFormat());
        messageSource.setUseCodeAsDefaultMessage(properties.isUseCodeAsDefaultMessage());
        return messageSource;
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u53BB\u9875\u9762\u83B7\u53D6\u56FD\u9645\u5316\u7684\u5185\u5BB9\u3002</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109713-04088a42-a925-4a03-857a-ba3b119d4adf.png" alt="image"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Signin Template for Bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Bootstrap core CSS --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>asserts/css/bootstrap.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/webjars/bootstrap/4.4.1/css/bootstrap.css}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Custom styles for this template --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>asserts/css/signin.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/asserts/css/signin.css}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-signin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dashboard.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mb-4<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/asserts/img/bootstrap-solid.svg}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>asserts/img/bootstrap-solid.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h3 mb-3 font-weight-normal<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.tip}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Please sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sr-only<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Username<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.username}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">autofocus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sr-only<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Password<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.password}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox mb-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>remember-me<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> [[#{login.remember}]]
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-lg btn-primary btn-block<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{login.btn}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mt-5 mb-3 text-muted<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\xA9 2020-2021<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-sm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E2D\u6587<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-sm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6548\u679C\uFF1A\u6839\u636E\u6D4F\u89C8\u5668\u8BBE\u7F6E\u7684\u8BED\u8A00\u4FE1\u606F\u5207\u6362\u4E86\u56FD\u9645\u5316\u3002</p><h4 id="_6-7-3-\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_6-7-3-\u539F\u7406" aria-hidden="true">#</a> 6.7.3 \u539F\u7406</h4><ul><li><code>Locale</code>\uFF1A\u533A\u57DF\u4FE1\u606F\u5BF9\u8C61\uFF1B</li><li><code>LocaleResolver</code>\uFF1A\u83B7\u53D6\u533A\u57DF\u4FE1\u606F\u5BF9\u8C61\u3002</li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Bean
@ConditionalOnMissingBean
@ConditionalOnProperty(prefix = &quot;spring.mvc&quot;, name = &quot;locale&quot;)
public LocaleResolver localeResolver() {
    if (this.mvcProperties.getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) {
        return new FixedLocaleResolver(this.mvcProperties.getLocale());
    }
    AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver();
    localeResolver.setDefaultLocale(this.mvcProperties.getLocale());
    return localeResolver;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9ED8\u8BA4\u7684\u5C31\u662F\u6839\u636E\u8BF7\u6C42\u5934\u5E26\u6765\u7684\u533A\u57DF\u4FE1\u606F\u83B7\u53D6 <code>Locale</code> \u8FDB\u884C\u56FD\u9645\u5316\u3002</p><ol start="4"><li>\u70B9\u51FB\u94FE\u63A5\u5207\u6362\u56FD\u9645\u5316</li></ol><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// \u53EF\u4EE5\u5728\u94FE\u63A5\u4E0A\u643A\u5E26\u533A\u57DF\u4FE1\u606F
public class MyLocaleResolver implements LocaleResolver {
    @Override
    public Locale resolveLocale(HttpServletRequest request) {
        String l = request.getParameter(&quot;l&quot;);
        Locale locale = Locale.getDefault();
        if(!StringUtils.isEmpty(l)){
            String[] split = l.split(&quot;_&quot;);
            locale = new Locale(split[0],split[1]);
        }
        return locale;
    }

    @Override
    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {

    }

@Bean
    public LocaleResolver localeResolver(){
        return new MyLocaleResolver();
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7\u3001restful-\u7684-crud" tabindex="-1"><a class="header-anchor" href="#_7\u3001restful-\u7684-crud" aria-hidden="true">#</a> 7\u3001RESTful \u7684 CRUD</h2><h3 id="_7-1-\u5B9E\u9A8C\u8981\u6C42" tabindex="-1"><a class="header-anchor" href="#_7-1-\u5B9E\u9A8C\u8981\u6C42" aria-hidden="true">#</a> 7.1 \u5B9E\u9A8C\u8981\u6C42</h3><ol><li><strong>CRUD</strong> \u6EE1\u8DB3 <strong>REST</strong> \u98CE\u683C\u3002</li></ol><p><strong>URI</strong>\uFF1A<strong>/\u8D44\u6E90\u540D\u79F0/\u8D44\u6E90\u6807\u8BC6</strong>\uFF0C\u4EE5 <strong>HTTP</strong> \u8BF7\u6C42\u65B9\u5F0F\u533A\u5206\u5BF9\u8D44\u6E90\u7684 <strong>CRUD</strong> \u64CD\u4F5C\u3002</p><table><thead><tr><th></th><th>\u666E\u901A\u7684 CRUD\uFF08URI \u6765\u533A\u5206\u64CD\u4F5C\uFF09</th><th>RESTful \u7684 CRUD</th></tr></thead><tbody><tr><td>\u67E5\u8BE2</td><td>getEmp</td><td>emp---GET</td></tr><tr><td>\u6DFB\u52A0</td><td>addEmp?xxx</td><td>emp---POST</td></tr><tr><td>\u4FEE\u6539</td><td>updateEmp?id=xxx&amp;xxx=xx</td><td>emp/{id}---PUT</td></tr><tr><td>\u5220\u9664</td><td>deleteEmp?id=1</td><td>emp/{id}---DELETE</td></tr></tbody></table><ol start="2"><li>\u8BF7\u6C42\u67B6\u6784</li></ol><table><thead><tr><th>\u5B9E\u9A8C\u529F\u80FD</th><th>\u8BF7\u6C42 URI</th><th>\u8BF7\u6C42\u65B9\u5F0F</th></tr></thead><tbody><tr><td>\u67E5\u8BE2\u6240\u6709\u5458\u5DE5</td><td>emps</td><td>GET</td></tr><tr><td>\u67E5\u8BE2\u67D0\u4E2A\u5458\u5DE5\uFF08\u6765\u5230\u4FEE\u6539\u9875\u9762\uFF09</td><td>emp/1</td><td>GET</td></tr><tr><td>\u6765\u5230\u6DFB\u52A0\u9875\u9762</td><td>emp</td><td>GET</td></tr><tr><td>\u6DFB\u52A0\u5458\u5DE5</td><td>emp</td><td>POST</td></tr><tr><td>\u6765\u5230\u4FEE\u6539\u9875\u9762\uFF08\u67E5\u51FA\u5458\u5DE5\u4FE1\u606F\u5E76\u8FDB\u884C\u56DE\u663E\uFF09</td><td>emp/1</td><td>GET</td></tr><tr><td>\u4FEE\u6539\u5458\u5DE5</td><td>emp</td><td>PUT</td></tr><tr><td>\u5220\u9664\u5458\u5DE5</td><td>emp/1</td><td>DELETE</td></tr></tbody></table><h3 id="_7-2-crud-\u5458\u5DE5\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_7-2-crud-\u5458\u5DE5\u5217\u8868" aria-hidden="true">#</a> 7.2 CRUD-\u5458\u5DE5\u5217\u8868</h3><p><strong>Thymeleaf</strong> \u516C\u5171\u9875\u9762\u5143\u7D20\u62BD\u53D6\uFF1A</p><ol><li><p>\u62BD\u53D6\u516C\u5171\u7247\u6BB5</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="\xA9">&amp;copy;</span> 2021 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u5F15\u5165\u516C\u5171\u7247\u6BB5</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~{footer :: copy}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>~{templatename::selector}</code> -&gt; \u6A21\u677F\u540D :: \u9009\u62E9\u5668</li><li><code>~{templatename::fragmentname}</code> -&gt; \u6A21\u677F\u540D :: \u7247\u6BB5\u540D</li></ul></li><li><p>\u9ED8\u8BA4\u6548\u679C</p><ul><li><code>insert</code> \u7684\u516C\u5171\u7247\u6BB5\u5728 <code>div</code> \u6807\u7B7E\u4E2D\uFF1B</li><li>\u5982\u679C\u4F7F\u7528 <code>th:insert</code> \u7B49\u5C5E\u6027\u8FDB\u884C\u5F15\u5165\uFF0C\u53EF\u4EE5\u4E0D\u7528\u5199 <code>~{}</code>\uFF1B</li><li>\u884C\u5185\u5199\u6CD5\uFF1A<code>[[~{}]]</code> \u6216 <code>[(~{})]</code>\u3002</li></ul></li></ol><p>\u4E09\u79CD\u5F15\u5165\u516C\u5171\u7247\u6BB5\u7684 <code>th</code> \u5C5E\u6027\uFF1A</p><ul><li><code>th:insert</code>\uFF1A\u5C06\u516C\u5171\u7247\u6BB5\u6574\u4E2A<strong>\u63D2\u5165</strong>\u5230\u58F0\u660E\u5F15\u5165\u7684\u5143\u7D20\u4E2D\uFF1B</li><li><code>th:replace</code>\uFF1A\u5C06\u58F0\u660E\u5F15\u5165\u7684\u5143\u7D20<strong>\u66FF\u6362</strong>\u4E3A\u516C\u5171\u7247\u6BB5\uFF1B</li><li><code>th:include</code>\uFF1A\u5C06\u88AB\u5F15\u5165\u7684\u7247\u6BB5\u7684\u5185\u5BB9<strong>\u5305\u542B</strong>\u8FDB\u8FD9\u4E2A\u6807\u7B7E\u4E2D\u3002</li></ul>`,113),ms=s("\u53C2\u8003\uFF1A"),bs={href:"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#template-layout",target:"_blank",rel:"noopener noreferrer"},hs=s("Tutorial: Using Thymeleaf"),qs=e(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="\xA9">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u4E09\u79CD\u5F15\u5165\u65B9\u5F0F --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer :: copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer :: copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer :: copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5BF9\u5E94\u7684\u6548\u679C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="\xA9">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="\xA9">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="\xA9">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F15\u5165\u7247\u6BB5\u7684\u65F6\u5019\u4F20\u5165\u53C2\u6570\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col-md-2 d-none d-md-block bg-light sidebar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sidebar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sidebar-sticky<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav flex-column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav-link active<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${activeUri==<span class="token punctuation">&#39;</span>main.html<span class="token punctuation">&#39;</span> ? <span class="token punctuation">&#39;</span>nav-link active<span class="token punctuation">&#39;</span> : <span class="token punctuation">&#39;</span>nav-link<span class="token punctuation">&#39;</span>}<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/main.html}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0 0 24 24<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>none<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>feather feather-home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>9 22 9 12 15 12 15 22<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Dashboard <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sr-only<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>(current)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5F15\u5165\u4FA7\u8FB9\u680F\u5E76\u4F20\u5165\u53C2\u6570 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commons/bar :: #sidebar(activeUri=<span class="token punctuation">&#39;</span>emps<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-crud-\u5458\u5DE5\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#_7-3-crud-\u5458\u5DE5\u6DFB\u52A0" aria-hidden="true">#</a> 7.3 CRUD-\u5458\u5DE5\u6DFB\u52A0</h3><p>\u6DFB\u52A0\u9875\u9762\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/emp}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>LastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LastName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan@atguigu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Gender<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check form-check-inline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7537<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check form-check-inline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5973<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>department<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- \u63D0\u4EA4\u7684\u662F\u90E8\u95E8\u7684 id --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${dept.id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept:\${depts}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${dept.departmentName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Birth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-4-crud-\u5458\u5DE5\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#_7-4-crud-\u5458\u5DE5\u4FEE\u6539" aria-hidden="true">#</a> 7.4 CRUD-\u5458\u5DE5\u4FEE\u6539</h3><p>\u4FEE\u6539\u6DFB\u52A0\u4E8C\u5408\u4E00\u8868\u5355\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u9700\u8981\u533A\u5206\u662F\u5458\u5DE5\u4FEE\u6539\u8FD8\u662F\u6DFB\u52A0 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/emp}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u53D1\u9001 PUT \u8BF7\u6C42\u4FEE\u6539\u5458\u5DE5\u6570\u636E --&gt;</span>
    <span class="token comment">&lt;!-- REST \u4F7F\u7528\u65B9\u5F0F\uFF1A
         1\u3001SpringMVC \u4E2D\u914D\u7F6E HiddenHttpMethodFilter\uFF08Springboot \u81EA\u52A8\u914D\u7F6E\uFF09\uFF1B
         2\u3001\u9875\u9762\u521B\u5EFA\u4E00\u4E2A POST \u8868\u5355\uFF1B
         3\u3001\u521B\u5EFA\u4E00\u4E2A input \u9879\uFF0Cname=&quot;_method&quot;\uFF0C\u503C\u5C31\u662F\u6211\u4EEC\u6307\u5B9A\u7684\u8BF7\u6C42\u65B9\u5F0F\u3002
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>put<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>LastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${emp.lastName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan@atguigu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${emp.email}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Gender<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check form-check-inline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${emp.gender==1}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7537<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check form-check-inline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${emp.gender==0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-check-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5973<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>department<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- \u63D0\u4EA4\u7684\u662F\u90E8\u95E8\u7684 id --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>      
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name"><span class="token namespace">th:</span>selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${dept.id}==\${emp.department.id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${dept.id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept:\${depts}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${dept.departmentName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Birth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhangsan<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?\${#dates.format(emp.birth, <span class="token punctuation">&#39;</span>yyyy-MM-dd HH:mm<span class="token punctuation">&#39;</span>)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp!=null}?<span class="token punctuation">&#39;</span>\u4FEE\u6539<span class="token punctuation">&#39;</span>:<span class="token punctuation">&#39;</span>\u6DFB\u52A0<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-5-crud-\u5458\u5DE5\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#_7-5-crud-\u5458\u5DE5\u5220\u9664" aria-hidden="true">#</a> 7.5 CRUD-\u5458\u5DE5\u5220\u9664</h3><p>\u5982\u679C\u62A5\u9519\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>HttpRequestMethodNotSupportedException</span><span class="token operator">:</span> <span class="token class-name">Request</span> method <span class="token char">&#39;POST&#39;</span> not supported
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u90A3\u4E48\u9700\u8981\u5728 <strong>application.properties</strong> \u4E2D\u914D\u7F6E\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># \u542F\u7528 hiddenMethod \u8FC7\u6EE4\u5668</span>
<span class="token key attr-name">spring.mvc.hiddenmethod.filter.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp:\${emps}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>[[\${emp.lastName}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp.email}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp.gender}==0?<span class="token punctuation">&#39;</span>\u5973<span class="token punctuation">&#39;</span>:<span class="token punctuation">&#39;</span>\u7537<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${emp.department.departmentName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.format(emp.birth, <span class="token punctuation">&#39;</span>yyyy-MM-dd HH:mm<span class="token punctuation">&#39;</span>)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-sm btn-primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/emp/}+\${emp.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7F16\u8F91<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>del_uri=@{/emp/}+\${emp.id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-sm btn-danger deleteBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5220\u9664<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.deleteBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// \u5220\u9664\u5F53\u524D\u5458\u5DE5</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#deleteEmpForm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;del_uri&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8\u3001\u62E6\u622A\u5668" tabindex="-1"><a class="header-anchor" href="#_8\u3001\u62E6\u622A\u5668" aria-hidden="true">#</a> 8\u3001\u62E6\u622A\u5668</h2><h3 id="_8-1-handlerinterceptor-\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#_8-1-handlerinterceptor-\u63A5\u53E3" aria-hidden="true">#</a> 8.1 <code>HandlerInterceptor</code> \u63A5\u53E3</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 * \u767B\u5F55\u68C0\u67E5\uFF1A
 * 1\u3001\u914D\u7F6E\u597D\u62E6\u622A\u5668\u8981\u62E6\u622A\u54EA\u4E9B\u8BF7\u6C42\uFF1B
 * 2\u3001\u628A\u8FD9\u4E9B\u914D\u7F6E\u653E\u5728\u5BB9\u5668\u4E2D\u3002
 */
@Slf4j
public class LoginInterceptor implements HandlerInterceptor {
    // \u76EE\u6807\u65B9\u6CD5\u6267\u884C\u4E4B\u524D
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        String requestURI = request.getRequestURI();
        log.info(&quot;preHandle \u62E6\u622A\u7684\u8BF7\u6C42\u8DEF\u5F84\u662F {}&quot;,requestURI);

        // \u767B\u5F55\u68C0\u67E5\u903B\u8F91
        HttpSession session = request.getSession();
        Object loginUser = session.getAttribute (&quot;loginUser&quot;);
        if (loginUser != null){
            // \u653E\u884C
            return true;
        }

        // \u672A\u767B\u5F55\uFF1A\u62E6\u622A\u4F4F\u8BF7\u6C42\uFF0C\u7136\u540E\u8DF3\u8F6C\u5230\u767B\u5F55\u9875
        request.setAttribute(&quot;msg&quot;,&quot;\u8BF7\u5148\u767B\u5F55&quot;);
        // request.sendRedirect(&quot;/&quot;);
        request.getRequestDispatcher(&quot;/&quot;).forward(request,response);
        return false;
    }

    // \u76EE\u6807\u65B9\u6CD5\u6267\u884C\u5B8C\u6210\u4EE5\u540E
    @Override
    public void postHandle (HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {
        log.info (&quot;postHandle \u6267\u884C {}&quot;, modelAndView);
    }

    // \u9875\u9762\u6E32\u67D3\u5B8C\u6210\u4EE5\u540E
    @Override
    public void afterCompletion (HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {
        log.info (&quot;afterCompletion \u6267\u884C\u5F02\u5E38 {}&quot;,ex);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-\u914D\u7F6E\u62E6\u622A\u5668" tabindex="-1"><a class="header-anchor" href="#_8-2-\u914D\u7F6E\u62E6\u622A\u5668" aria-hidden="true">#</a> 8.2 \u914D\u7F6E\u62E6\u622A\u5668</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>/**
 * 1\u3001\u7F16\u5199\u4E00\u4E2A\u62E6\u622A\u5668\u5B9E\u73B0 HandlerInterceptor \u63A5\u53E3
 * 2\u3001\u62E6\u622A\u5668\u6CE8\u518C\u5230\u5BB9\u5668\u4E2D\uFF08\u5B9E\u73B0 WebMvcConfigurer \u7684 addInterceptors \u65B9\u6CD5\uFF09
 * 3\u3001\u6307\u5B9A\u62E6\u622A\u89C4\u5219\uFF08\u5982\u679C\u662F\u62E6\u622A\u6240\u6709\uFF0C\u9759\u6001\u8D44\u6E90\u4E5F\u4F1A\u88AB\u62E6\u622A\uFF09
 */
@Configuration
public class AdminWebConfig implements WebMvcConfigurer {
    @Override
    public void addInterceptors (InterceptorRegistry registry) {
        registry.addInterceptor (new LoginInterceptor ())
                .addPathPatterns (&quot;/**&quot;)  // \u6240\u6709\u8BF7\u6C42\u90FD\u88AB\u62E6\u622A\u5305\u62EC\u9759\u6001\u8D44\u6E90
                .excludePathPatterns (&quot;/&quot;,&quot;/login&quot;,&quot;/css/**&quot;,&quot;/fonts/**&quot;,&quot;/images/**&quot;,&quot;/js/**&quot;); // \u653E\u884C\u7684\u8BF7\u6C42
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-3-\u62E6\u622A\u5668\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_8-3-\u62E6\u622A\u5668\u539F\u7406" aria-hidden="true">#</a> 8.3 \u62E6\u622A\u5668\u539F\u7406</h3><ol><li><p>\u6839\u636E\u5F53\u524D\u8BF7\u6C42\uFF0C\u627E\u5230 <code>HandlerExecutionChain</code>\uFF08\u53EF\u4EE5\u5904\u7406\u8BF7\u6C42\u7684 handler \u4EE5\u53CA handler \u7684\u6240\u6709\u62E6\u622A\u5668\uFF09\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605764129365-5b31a748-1541-4bee-9692-1917b3364bc6.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_44%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="mappedHandler"></p></li><li><p>\u5148\u6765<strong>\u987A\u5E8F\u6267\u884C</strong>\u6240\u6709\u62E6\u622A\u5668\u7684 <code>preHandle</code> \u65B9\u6CD5\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1626617930537-72c79112-cb73-47e3-a35f-66f93a8b09a1.png" alt="preHandle"></p></li></ol><ul><li>\u5982\u679C\u5F53\u524D\u62E6\u622A\u5668 <code>prehandler</code> \u8FD4\u56DE <code>true</code>\uFF0C\u5219<strong>\u6267\u884C</strong>\u4E0B\u4E00\u4E2A\u62E6\u622A\u5668\u7684 <code>preHandle</code>\uFF1B</li><li>\u5982\u679C\u5F53\u524D\u62E6\u622A\u5668 <code>prehandler</code> \u8FD4\u56DE <code>false</code>\uFF0C\u76F4\u63A5<strong>\u5012\u5E8F\u89E6\u53D1</strong>\u6240\u6709<strong>\u5DF2\u7ECF\u6267\u884C</strong>\u4E86\u7684\u62E6\u622A\u5668\u7684 <code>afterCompletion</code>\uFF1B</li></ul><ol start="3"><li><p>\u5982\u679C\u4EFB\u4F55\u4E00\u4E2A\u62E6\u622A\u5668\u8FD4\u56DE <code>false</code>\uFF0C\u76F4\u63A5<strong>\u8DF3\u51FA</strong>\uFF0C<strong>\u4E0D\u6267\u884C</strong>\u76EE\u6807\u65B9\u6CD5\uFF1B</p></li><li><p>\u5982\u679C\u6240\u6709\u62E6\u622A\u5668\u90FD\u8FD4\u56DE <code>true</code>\uFF0C<strong>\u6267\u884C</strong>\u76EE\u6807\u65B9\u6CD5\uFF1B</p></li><li><p><strong>\u5012\u5E8F\u6267\u884C</strong>\u6240\u6709\u62E6\u622A\u5668\u7684 <code>postHandle</code> \u65B9\u6CD5\uFF1B</p></li><li><p>\u524D\u9762\u7684\u6B65\u9AA4\u6709\u4EFB\u4F55\u5F02\u5E38\uFF0C\u90FD\u4F1A\u76F4\u63A5<strong>\u5012\u5E8F\u89E6\u53D1</strong> <code>afterCompletion</code>\uFF1B</p></li><li><p>\u9875\u9762\u6210\u529F\u6E32\u67D3\u5B8C\u6210\u4EE5\u540E\uFF0C\u4E5F\u4F1A<strong>\u5012\u5E8F\u89E6\u53D1</strong> <code>afterCompletion</code>\u3002</p></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1605765121071-64cfc649-4892-49a3-ac08-88b52fb4286f.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_35%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="\u62E6\u622A\u5668\u6267\u884C\u987A\u5E8F"></p><h2 id="_9\u3001\u6587\u4EF6\u4E0A\u4F20" tabindex="-1"><a class="header-anchor" href="#_9\u3001\u6587\u4EF6\u4E0A\u4F20" aria-hidden="true">#</a> 9\u3001\u6587\u4EF6\u4E0A\u4F20</h2><p>\u4E00\u4E2A\u6587\u4EF6\u4E0A\u4F20\u7684\u8FC7\u7A0B\u5982\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="https://img2018.cnblogs.com/blog/242916/201811/242916-20181110161028169-1735049652.png" alt="\u6587\u4EF6\u4E0A\u4F20\u8FC7\u7A0B"></p><ol><li>\u6D4F\u89C8\u5668\u53D1\u8D77 <strong>HTTP POST</strong> \u8BF7\u6C42\uFF0C\u6307\u5B9A\u8BF7\u6C42\u5934\uFF1A <em><strong>Content-Type: multipart/form-data</strong></em></li><li>\u670D\u52A1\u7AEF\u89E3\u6790\u8BF7\u6C42\u5185\u5BB9\uFF0C\u6267\u884C\u6587\u4EF6\u4FDD\u5B58\u5904\u7406\uFF0C\u8FD4\u56DE\u6210\u529F\u6D88\u606F\u3002</li></ol>`,29),fs=s("\u53C2\u8003\uFF1A"),_s={href:"https://www.cnblogs.com/littleatp/p/9939705.html",target:"_blank",rel:"noopener noreferrer"},ys=s("\u6587\u4EF6\u4E0A\u4F20\u539F\u7406"),xs=e(`<h3 id="_9-1-\u9875\u9762\u8868\u5355" tabindex="-1"><a class="header-anchor" href="#_9-1-\u9875\u9762\u8868\u5355" aria-hidden="true">#</a> 9.1 \u9875\u9762\u8868\u5355</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u63D0\u4EA4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-2-\u9650\u5236\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F" tabindex="-1"><a class="header-anchor" href="#_9-2-\u9650\u5236\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F" aria-hidden="true">#</a> 9.2 \u9650\u5236\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">multipart</span><span class="token punctuation">:</span>
      <span class="token key atrule">max-file-size</span><span class="token punctuation">:</span> 10MB <span class="token comment"># \u5355\u4E2A\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u4E0A\u9650</span>
      <span class="token key atrule">max-request-size</span><span class="token punctuation">:</span> 100MB <span class="token comment"># \u4E00\u6B21\u8BF7\u6C42\u4E0A\u4F20\u6240\u6709\u6587\u4EF6\u5927\u5C0F\u4E0A\u9650</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-\u6587\u4EF6\u4E0A\u4F20\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_9-3-\u6587\u4EF6\u4E0A\u4F20\u4EE3\u7801" aria-hidden="true">#</a> 9.3 \u6587\u4EF6\u4E0A\u4F20\u4EE3\u7801</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// MultipartFile \u81EA\u52A8\u5C01\u88C5\u4E0A\u4F20\u8FC7\u6765\u7684\u6587\u4EF6
@PostMapping(&quot;/upload&quot;)
public String upload(@RequestParam(&quot;email&quot;) String email,
                     @RequestParam(&quot;username&quot;) String username,
                     @RequestPart(&quot;headerImg&quot;) MultipartFile headerImg,
                     @RequestPart(&quot;photos&quot;) MultipartFile[] photos) throws IOException {
    log.info(&quot;\u4E0A\u4F20\u7684\u4FE1\u606F\uFF1Aemail={}\uFF0Cusername={}\uFF0CheaderImg={}\uFF0Cphotos={}&quot;,
            email, username, headerImg.getSize(), photos.length);

    if(!headerImg.isEmpty()){
        // \u4FDD\u5B58\u5230\u6587\u4EF6\u670D\u52A1\u5668\uFF0COSS\u670D\u52A1\u5668
        String originalFilename = headerImg.getOriginalFilename();
        headerImg.transferTo(new File(&quot;D:\\\\cache\\\\&quot;+originalFilename));
    }

    if(photos.length &gt; 0){
        for (MultipartFile photo : photos) {
            if(!photo.isEmpty()){
                String originalFilename = photo.getOriginalFilename();
                photo.transferTo(new File(&quot;D:\\\\cache\\\\&quot; + originalFilename));
            }
        }
    }

    return &quot;main&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-4-\u81EA\u52A8\u914D\u7F6E\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_9-4-\u81EA\u52A8\u914D\u7F6E\u539F\u7406" aria-hidden="true">#</a> 9.4 \u81EA\u52A8\u914D\u7F6E\u539F\u7406</h3><p>\u6587\u4EF6\u4E0A\u4F20\u81EA\u52A8\u914D\u7F6E\u7C7B <code>MultipartAutoConfiguration</code> \u81EA\u52A8\u914D\u7F6E\u597D\u4E86\u6587\u4EF6\u4E0A\u4F20\u89E3\u6790\u5668 <code>StandardServletMultipartResolver</code>\uFF08\u4F7F\u7528 Servlet \u6240\u63D0\u4F9B\u7684\u529F\u80FD\u652F\u6301\uFF0C\u4E0D\u9700\u8981\u4F9D\u8D56\u4EFB\u4F55\u5176\u4ED6\u7684\u9879\u76EE\uFF09 \u3002</p><p>\u539F\u7406\u6B65\u9AA4\uFF1A</p><ol><li><p><code>request</code> \u8BF7\u6C42\u8FDB\u6765\u4F7F\u7528\u6587\u4EF6\u4E0A\u4F20\u89E3\u6790\u5668\u5224\u65AD\uFF08<code>isMultipart(request</code>\uFF09\u5E76\u5C01\u88C5\uFF08<code>resolveMultipart(request)</code>\uFF09\uFF0C\u8FD4\u56DE\uFF08<code>MultipartHttpServletRequest</code>\uFF09\u6587\u4EF6\u4E0A\u4F20\u8BF7\u6C42\uFF1B</p></li><li><p>\u53C2\u6570\u89E3\u6790\u5668 <code>RequestPartMethodArgumentResolver</code> \u6765\u89E3\u6790\u8BF7\u6C42\u4E2D\u7684\u6587\u4EF6\u5185\u5BB9\u5E76\u5C01\u88C5\u6210 <code>MultipartFile</code>\uFF08\u4E0A\u4F20\u6587\u4EF6\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5982\u539F\u59CB\u6587\u4EF6\u540D\u3001\u5185\u5BB9\u7C7B\u578B\u3001\u5927\u5C0F\u7B49\u7B49\uFF09\uFF1B</p></li><li><p>\u5C06 <code>request</code> \u4E2D\u7684\u6587\u4EF6\u4FE1\u606F\u5C01\u88C5\u4E3A\u4E00\u4E2A <code>MultiValueMap&lt;String, MultipartFile&gt;</code>\uFF1B</p></li><li><p>\u904D\u5386 <code>MultiValueMap</code> \u5BF9\u4E8E\u6BCF\u4E00\u4E2A <code>MultipartFile</code> \u8C03\u7528 <code>FileCopyUtils.copy()</code> \u5B9E\u73B0\u6587\u4EF6\u6D41\u7684\u62F7\u8D1D\u3002</p></li></ol><h2 id="_10\u3001\u5F02\u5E38\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_10\u3001\u5F02\u5E38\u5904\u7406" aria-hidden="true">#</a> 10\u3001\u5F02\u5E38\u5904\u7406</h2><h3 id="_10-1-\u9ED8\u8BA4\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_10-1-\u9ED8\u8BA4\u89C4\u5219" aria-hidden="true">#</a> 10.1 \u9ED8\u8BA4\u89C4\u5219</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CSpringBoot \u63D0\u4F9B <code>/error</code> \u5904\u7406\u6240\u6709\u9519\u8BEF\u7684\u6620\u5C04\u3002</p><ul><li><p>\u5BF9\u4E8E\u6D4F\u89C8\u5668\u5BA2\u6237\u7AEF\uFF0C\u54CD\u5E94\u4E00\u4E2A <strong>Whitelabel</strong> \u9519\u8BEF\u9875\u9762\uFF08\u56E0\u4E3A\u6D4F\u89C8\u5668\u8BF7\u6C42\u5934\u7684 <strong>Accept</strong> \u5B57\u6BB5\u9ED8\u8BA4\u4EE5 <strong>text/html</strong> \u5F00\u5934\uFF09\uFF0C\u4E2D\u5305\u542B\u9519\u8BEF\uFF0C<strong>HTTP</strong> \u72B6\u6001\u548C\u5F02\u5E38\u6D88\u606F\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606024616835-bc491bf0-c3b1-4ac3-b886-d4ff3c9874ce.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_28%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="html \u54CD\u5E94"></p></li><li><p>\u5BF9\u4E8E\u5176\u4ED6\u5BA2\u6237\u7AEF\uFF08\u5982 <strong>Postman</strong>\uFF09\uFF0C\u5B83\u5C06\u751F\u6210 <strong>json</strong> \u54CD\u5E94\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606024421363-77083c34-0b0e-4698-bb72-42da351d3944.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_14%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="json \u54CD\u5E94"></p></li></ul><p>\u8981\u5BF9\u5176\u8FDB\u884C\u81EA\u5B9A\u4E49\uFF0C\u6DFB\u52A0 <code>View</code> \u89E3\u6790\u4E3A <code>error</code></p><p>\u8981\u5B8C\u5168\u66FF\u6362\u9ED8\u8BA4\u884C\u4E3A\uFF0C\u53EF\u4EE5\u5B9E\u73B0 <code>ErrorController </code> \u5E76\u6CE8\u518C\u8BE5\u7C7B\u578B\u7684 <code>Bean</code> \u5B9A\u4E49\uFF0C\u6216\u6DFB\u52A0 <code>ErrorAttributes</code> \u7C7B\u578B\u7684\u7EC4\u4EF6\u4EE5\u4F7F\u7528\u73B0\u6709\u673A\u5236\u4F46\u66FF\u6362\u5176\u5185\u5BB9\u3002</p><h3 id="_10-2-\u5B9A\u5236\u5F02\u5E38\u5904\u7406\u903B\u8F91" tabindex="-1"><a class="header-anchor" href="#_10-2-\u5B9A\u5236\u5F02\u5E38\u5904\u7406\u903B\u8F91" aria-hidden="true">#</a> 10.2 \u5B9A\u5236\u5F02\u5E38\u5904\u7406\u903B\u8F91</h3><p><strong>error/404.html</strong>\u3001<strong>error/5xx.html</strong>\uFF1A\u6709\u7CBE\u786E\u7684\u9519\u8BEF\u72B6\u6001\u7801\u9875\u9762\u5C31\u5339\u914D\u7CBE\u786E\uFF0C\u6CA1\u6709\u5C31\u627E <strong>4xx.html</strong>\uFF0C\u5982\u679C\u90FD\u6CA1\u6709\u5C31\u89E6\u53D1\u767D\u9875\u3002</p><p>\u81EA\u5B9A\u4E49\u9519\u8BEF\u9875\uFF1A</p><ol><li><p><code>@ControllerAdvice</code> + <code>@ExceptionHandler</code> \u5904\u7406\u5168\u5C40\u5F02\u5E38\uFF0C\u5E95\u5C42\u662F <code>ExceptionHandlerExceptionResolver</code> \u652F\u6301\u7684\u3002</p></li><li><p>\u81EA\u5B9A\u4E49\u5B9E\u73B0 <code>HandlerExceptionResolver</code> \u5904\u7406\u5F02\u5E38\uFF0C\u53EF\u4EE5\u4F5C\u4E3A\u9ED8\u8BA4\u7684\u5168\u5C40\u5F02\u5E38\u5904\u7406\u89C4\u5219\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606114688649-e6502134-88b3-48db-a463-04c23eddedc7.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_16%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="HandlerExceptionResolver"></p></li><li><p><code>ErrorViewResolver</code> \u5B9E\u73B0\u81EA\u5B9A\u4E49\u5F02\u5E38\u5904\u7406\u3002</p></li></ol><ul><li>\u81EA\u5DF1\u8C03\u7528 <code>response.sendError(statusCode, resolvedReason)</code>\uFF0C<strong>error</strong> \u8BF7\u6C42\u5C31\u4F1A\u8F6C\u7ED9 <code>BasicErrorController</code>\u3002</li><li>\u5982\u679C\u81EA\u5DF1\u6CA1\u6709\u8C03\u7528\uFF0C\u5E76\u4E14\u5F02\u5E38\u6CA1\u6709\u5904\u7406\u5668\u80FD\u5904\u7406\uFF0C<strong>Tomcat</strong> \u5E95\u5C42\u8C03\u7528 <code>response.sendError(statusCode, resolvedReason)</code>\uFF0C<strong>error</strong> \u8BF7\u6C42\u5C31\u4F1A\u8F6C\u7ED9 <code>BasicErrorController</code>\u3002</li><li><code>BasicErrorController</code> \u8981\u53BB\u7684\u9875\u9762\u5730\u5740\u662F <code>ErrorViewResolver</code> \u3002</li></ul><ol start="4"><li><p><code>@ResponseStatus</code> + \u81EA\u5B9A\u4E49\u5F02\u5E38</p><p>\u5E95\u5C42\u662F <code>ResponseStatusExceptionResolver</code>\uFF0C\u88AB <code>ResponseStatus</code> \u6CE8\u89E3\u7684\u5143\u7D20\u4F1A\u4F7F<strong>Tomcat</strong> \u5E95\u5C42\u8C03\u7528 <code>response.sendError(statusCode, resolvedReason)</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span>SC_BAD_REQUEST<span class="token punctuation">,</span> ex<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606114118010-f4aaf5ee-2747-4402-bc82-08321b2490ed.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_19%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="404 \u9875\u9762"></p></li></ol><h3 id="_10-3-\u5F02\u5E38\u5904\u7406\u81EA\u52A8\u914D\u7F6E\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_10-3-\u5F02\u5E38\u5904\u7406\u81EA\u52A8\u914D\u7F6E\u539F\u7406" aria-hidden="true">#</a> 10.3 \u5F02\u5E38\u5904\u7406\u81EA\u52A8\u914D\u7F6E\u539F\u7406</h3><ul><li><p><code>ErrorMvcAutoConfiguration</code> \u81EA\u52A8\u914D\u7F6E\u5F02\u5E38\u5904\u7406\u89C4\u5219\u3002</p><ol><li><p>\u5B9A\u4E49\u9519\u8BEF\u9875\u9762\u5C5E\u6027\uFF1A\u7EC4\u4EF6\u7C7B\u578B\u4E3A <code>DefaultErrorAttributes</code>\uFF0C\u7EC4\u4EF6 ID \u4E3A <code>errorAttributes</code>\u3002</p><ul><li><code>public class DefaultErrorAttributes implements ErrorAttributes, HandlerExceptionResolver</code>\u3002</li></ul></li><li><p>\u5B9A\u4E49\u9875\u9762\u8DF3\u8F6C\u903B\u8F91\uFF1A\u7EC4\u4EF6\u7C7B\u578B\u4E3A <code>BasicErrorController</code>\uFF0C\u7EC4\u4EF6 ID \u4E3A<code>basicErrorController</code>\uFF08<strong>json</strong> + \u767D\u9875 \u9002\u914D\u54CD\u5E94\uFF09\u3002</p><ul><li><p>\u5904\u7406\u9ED8\u8BA4 <strong>/error</strong> \u8DEF\u5F84\u7684\u8BF7\u6C42\uFF0C\u9875\u9762\u54CD\u5E94 <code>new ModelAndView(&quot;error&quot;, model)</code>\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Controller
@RequestMapping(&quot;\${server.error.path:\${error.path:/error}}&quot;)
public class BasicErrorController extends AbstractErrorController {
    // \u4EA7\u751F html \u7C7B\u578B\u7684\u6570\u636E\uFF0C\u6D4F\u89C8\u5668\u53D1\u9001\u7684\u8BF7\u6C42\u6765\u5230\u8FD9\u4E2A\u65B9\u6CD5\u5904\u7406
    @RequestMapping(produces = &quot;text/html&quot;)
    public ModelAndView errorHtml(HttpServletRequest request,
            HttpServletResponse response) {
        HttpStatus status = getStatus(request);
        Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes(
                request, isIncludeStackTrace(request, MediaType.TEXT_HTML)));
        response.setStatus(status.value());
        
        // \u53BB\u54EA\u4E2A\u9875\u9762\u4F5C\u4E3A\u9519\u8BEF\u9875\u9762\uFF0C\u5305\u542B\u9875\u9762\u5730\u5740\u548C\u9875\u9762\u5185\u5BB9
        ModelAndView modelAndView = resolveErrorView(request, response, status, model);
        return (modelAndView == null ? new ModelAndView(&quot;error&quot;, model) : modelAndView);
    }

    // \u4EA7\u751F json \u6570\u636E\uFF0C\u5176\u4ED6\u5BA2\u6237\u7AEF\u6765\u5230\u8FD9\u4E2A\u65B9\u6CD5\u5904\u7406
    @RequestMapping
    @ResponseBody
    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) {
        Map&lt;String, Object&gt; body = getErrorAttributes(request,
                isIncludeStackTrace(request, MediaType.ALL));
        HttpStatus status = getStatus(request);
        return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status);
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5BB9\u5668\u4E2D\u6709\u7EC4\u4EF6 <code>View</code>\uFF0C\u7EC4\u4EF6 ID \u4E3A <code>error</code>\uFF08\u54CD\u5E94\u9ED8\u8BA4\u9519\u8BEF\u9875\uFF09</p></li><li><p>\u5BB9\u5668\u4E2D\u653E\u7EC4\u4EF6 <code>BeanNameViewResolver</code>\uFF08\u89C6\u56FE\u89E3\u6790\u5668\uFF09\uFF0C\u6309\u7167\u8FD4\u56DE\u7684\u89C6\u56FE\u540D\u4F5C\u4E3A\u7EC4\u4EF6 ID \u53BB\u5BB9\u5668\u4E2D\u627E <code>View</code> \u5BF9\u8C61\u3002</p></li></ul></li><li><p>\u5B9A\u4E49\u9519\u8BEF\u9875\u9762 <strong>html</strong> \u8DEF\u5F84\uFF1A\u7C7B\u578B\u4E3A <code>DefaultErrorViewResolver</code>\uFF0C\u7EC4\u4EF6 ID \u4E3A <code>conventionErrorViewResolver</code>\u3002</p><ul><li>\u5982\u679C\u53D1\u751F\u9519\u8BEF\uFF0C\u4F1A\u4EE5 <strong>HTTP</strong> \u72B6\u6001\u7801\u4F5C\u4E3A\u89C6\u56FE\u9875\u5730\u5740\uFF08<code>viewName</code>\uFF09\uFF0C\u627E\u5230\u771F\u6B63\u7684\u9875\u9762\u3002</li><li><strong>error/404.html</strong>\u3001<strong>error/5xx.html</strong>\u3002</li></ul></li></ol></li></ul><h3 id="_10-4-\u5F02\u5E38\u5904\u7406\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#_10-4-\u5F02\u5E38\u5904\u7406\u6D41\u7A0B" aria-hidden="true">#</a> 10.4 \u5F02\u5E38\u5904\u7406\u6D41\u7A0B</h3><ol><li><p>\u6267\u884C\u76EE\u6807\u65B9\u6CD5\uFF0C\u76EE\u6807\u65B9\u6CD5\u8FD0\u884C\u671F\u95F4\u6709\u4EFB\u4F55\u5F02\u5E38\u90FD\u4F1A\u88AB <code>catch</code> \u6355\u6349\uFF0C\u800C\u4E14\u6807\u5FD7\u5F53\u524D\u8BF7\u6C42\u7ED3\u675F\uFF0C\u5E76\u4E14\u5C06\u5F02\u5E38\u8D4B\u503C\u7ED9 <code>dispatchException</code>\u3002</p></li><li><p>\u8FDB\u5165\u89C6\u56FE\u89E3\u6790\u6D41\u7A0B\uFF1A</p><p><code>processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</code></p></li><li><p><code>mv = processHandlerException</code> \u5904\u7406 handler \u53D1\u751F\u7684\u5F02\u5E38\uFF0C\u5904\u7406\u5B8C\u6210\u8FD4\u56DE <code>ModelAndView</code>\u3002</p><ol><li><p>\u904D\u5386\u6240\u6709\u7684 <code>handlerExceptionResolvers</code> \u5904\u7406\u5668\u5F02\u5E38\u89E3\u6790\u5668**\uFF0C**\u770B\u8C01\u80FD\u5904\u7406\u5F53\u524D\u5F02\u5E38\u3002</p></li><li><p>\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u5F02\u5E38\u89E3\u6790\u5668\uFF1A</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606047109161-c68a46c1-202a-4db1-bbeb-23fcae49bbe9.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_17%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><ol><li><code>DefaultErrorAttributes</code>\u5148\u6765\u5904\u7406\u5F02\u5E38\uFF0C\u628A\u5F02\u5E38\u4FE1\u606F\u4FDD\u5B58\u5230 <strong>request</strong> \u57DF\uFF0C\u5E76\u4E14\u8FD4\u56DE <code>null</code>\uFF1B</li><li>\u7136\u540E\u4EA4\u7531 <code>HandlerExceptionResolverComposite</code>\uFF0C\u904D\u5386\u5176\u4E2D\u7684\u5F02\u5E38\u5904\u7406\u5668\uFF0C\u9ED8\u8BA4\u6CA1\u6709\u5904\u7406\u5668\u80FD\u5904\u7406\u5F02\u5E38\uFF0C\u6240\u4EE5\u5F02\u5E38\u4F1A\u88AB\u629B\u51FA\u3002 <ol><li>\u5982\u679C\u5F02\u5E38\u6CA1\u6709\u5904\u7406\u5668\u80FD\u5904\u7406\uFF0C\u6700\u7EC8 <strong>Tomcat</strong> \u5E95\u5C42 \u5C31\u4F1A\u53D1\u9001 <code>/error</code> \u8BF7\u6C42\uFF0C\u4F1A\u88AB\u5E95\u5C42\u7684 <code>BasicErrorController</code> \u5904\u7406\u3002</li><li>\u89E3\u6790\u9519\u8BEF\u89C6\u56FE\uFF1A\u904D\u5386\u6240\u6709\u7684 <code>ErrorViewResolver</code> \u770B\u8C01\u80FD\u89E3\u6790\u3002</li><li>\u9ED8\u8BA4\u7684 <code>DefaultErrorViewResolver </code>\uFF0C\u4F5C\u7528\u662F\u628A\u54CD\u5E94\u72B6\u6001\u7801\u4F5C\u4E3A\u9519\u8BEF\u9875\u7684\u5730\u5740\uFF0C<strong>error/500.html</strong> \u3002</li><li>\u6A21\u677F\u5F15\u64CE\u6700\u7EC8\u54CD\u5E94\u8FD9\u4E2A\u9875\u9762 <strong>error/500.html</strong>\u3002</li></ol></li></ol></li></ol></li></ol><h2 id="_11\u3001web-\u539F\u751F\u7EC4\u4EF6\u6CE8\u5165-servlet\u3001filter\u3001listener" tabindex="-1"><a class="header-anchor" href="#_11\u3001web-\u539F\u751F\u7EC4\u4EF6\u6CE8\u5165-servlet\u3001filter\u3001listener" aria-hidden="true">#</a> 11\u3001Web \u539F\u751F\u7EC4\u4EF6\u6CE8\u5165\uFF08<code>Servlet</code>\u3001<code>Filter</code>\u3001<code>Listener</code>\uFF09</h2><h3 id="_11-1-\u4F7F\u7528-servlet-api" tabindex="-1"><a class="header-anchor" href="#_11-1-\u4F7F\u7528-servlet-api" aria-hidden="true">#</a> 11.1 \u4F7F\u7528 Servlet API</h3><ul><li><code>@ServletComponentScan(basePackages = &quot;com.atguigu.admin&quot;)</code>\uFF1A\u6307\u5B9A\u539F\u751F <code>Servlet</code> \u7EC4\u4EF6\u90FD\u653E\u5728\u54EA\u91CC\u3002</li><li><code>@WebServlet(urlPatterns = &quot;/my&quot;)</code>\uFF1A\u6548\u679C\uFF0C\u76F4\u63A5\u54CD\u5E94\uFF0C\u6CA1\u6709\u7ECF\u8FC7 Spring \u7684\u62E6\u622A\u5668\uFF1F</li><li><code>@WebFilter(urlPatterns={&quot;/css/*&quot;, &quot;/images/*&quot;})</code>\uFF1A\u8FC7\u6EE4 css\u3001images \u9759\u6001\u8D44\u6E90\u3002</li><li><code>@WebListener</code>\uFF1A\u76D1\u542C\u5668\u3002</li></ul><p>\u6269\u5C55\uFF1A<code>DispatchServlet</code> \u5982\u4F55\u6CE8\u518C\u8FDB\u6765\uFF1F</p><ul><li><p>\u5BB9\u5668\u4E2D\u81EA\u52A8\u914D\u7F6E\u4E86 <code>DispatcherServlet</code> \u5C5E\u6027\u7ED1\u5B9A\u5230 <code>WebMvcProperties</code>\uFF0C\u5BF9\u5E94\u7684\u914D\u7F6E\u6587\u4EF6\u914D\u7F6E\u9879\u662F <code>spring.mvc</code>\u3002</p></li><li><p>\u901A\u8FC7 <code>ServletRegistrationBean&lt;DispatcherServlet&gt;</code> \u628A <code>DispatcherServlet</code> \u914D\u7F6E\u8FDB\u6765\u3002</p></li><li><p>\u9ED8\u8BA4\u6620\u5C04\u7684\u662F <code>/</code> \u8DEF\u5F84\u3002</p></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606284869220-8b63d54b-39c4-40f6-b226-f5f095ef9304.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_32%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><p>\u591A\u4E2A <code>Servlet</code> \u90FD\u80FD\u5904\u7406\u5230\u540C\u4E00\u5C42\u8DEF\u5F84\uFF0C\u7CBE\u786E\u4F18\u9009\u539F\u5219\uFF1A</p><p>A\uFF1A /my/</p><p>B\uFF1A /my/1 \u4F18\u5148</p><h3 id="_11-2-\u4F7F\u7528-registrationbean" tabindex="-1"><a class="header-anchor" href="#_11-2-\u4F7F\u7528-registrationbean" aria-hidden="true">#</a> 11.2 \u4F7F\u7528 RegistrationBean</h3><p><code>ServletRegistrationBean</code>, <code>FilterRegistrationBean</code>, and <code>ServletListenerRegistrationBean</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRegistConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">myServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">MyServlet</span> myServlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span>myServlet<span class="token punctuation">,</span><span class="token string">&quot;/my&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/my02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">myFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">MyFilter</span> myFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        return new FilterRegistrationBean(myFilter,myServlet());</span>
        <span class="token class-name">FilterRegistrationBean</span> filterRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span>myFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">setUrlPatterns</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;/my&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/css/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> filterRegistrationBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletListenerRegistrationBean</span> <span class="token function">myListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">MySwervletContextListener</span> mySwervletContextListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySwervletContextListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ServletListenerRegistrationBean</span><span class="token punctuation">(</span>mySwervletContextListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12\u3001\u914D\u7F6E-servlet-\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_12\u3001\u914D\u7F6E-servlet-\u5BB9\u5668" aria-hidden="true">#</a> 12\u3001\u914D\u7F6E <code>Servlet</code> \u5BB9\u5668</h2><h3 id="_12-1-\u5207\u6362\u5D4C\u5165\u5F0Fservlet\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_12-1-\u5207\u6362\u5D4C\u5165\u5F0Fservlet\u5BB9\u5668" aria-hidden="true">#</a> 12.1 \u5207\u6362\u5D4C\u5165\u5F0FServlet\u5BB9\u5668</h3><p>SpringBoot \u5185\u7F6E\u7684 WebServer\uFF1A<code>Tomcat</code>\uFF08\u9ED8\u8BA4\uFF09, <code>Jetty</code>, or <code>Undertow</code>\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606280937533-504d0889-b893-4a01-af68-2fc31ffce9fc.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_26%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="SpringBoot \u5185\u7F6E\u7684 WebServer"></p><p><code>ServletWebServerApplicationContext</code> \u5BB9\u5668\u542F\u52A8\u5BFB\u627E <code>ServletWebServerFactory</code> \u5E76\u5F15\u5BFC\u521B\u5EFA\u670D\u52A1\u5668\u3002</p><p>\u5207\u6362\u670D\u52A1\u5668\uFF1A\u5728 <strong>pom.xml</strong> \u4E2D\u6392\u9664 <strong>Tomcat</strong> \u4F9D\u8D56\uFF0C\u518D\u5C06\u76EE\u6807\u670D\u52A1\u5668\u7684 starter \u5BFC\u5165\u5373\u53EF\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u539F\u7406\uFF1A</p><p>SpringBoot \u5E94\u7528\u542F\u52A8\u53D1\u73B0\u5F53\u524D\u662F <strong>Web</strong> \u5E94\u7528\uFF0C<code>web-starter</code> \u81EA\u52A8\u5BFC\u5165<strong>Tomcat</strong>\uFF1A</p><ol><li><p><strong>Web</strong> \u5E94\u7528\u4F1A\u521B\u5EFA\u4E00\u4E2A <strong>Web</strong> \u7248\u7684 <code>IoC</code> \u5BB9\u5668 <code>ServletWebServerApplicationContext</code></p></li><li><p><code>ServletWebServerApplicationContext</code> \u542F\u52A8\u7684\u65F6\u5019\u5BFB\u627E <code>ServletWebServerFactory</code>\uFF08<code>Servlet</code> \u7684 <strong>Web</strong> \u670D\u52A1\u5668\u5DE5\u5382 ---&gt; <code>Servlet</code> \u7684 <strong>Web</strong> \u670D\u52A1\u5668\uFF09\uFF1B</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1627120946492-5ee582f2-7f37-4cc5-9071-2cafac6171b4.png" alt="ServletWebServerFactory"></p></li><li><p>SpringBoot \u5E95\u5C42\u9ED8\u8BA4\u6709\u5F88\u591A\u7684 <strong>WebServer</strong> \u5DE5\u5382\uFF1A<code>TomcatServletWebServerFactory</code>, <code>JettyServletWebServerFactory</code>, or <code>UndertowServletWebServerFactory</code>\uFF1B</p></li><li><p>\u5E95\u5C42\u76F4\u63A5\u4F1A\u6709\u4E00\u4E2A <strong>WebServer</strong> \u5DE5\u5382\u81EA\u52A8\u914D\u7F6E\u7C7B\uFF1A<code>ServletWebServerFactoryAutoConfiguration</code>\uFF1B</p></li><li><p><strong>WebServer</strong> \u5DE5\u5382\u81EA\u52A8\u914D\u7F6E\u7C7B <code>ServletWebServerFactoryAutoConfiguration</code> \u5BFC\u5165\u4E86 <code>ServletWebServerFactoryConfiguration</code> \u914D\u7F6E\u7C7B\uFF1B</p></li><li><p><code>ServletWebServerFactoryConfiguration</code> \u914D\u7F6E\u7C7B\u52A8\u6001\u5224\u65AD\u7CFB\u7EDF\u4E2D\u5230\u5E95\u5BFC\u5165\u4E86\u54EA\u4E2A <strong>Web</strong> \u670D\u52A1\u5668\u7684\u5305\uFF0C <code>web-starter</code> \u9ED8\u8BA4\u662F\u5BFC\u5165 <strong>Tomcat</strong> \u5305\uFF0C\u5BB9\u5668\u4E2D\u5C31\u6709 <code>TomcatServletWebServerFactory</code>\uFF1B</p></li><li><p><code>TomcatServletWebServerFactory</code> \u521B\u5EFA <strong>Tomcat</strong> \u5BF9\u8C61\uFF0C\u7136\u540E\u5C06 <strong>Tomcat</strong> \u5BF9\u8C61\u4F20\u9012\u7ED9 <code>TomcatWebServer</code> \uFF0C</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1304385/1627121101649-b2304f72-a57b-428b-a1ad-ea16a98d9292.png" alt="getWebServer"></p><p><code>TomcatWebServer</code> \u7684\u6784\u9020\u5668\u62E5\u6709\u521D\u59CB\u5316\u65B9\u6CD5 <code>initialize()</code>\uFF0C\u4F7F\u7528 <code>this.tomcat.start();</code> \u542F\u52A8 <strong>Tomcat</strong>\uFF08\u53EA\u8981 <strong>Tomcat</strong> \u6838\u5FC3 <strong>jar</strong> \u5305\u5B58\u5728\uFF0C\u5185\u5D4C\u670D\u52A1\u5668\u5C31\u662F\u624B\u52A8\u628A\u542F\u52A8\u670D\u52A1\u5668\u7684\u4EE3\u7801\u8C03\u7528\uFF09\u3002</p></li></ol><h3 id="_12-2-\u5B9A\u5236-servlet-\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_12-2-\u5B9A\u5236-servlet-\u5BB9\u5668" aria-hidden="true">#</a> 12.2 \u5B9A\u5236 <code>Servlet</code> \u5BB9\u5668</h3><ol><li>\u5728 <strong>application.properties</strong> \u4E2D\u4FEE\u6539\u548C <strong>server</strong> \u6709\u5173\u7684\u914D\u7F6E\uFF08<code>ServerProperties</code> \u63D0\u4F9B\uFF09\uFF1B</li></ol><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8081</span>
<span class="token key attr-name">server.context-path</span><span class="token punctuation">=</span><span class="token value attr-value">/crud</span>
<span class="token key attr-name">server.tomcat.uri-encoding</span><span class="token punctuation">=</span><span class="token value attr-value">UTF\u20108</span>
<span class="token comment"># \u901A\u7528\u7684 Servlet \u5BB9\u5668\u8BBE\u7F6E</span>
server.xxx
<span class="token comment"># Tomcat \u7684\u8BBE\u7F6E</span>
server.tomcat.xxx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>\u5B9E\u73B0 <code>WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt;</code></p><ul><li><p>\u628A\u914D\u7F6E\u6587\u4EF6\u7684\u503C\u548C <code>ServletWebServerFactory</code> \u8FDB\u884C\u7ED1\u5B9A\uFF1B</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
public class CustomizationBean implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {
    @Override
    public void customize(ConfigurableServletWebServerFactory server) {
        server.setPort(9000);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>\u76F4\u63A5\u81EA\u5B9A\u4E49 <code>ConfigurableServletWebServerFactory </code></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Bean
public WebServerFactoryCustomizer configWebServer(){
    WebServerFactoryCustomizer webServerFactoryCustomizer = new WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt;() {
        @Override
        public void customize(ConfigurableServletWebServerFactory factory) {
            factory.setPort(9000);
        }
    };
    return webServerFactoryCustomizer;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h1 id="\u516D\u3001docker" tabindex="-1"><a class="header-anchor" href="#\u516D\u3001docker" aria-hidden="true">#</a> \u516D\u3001Docker</h1><h2 id="_1\u3001\u7B80\u4ECB-1" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u7B80\u4ECB-1" aria-hidden="true">#</a> 1\u3001\u7B80\u4ECB</h2><p><strong>Docker</strong> \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u5E94\u7528\u5BB9\u5668\u5F15\u64CE\uFF0C\u662F\u4E00\u4E2A\u8F7B\u91CF\u7EA7\u5BB9\u5668\u6280\u672F\u3002</p><p><strong>Docker</strong> \u652F\u6301\u5C06\u8F6F\u4EF6\u7F16\u8BD1\u6210\u4E00\u4E2A\u955C\u50CF\uFF0C\u7136\u540E\u5728\u955C\u50CF\u4E2D\u5404\u79CD\u8F6F\u4EF6\u505A\u597D\u914D\u7F6E\uFF0C\u5C06\u955C\u50CF\u53D1\u5E03\u51FA\u53BB\uFF0C\u5176\u4ED6\u4F7F\u7528\u8005\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u8FD9\u4E2A\u955C\u50CF\u3002</p><p>\u8FD0\u884C\u4E2D\u7684\u8FD9\u4E2A\u955C\u50CF\u79F0\u4E3A\u5BB9\u5668\uFF0C\u5BB9\u5668\u542F\u52A8\u662F\u975E\u5E38\u5FEB\u901F\u7684\u3002</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109779-61872f1d-b724-4151-b1f8-912538ae4570.png" alt="Docker \u9CB8\u9C7C\u56FE\u6807"></p><p><strong>Windows</strong> \u7CFB\u7EDF\u955C\u50CF\u4E0E <strong>Docker</strong> \u955C\u50CF\uFF1A</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109769-4a6d33ca-4577-4515-8a8d-fc506e7d0465.png" alt="Windows \u7CFB\u7EDF\u955C\u50CF\u4E0E Docker \u955C\u50CF"></p><h2 id="_2\u3001\u6838\u5FC3\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6838\u5FC3\u6982\u5FF5" aria-hidden="true">#</a> 2\u3001\u6838\u5FC3\u6982\u5FF5</h2><ul><li><p>\u4E3B\u673A\uFF08Host\uFF09\uFF1A\u5B89\u88C5\u4E86 <strong>Docker</strong> \u7A0B\u5E8F\u7684\u673A\u5668\uFF08<strong>Docker</strong> \u76F4\u63A5\u5B89\u88C5\u5728 <strong>Linux</strong> \u6216 <strong>Windows</strong> \u64CD\u4F5C\u7CFB\u7EDF\u4E4B\u4E0A\uFF09\u3002</p></li><li><p>\u5BA2\u6237\u7AEF\uFF08Client\uFF09\uFF1A\u8FDE\u63A5 <strong>Docker</strong> \u4E3B\u673A\u8FDB\u884C\u64CD\u4F5C\u3002</p></li><li><p>\u4ED3\u5E93\uFF08Registry\uFF09\uFF1A\u7528\u6765\u4FDD\u5B58\u5404\u79CD\u6253\u5305\u597D\u7684\u8F6F\u4EF6\u955C\u50CF\u3002</p></li><li><p>\u955C\u50CF\uFF08Images\uFF09\uFF1A\u8F6F\u4EF6\u6253\u5305\u597D\u7684\u955C\u50CF\uFF0C\u653E\u5728 <strong>Docker</strong> \u4ED3\u5E93\u4E2D\u3002</p></li><li><p>\u5BB9\u5668\uFF08Container\uFF09\uFF1A\u955C\u50CF\u542F\u52A8\u540E\u7684\u5B9E\u4F8B\u79F0\u4E3A\u4E00\u4E2A\u5BB9\u5668\uFF0C\u5BB9\u5668\u662F\u72EC\u7ACB\u8FD0\u884C\u7684\u4E00\u4E2A\u6216\u4E00\u7EC4\u5E94\u7528\u3002</p></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1304385/1596209109798-7ec9e089-41ca-47f8-9d7e-4abe15124a1d.png" alt="Docker \u6838\u5FC3\u6982\u5FF5"></p><p>\u4F7F\u7528 <strong>Docker</strong> \u7684\u6B65\u9AA4\uFF1A</p><ol><li><p>\u5B89\u88C5 <strong>Docker</strong>\uFF1B</p></li><li><p>\u53BB <strong>Docker</strong> \u4ED3\u5E93\u83B7\u53D6\u8F6F\u4EF6\u5BF9\u5E94\u7684\u955C\u50CF\uFF1B</p></li><li><p>\u4F7F\u7528 <strong>Docker</strong> \u8FD0\u884C\u8FD9\u4E2A\u955C\u50CF\uFF0C\u8FD9\u4E2A\u955C\u50CF\u5C31\u4F1A\u751F\u6210\u4E00\u4E2A <strong>Docker</strong> \u5BB9\u5668\uFF1B</p></li><li><p>\u505C\u6B62 <strong>Docker</strong> \u5BB9\u5668\u5C31\u662F\u505C\u6B62\u8F6F\u4EF6\u3002</p></li></ol><h2 id="_3\u3001\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5B89\u88C5docker" aria-hidden="true">#</a> 3\u3001\u5B89\u88C5Docker</h2><h3 id="_3-1-\u5B89\u88C5-wsl2-\u7248-linux" tabindex="-1"><a class="header-anchor" href="#_3-1-\u5B89\u88C5-wsl2-\u7248-linux" aria-hidden="true">#</a> 3.1 \u5B89\u88C5 WSL2 \u7248 Linux</h3>`,67),Cs={href:"https://www.cnblogs.com/ageovb/p/15072680.html",target:"_blank",rel:"noopener noreferrer"},Ss=s("\u3010Windows\u3011WSL \u4F53\u9A8C"),ws=n("h3",{id:"_3-2-linux-\u4E0A\u5B89\u88C5-docker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-2-linux-\u4E0A\u5B89\u88C5-docker","aria-hidden":"true"},"#"),s(" 3.2 Linux \u4E0A\u5B89\u88C5 Docker")],-1),Ms={href:"https://www.cnblogs.com/ageovb/p/15086255.html",target:"_blank",rel:"noopener noreferrer"},Fs=s("\u3010Linux\u3011\u5B89\u88C5 Docker"),As=e(`<h2 id="_4\u3001docker-\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4\u3001docker-\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> 4\u3001Docker \u5E38\u7528\u547D\u4EE4</h2><h3 id="_4-1-\u955C\u50CF\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_4-1-\u955C\u50CF\u64CD\u4F5C" aria-hidden="true">#</a> 4.1 \u955C\u50CF\u64CD\u4F5C</h3><table><thead><tr><th>\u64CD\u4F5C</th><th>\u547D\u4EE4</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>\u68C0\u7D22</td><td><code>docker search \u955C\u50CF\u540D</code></td><td>\u6211\u4EEC\u7ECF\u5E38\u53BB Docker Hub \u4E0A\u68C0\u7D22\u955C\u50CF\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5982\u955C\u50CF\u7684 <strong>tag</strong> \u6807\u7B7E\u3002</td></tr><tr><td>\u62C9\u53D6</td><td><code>docker pull \u955C\u50CF\u540D:tag</code></td><td><strong>:tag</strong> \u662F\u53EF\u9009\u7684\uFF0Ctag \u591A\u4E3A\u8F6F\u4EF6\u7684\u7248\u672C\uFF0C\u9ED8\u8BA4\u662F <strong>latest</strong> \u6700\u65B0\u7248\u3002</td></tr><tr><td>\u5217\u8868</td><td><code>docker images</code></td><td>\u67E5\u770B\u6240\u6709\u672C\u5730\u955C\u50CF\u3002</td></tr><tr><td>\u5220\u9664</td><td><code>docker rmi \u5BB9\u5668ID</code></td><td>\u5220\u9664\u6307\u5B9A\u7684\u672C\u5730\u955C\u50CF\u3002</td></tr></tbody></table><p>https://hub.docker.com/</p><h3 id="_4-2-\u5BB9\u5668\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_4-2-\u5BB9\u5668\u64CD\u4F5C" aria-hidden="true">#</a> 4.2 \u5BB9\u5668\u64CD\u4F5C</h3><p>\u8F6F\u4EF6\u955C\u50CF\uFF08QQ \u5B89\u88C5\u7A0B\u5E8F\uFF09-&gt; \u8FD0\u884C\u955C\u50CF\uFF08\u53CC\u51FB QQ \u56FE\u6807\uFF09 -&gt; \u4EA7\u751F\u4E00\u4E2A\u5BB9\u5668\uFF08\u6B63\u5728\u8FD0\u884C\u7684\u8F6F\u4EF6\uFF0C\u5982\u8FD0\u884C\u7684 QQ\uFF09\u3002</p><p>\u6B65\u9AA4\uFF1A</p><ol><li><p>\u641C\u7D22\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker search tomcat</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u62C9\u53D6\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker pull tomcat</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u6839\u636E\u955C\u50CF\u542F\u52A8\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name myTomcat -d tomcat:latest</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u67E5\u770B\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u505C\u6B62\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker stop \u5BB9\u5668ID</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li><p>\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u542F\u52A8\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker start \u5BB9\u5668ID</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u5220\u9664\u4E00\u4E2A\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker rm \u5BB9\u5668ID</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u542F\u52A8\u4E00\u4E2A\u505A\u4E86\u7AEF\u53E3\u6620\u5C04\u7684 <strong>Tomcat</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run -d -p 8888:8080 tomcat</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>-d</code>\uFF1A\u540E\u53F0\u8FD0\u884C</li><li><code>-p</code>\uFF1A\u5C06\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u7AEF\u53E3\uFF0C\u4E3B\u673A\u7684\u7AEF\u53E3:\u5BB9\u5668\u7684\u7AEF\u53E3</li></ul></li><li><p>\u4E3A\u4E86\u6F14\u793A\u7B80\u5355\u5173\u95ED\u4E86 <code>Linux</code> \u7684\u9632\u706B\u5899</p><ul><li>\u67E5\u770B\u9632\u706B\u5899\u72B6\u6001\uFF1A</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># service firewalld status</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5173\u95ED\u9632\u706B\u5899</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># service firewalld stop</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u67E5\u770B\u5BB9\u5668\u7684\u65E5\u5FD7</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker logs container-name/container-id</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>\u66F4\u591A\u547D\u4EE4\u53C2\u8003\uFF1Ahttps://docs.docker.com/engine/reference/commandline/docker/</p><p>\u8FD8\u53EF\u4EE5\u53C2\u8003\u6BCF\u4E00\u4E2A\u955C\u50CF\u7684\u6587\u6863\u3002</p><h3 id="_4-3-\u5B89\u88C5-mysql" tabindex="-1"><a class="header-anchor" href="#_4-3-\u5B89\u88C5-mysql" aria-hidden="true">#</a> 4.3 \u5B89\u88C5 MySQL</h3><p>\u62C9\u53D6\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker pull mysql</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u9519\u8BEF\u7684\u542F\u52A8\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name mysql01 -d mysql</span>
42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846

<span class="token comment"># MySQL \u9000\u51FA\u4E86</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                           PORTS               NAMES
42f09819908b        mysql               <span class="token string">&quot;docker-entrypoint.sh&quot;</span>   <span class="token number">34</span> seconds ago      Exited <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">33</span> seconds ago                            mysql01
538bde63e500        tomcat              <span class="token string">&quot;catalina.sh run&quot;</span>        About an hour ago   Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> About an hour ago                       compassionate_
goldstine
c4f1ac60b3fc        tomcat              <span class="token string">&quot;catalina.sh run&quot;</span>        About an hour ago   Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> About an hour ago                       lonely_fermi
81ec743a5271        tomcat              <span class="token string">&quot;catalina.sh run&quot;</span>        About an hour ago   Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> About an hour ago                       sick_ramanujan

<span class="token comment"># \u6839\u636E\u5BB9\u5668 ID \u67E5\u770B\u9519\u8BEF\u65E5\u5FD7\uFF0C\u4E0B\u9762\u4E09\u4E2A\u53C2\u6570\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker logs 42f09819908b</span>
error: database is uninitialized and password option is not specified 
  You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORD\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B63\u786E\u7684\u542F\u52A8\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysql</span>
b874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
b874c56bec49        mysql               <span class="token string">&quot;docker-entrypoint.sh&quot;</span>   <span class="token number">4</span> seconds ago       Up <span class="token number">3</span> seconds        <span class="token number">3306</span>/tcp            mysql01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7AEF\u53E3\u6620\u5C04\uFF0C\u5C06\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u7AEF\u53E3\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysql</span>
ad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
ad10e4bc5c6a        mysql               <span class="token string">&quot;docker-entrypoint.sh&quot;</span>   <span class="token number">4</span> seconds ago       Up <span class="token number">2</span> seconds        <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp   mysql02
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FDC\u7A0B <strong>MySQL</strong> \u8FDE\u63A5\u4E0D\u4E0A\u7684\u89E3\u51B3\u65B9\u6CD5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run -p 3306:3306 --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysql</span>
18e7e4fc89685c1fb8fac0c999d41f67bcd1c993b6597b1ecd514a121e132c5b
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it mysql01 bash</span>
root@18e7e4fc8968:/<span class="token comment"># mysql -u root -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">8</span>
Server version: <span class="token number">8.0</span>.19 MySQL Community Server - GPL

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2020</span>, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">&#39;help;&#39;</span> or <span class="token string">&#39;\\h&#39;</span> <span class="token keyword">for</span> help. Type <span class="token string">&#39;\\c&#39;</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> alter user <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> identified with mysql_native_password by <span class="token string">&#39;test1234&#39;</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># Ctrl+D\u9000\u51FA</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6302\u8F7D\u6587\u4EF6\u5939\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u628A\u4E3B\u673A\u7684 <strong>/conf/mysql</strong> \u6587\u4EF6\u5939\u6302\u8F7D\u5230\u5BB9\u5668\u7684 <strong>/etc/mysql/conf.d</strong> \u6587\u4EF6\u5939\u91CC\u9762\u3002</p><p>\u4FEE\u6539 <strong>MySQL</strong> \u7684\u914D\u7F6E\u6587\u4EF6\u5C31\u53EA\u9700\u8981\u628A <strong>MySQL</strong> \u914D\u7F6E\u6587\u4EF6\u653E\u5728\u4E3B\u673A\u7684 <strong>/conf/mysql</strong> \u6587\u4EF6\u5939\u4E0B\uFF09\u3002</p><p>\u6307\u5B9A <strong>MySQL</strong> \u7684\u4E00\u4E9B\u914D\u7F6E\u53C2\u6570\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-4-\u5B89\u88C5-redis" tabindex="-1"><a class="header-anchor" href="#_4-4-\u5B89\u88C5-redis" aria-hidden="true">#</a> 4.4 \u5B89\u88C5 Redis</h3>`,30),Rs={href:"https://www.cnblogs.com/ageovb/p/15086265.html",target:"_blank",rel:"noopener noreferrer"},Ps=s("\u3010Linux\u3011Docker \u4E2D\u5B89\u88C5\u5E76\u914D\u7F6E Redis"),js=e(`<h1 id="\u4E03\u3001\u6570\u636E\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u4E03\u3001\u6570\u636E\u8BBF\u95EE" aria-hidden="true">#</a> \u4E03\u3001\u6570\u636E\u8BBF\u95EE</h1><h2 id="_1\u3001sql" tabindex="-1"><a class="header-anchor" href="#_1\u3001sql" aria-hidden="true">#</a> 1\u3001SQL</h2><h3 id="_1-1-\u6570\u636E\u6E90\u7684\u81EA\u52A8\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-1-\u6570\u636E\u6E90\u7684\u81EA\u52A8\u914D\u7F6E" aria-hidden="true">#</a> 1.1 \u6570\u636E\u6E90\u7684\u81EA\u52A8\u914D\u7F6E</h3><p>SpringBoot \u9ED8\u8BA4\u662F\u7528 <code>HikariDataSource</code> \u6570\u636E\u6E90\uFF08\u6570\u636E\u5E93\u8FDE\u63A5\u6C60\uFF09\u3002</p><h4 id="_1-1-1-\u5BFC\u5165-jdbc-\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_1-1-1-\u5BFC\u5165-jdbc-\u573A\u666F" aria-hidden="true">#</a> 1.1.1 \u5BFC\u5165 JDBC \u573A\u666F</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606366100317-5e0199fa-6709-4d32-bce3-bb262e2e5e6a.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_20%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="JDBC \u573A\u666F\u7684 jar \u5305"></p><p>\u4E3A\u4EC0\u4E48\u9700\u8981\u663E\u5F0F\u5BFC\u5165 <strong>JDBC</strong> \u573A\u666F\uFF0C\u5B98\u65B9\u4E0D\u5BFC\u5165\u6570\u636E\u5E93\u9A71\u52A8\uFF1F\u56E0\u4E3A\u5B98\u65B9\u4E0D\u77E5\u9053\u6211\u4EEC\u63A5\u4E0B\u8981\u64CD\u4F5C\u4EC0\u4E48\u6570\u636E\u5E93\u3002</p><p>\u6570\u636E\u5E93\u7248\u672C\u548C\u9A71\u52A8\u7248\u672C\u5BF9\u5E94\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.49<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u60F3\u8981\u4FEE\u6539\u7248\u672C
1\u3001\u76F4\u63A5\u4F9D\u8D56\u5F15\u5165\u5177\u4F53\u7248\u672C\uFF08Maven \u7684\u5C31\u8FD1\u4F9D\u8D56\u539F\u5219\uFF09
2\u3001\u91CD\u65B0\u58F0\u660E\u7248\u672C\uFF08Maven \u7684\u5C5E\u6027\u7684\u5C31\u8FD1\u4F18\u5148\u539F\u5219\uFF09 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">&gt;</span></span>5.1.49<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-2-\u5206\u6790\u81EA\u52A8\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-1-2-\u5206\u6790\u81EA\u52A8\u914D\u7F6E" aria-hidden="true">#</a> 1.1.2 \u5206\u6790\u81EA\u52A8\u914D\u7F6E</h4><p>\u81EA\u52A8\u914D\u7F6E\u7684\u7C7B\uFF1A</p><ul><li><code>DataSourceAutoConfiguration</code>\uFF1A \u6570\u636E\u6E90\u7684\u81EA\u52A8\u914D\u7F6E\uFF1B <ul><li>\u4FEE\u6539\u6570\u636E\u6E90\u76F8\u5173\u7684\u914D\u7F6E\uFF1A<strong>spring.datasource</strong>\uFF1B</li><li>\u6570\u636E\u5E93\u8FDE\u63A5\u6C60\u7684\u914D\u7F6E\uFF0C\u662F\u5BB9\u5668\u4E2D\u6CA1\u6709 <code>DataSource</code> \u624D\u81EA\u52A8\u914D\u7F6E\u7684\uFF1B</li><li>\u5E95\u5C42\u914D\u7F6E\u597D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u6C60\u662F\uFF1A<strong>HikariDataSource</strong>\u3002</li></ul></li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
@Conditional(PooledDataSourceCondition.class)
@ConditionalOnMissingBean({ DataSource.class, XADataSource.class })
@Import({ DataSourceConfiguration.Hikari.class, DataSourceConfiguration.Tomcat.class,
        DataSourceConfiguration.Dbcp2.class, DataSourceConfiguration.OracleUcp.class,
        DataSourceConfiguration.Generic.class, DataSourceJmxConfiguration.class })
protected static class PooledDataSourceConfiguration
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>JdbcTemplateAutoConfiguration</code>\uFF1A <code>JdbcTemplate</code> \u7684\u81EA\u52A8\u914D\u7F6E\uFF0C\u53EF\u4EE5\u6765\u5BF9\u6570\u636E\u5E93\u8FDB\u884C <strong>CRUD</strong>\uFF1B</p><ul><li>\u53EF\u4EE5\u4FEE\u6539\u8FD9\u4E2A\u914D\u7F6E\u9879<code>@ConfigurationProperties(prefix = &quot;spring.jdbc&quot;)</code> \u6765\u4FEE\u6539 <code>JdbcTemplate</code>\uFF1B</li><li><code>@Bean</code>\u3001<code>@Primary</code>\u4FEE\u9970 <code>JdbcTemplate</code>\uFF0C\u4ECE\u5BB9\u5668\u4E2D\u83B7\u53D6\u8FD9\u4E2A\u7EC4\u4EF6\u3002</li></ul></li><li><p><code>JndiDataSourceAutoConfiguration</code>\uFF1A <strong>JNDI</strong> \u7684\u81EA\u52A8\u914D\u7F6E\uFF1B</p></li><li><p><code>DataSourceTransactionManagerAutoConfiguration</code>\uFF1A \u4E8B\u52A1\u7BA1\u7406\u5668\u7684\u81EA\u52A8\u914D\u7F6E\uFF1B</p></li><li><p><code>XADataSourceAutoConfiguration</code>\uFF1A \u5206\u5E03\u5F0F\u4E8B\u52A1\u76F8\u5173\u7684\u81EA\u52A8\u914D\u7F6E\u3002</p></li></ul><h4 id="_1-1-3-\u4FEE\u6539\u914D\u7F6E\u9879" tabindex="-1"><a class="header-anchor" href="#_1-1-3-\u4FEE\u6539\u914D\u7F6E\u9879" aria-hidden="true">#</a> 1.1.3 \u4FEE\u6539\u914D\u7F6E\u9879</h4><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/db_account<span class="token punctuation">?</span>serverTimezone=GMT%2B8
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-4-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_1-1-4-\u6D4B\u8BD5" aria-hidden="true">#</a> 1.1.4 \u6D4B\u8BD5</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Slf4j
@SpringBootTest
class Boot05WebAdminApplicationTests {
    @Autowired
    JdbcTemplate jdbcTemplate;

    @Test
    void contextLoads() {
        Long aLong = jdbcTemplate.queryForObject(&quot;select count(*) from account_tbl&quot;, Long.class);
        log.info(&quot;\u8BB0\u5F55\u603B\u6570\uFF1A{}&quot;,aLong);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-\u4F7F\u7528-druid-\u6570\u636E\u6E90" tabindex="-1"><a class="header-anchor" href="#_1-2-\u4F7F\u7528-druid-\u6570\u636E\u6E90" aria-hidden="true">#</a> 1.2 \u4F7F\u7528 Druid \u6570\u636E\u6E90</h3><h4 id="_1-2-1-druid-\u5B98\u65B9-github-\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#_1-2-1-druid-\u5B98\u65B9-github-\u5730\u5740" aria-hidden="true">#</a> 1.2.1 Druid \u5B98\u65B9 Github \u5730\u5740</h4><p>https://github.com/alibaba/druid</p><p>\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u7684\u4E24\u79CD\u65B9\u5F0F</p><ul><li>\u81EA\u5B9A\u4E49\uFF1B</li><li>\u4F7F\u7528\u5B98\u65B9 <strong>starter</strong>\u3002</li></ul><h4 id="_1-2-2-\u81EA\u5B9A\u4E49\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-2-2-\u81EA\u5B9A\u4E49\u65B9\u5F0F" aria-hidden="true">#</a> 1.2.2 \u81EA\u5B9A\u4E49\u65B9\u5F0F</h4><p><strong>1\u3001\u521B\u5EFA\u6570\u636E\u6E90</strong></p><p>\u8FD9\u79CD\u65B9\u5F0F\u53EF\u80FD\u65E0\u6CD5\u4F7F\u7528\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- pom.xml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- bean.xml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.url}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.username}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.password}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialSize<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxWait<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minIdle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>timeBetweenEvictionRunsMillis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minEvictableIdleTimeMillis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testWhileIdle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testOnBorrow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testOnReturn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>poolPreparedStatements<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxOpenPreparedStatements<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Spring Boot 2.5.2 \u7248\u672C\u5BFC\u5165 <strong>druid 1.1.17</strong> \u4F9D\u8D56\u4E4B\u540E\u5E76\u4E0D\u80FD\u4F7F\u7528\u76D1\u63A7\u529F\u80FD\uFF0C\u4F7F\u7528\u76F8\u540C\u7248\u672C\u7684 <strong>druid-spring-boot-starter</strong> \u4E4B\u540E\u53EF\u4EE5\u4F7F\u7528\u76D1\u63A7\u529F\u80FD\u3002</p></blockquote><p>2\u3001<code>StatViewServlet</code></p><p>\u7528\u9014\uFF1A</p><ul><li>\u63D0\u4F9B\u76D1\u63A7\u4FE1\u606F\u5C55\u793A\u7684 <strong>HTML</strong> \u9875\u9762\uFF1B</li><li>\u63D0\u4F9B\u76D1\u63A7\u4FE1\u606F\u7684 <strong>JSON API</strong>\u3002</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DruidStatView<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.alibaba.druid.support.http.StatViewServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DruidStatView<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/druid/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\u3001<code>StatFilter</code></p><p>\u7528\u4E8E\u7EDF\u8BA1\u76D1\u63A7\u4FE1\u606F\uFF1A\u5982 <strong>SQL</strong> \u76D1\u63A7\u3001<strong>URI</strong> \u76D1\u63A7\u3002</p><p>\u9700\u8981\u7ED9\u6570\u636E\u6E90\u4E2D\u914D\u7F6E\u5982\u4E0B\u5C5E\u6027\uFF0C\u53EF\u4EE5\u5141\u8BB8\u591A\u4E2A <strong>Filter</strong>\uFF0C\u591A\u4E2A\u7528 <code>,</code> \u5206\u5272\uFF1B\u5982\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filters<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stat, slf4j<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7CFB\u7EDF\u4E2D\u7684 <strong>Filter</strong>\uFF1A</p><table><thead><tr><th>\u522B\u540D</th><th>Filter \u7C7B\u540D</th></tr></thead><tbody><tr><td>default</td><td>com.alibaba.druid.filter.stat.<code>StatFilter</code></td></tr><tr><td>stat</td><td>com.alibaba.druid.filter.stat.<code>StatFilter</code></td></tr><tr><td>mergeStat</td><td>com.alibaba.druid.filter.stat.<code>MergeStatFilter</code></td></tr><tr><td>encoding</td><td>com.alibaba.druid.filter.encoding.<code>EncodingConvertFilter</code></td></tr><tr><td>log4j</td><td>com.alibaba.druid.filter.logging.<code>Log4jFilter</code></td></tr><tr><td>log4j2</td><td>com.alibaba.druid.filter.logging.<code>Log4j2Filter</code></td></tr><tr><td>slf4j</td><td>com.alibaba.druid.filter.logging.<code>Slf4jLogFilter</code></td></tr><tr><td>commonlogging</td><td>com.alibaba.druid.filter.logging.<code>CommonsLogFilter</code></td></tr></tbody></table><p>\u4F7F\u7528 <code>slowSqlMillis</code> \u5B9A\u4E49\u6162 <strong>SQL</strong> \u7684\u65F6\u957F\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stat-filter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.filter.stat.StatFilter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slowSqlMillis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logSlowSql<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-3-\u4F7F\u7528\u5B98\u65B9-starter-\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-2-3-\u4F7F\u7528\u5B98\u65B9-starter-\u65B9\u5F0F" aria-hidden="true">#</a> 1.2.3 \u4F7F\u7528\u5B98\u65B9 starter \u65B9\u5F0F</h4><p>1\u3001\u5F15\u5165 druid-starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\u3001\u5206\u6790\u81EA\u52A8\u914D\u7F6E</p><ul><li><p>\u6269\u5C55\u914D\u7F6E\u9879 <strong>spring.datasource.druid</strong></p></li><li><p><code>DruidSpringAopConfiguration</code>.class, \u76D1\u63A7 <strong>Bean</strong> \u7684\u914D\u7F6E\u9879\uFF1A<strong>spring.datasource.druid.aop-patterns</strong></p></li><li><p><code>DruidStatViewServletConfiguration</code>.class\uFF0C\u9ED8\u8BA4\u5F00\u542F\u76D1\u63A7\u9875\u7684\u914D\u7F6E\uFF1A<strong>spring.datasource.druid.stat-view-servlet</strong></p></li><li><p><code>DruidWebStatFilterConfiguration</code>.class\uFF0C\u9ED8\u8BA4\u5F00\u542F <strong>Web</strong> \u76D1\u63A7\u914D\u7F6E\uFF1B<strong>spring.datasource.druid.web-stat-filter</strong></p></li><li><p><code>DruidFilterConfiguration</code>.class\uFF0C\u6240\u6709 <strong>Druid</strong> \u81EA\u5DF1 <strong>Filter</strong> \u7684\u914D\u7F6E\u3002</p></li></ul><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>private static final String FILTER_STAT_PREFIX = &quot;spring.datasource.druid.filter.stat&quot;;
private static final String FILTER_CONFIG_PREFIX = &quot;spring.datasource.druid.filter.config&quot;;
private static final String FILTER_ENCODING_PREFIX = &quot;spring.datasource.druid.filter.encoding&quot;;
private static final String FILTER_SLF4J_PREFIX = &quot;spring.datasource.druid.filter.slf4j&quot;;
private static final String FILTER_LOG4J_PREFIX = &quot;spring.datasource.druid.filter.log4j&quot;;
private static final String FILTER_LOG4J2_PREFIX = &quot;spring.datasource.druid.filter.log4j2&quot;;
private static final String FILTER_COMMONS_LOG_PREFIX = &quot;spring.datasource.druid.filter.commons-log&quot;;
private static final String FILTER_WALL_PREFIX = &quot;spring.datasource.druid.filter.wall&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\u3001\u914D\u7F6E\u793A\u4F8B</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/db_account<span class="token punctuation">?</span>serverTimezone=GMT%2B8
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver

    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token key atrule">aop-patterns</span><span class="token punctuation">:</span> com.atguigu.admin.*  <span class="token comment"># \u76D1\u63A7 Bean</span>
      <span class="token key atrule">filters</span><span class="token punctuation">:</span> stat<span class="token punctuation">,</span>wall     <span class="token comment"># \u5E95\u5C42\u5F00\u542F\u529F\u80FD\uFF1Astat\uFF08sql \u76D1\u63A7\uFF09\uFF0Cwall\uFF08\u9632\u706B\u5899\uFF09</span>

      <span class="token key atrule">stat-view-servlet</span><span class="token punctuation">:</span>   <span class="token comment"># \u914D\u7F6E\u76D1\u63A7\u9875\u529F\u80FD</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">login-username</span><span class="token punctuation">:</span> admin
        <span class="token key atrule">login-password</span><span class="token punctuation">:</span> admin
        <span class="token key atrule">resetEnable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

      <span class="token key atrule">web-stat-filter</span><span class="token punctuation">:</span>  <span class="token comment"># Web \u76D1\u63A7</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">urlPattern</span><span class="token punctuation">:</span> /*
        <span class="token key atrule">exclusions</span><span class="token punctuation">:</span> <span class="token string">&#39;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&#39;</span>

      <span class="token key atrule">filter</span><span class="token punctuation">:</span>
        <span class="token key atrule">stat</span><span class="token punctuation">:</span>    <span class="token comment"># \u5BF9\u4E0A\u9762 filters \u91CC\u9762\u7684 stat \u7684\u8BE6\u7EC6\u914D\u7F6E</span>
          <span class="token key atrule">slow-sql-millis</span><span class="token punctuation">:</span> <span class="token number">1000</span>
          <span class="token key atrule">logSlowSql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">wall</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">config</span><span class="token punctuation">:</span>
            <span class="token key atrule">drop-table-allow</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringBoot \u914D\u7F6E\u793A\u4F8B\uFF1A</p><p>https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter</p>`,51),Es=s("\u914D\u7F6E\u9879\u5217\u8868\uFF1A"),Ts={href:"https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},Js=s("https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8"),Is=e(`<h3 id="_1-3-\u6574\u5408-mybatis-\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_1-3-\u6574\u5408-mybatis-\u64CD\u4F5C" aria-hidden="true">#</a> 1.3 \u6574\u5408 MyBatis \u64CD\u4F5C</h3><p>https://github.com/mybatis</p><p>\u5F15\u5165 <strong>MyBatis</strong> \u7684\u5B98\u65B9 <strong>starter</strong>\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606704096118-53001250-a04a-4210-80ee-6de6a370be2e.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_20%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="MyBatis \u7684 jar \u5305"></p><h4 id="_1-3-1-\u914D\u7F6E\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-3-1-\u914D\u7F6E\u6A21\u5F0F" aria-hidden="true">#</a> 1.3.1 \u914D\u7F6E\u6A21\u5F0F</h4><ul><li><p>\u914D\u7F6E <strong>MyBatis</strong> \u7684\u914D\u7F6E\u6587\u4EF6\uFF0C<strong>SqlMapConfig.xml</strong>\uFF08\u540D\u79F0\u4E0D\u56FA\u5B9A\uFF09\uFF1B</p></li><li><p>\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\uFF0C\u52A0\u8F7D <strong>MyBatis</strong> \u8FD0\u884C\u73AF\u5883\uFF0C\u521B\u5EFA <code>SqlSessionFactory</code> \u4F1A\u8BDD\u5DE5\u5382\uFF0C<code>SqlSessionFactory</code> \u4F7F\u7528\u5355\u4F8B\u65B9\u5F0F\uFF1B</p></li><li><p>\u901A\u8FC7 <code>SqlSessionFactory</code> \u521B\u5EFA <code>SqlSession</code>\uFF0C<code>SqlSession</code> \u662F\u4E00\u4E2A\u9762\u5411\u7528\u6237\u7684\u63A5\u53E3\uFF08\u63D0\u4F9B\u64CD\u4F5C\u6570\u636E\u5E93\u65B9\u6CD5\uFF09\uFF0C\u5B9E\u73B0\u5BF9\u8C61\u662F\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\uFF0C\u5EFA\u8BAE <code>sqlSession</code> \u5E94\u7528\u5728\u65B9\u6CD5\u4F53\u5185\uFF1B</p></li><li><p>\u8C03\u7528 <code>sqlSession</code> \u7684\u65B9\u6CD5\u53BB\u64CD\u4F5C\u6570\u636E\uFF0C\u5982\u679C\u9700\u8981\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u9700\u8981\u6267\u884C <code>sqlSession</code> \u7684 <code>commit()</code> \u65B9\u6CD5\uFF1B</p></li><li><p>\u91CA\u653E\u8D44\u6E90\uFF0C\u5173\u95ED <code>sqlSession</code>\uFF1B</p></li></ul><p>\u81EA\u52A8\u914D\u7F6E\u7C7B\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>// \u8868\u793A\u8FD9\u662F\u4E00\u4E2A Spring \u914D\u7F6E\u7C7B
@Configuration 
// SqlSessionFactory \u548C SqlSessionFactoryBean \u5B58\u5728\u65F6\u624D\u751F\u6548
@ConditionalOnClass({SqlSessionFactory.class, SqlSessionFactoryBean.class})
// DataSource \u7684 Canidate \u6CE8\u518C\u5230 Spring \u5BB9\u5668\u4E2D\u65F6\u624D\u751F\u6548
@ConditionalOnSingleCandidate(DataSource.class)
// \u4F7F MybatisProperties \u6CE8\u89E3\u7C7B\u751F\u6548
@EnableConfigurationProperties({MybatisProperties.class})
// \u5728 DataSourceAutoConfiguration \u548C MybatisLanguageDriverAutoConfiguration \u81EA\u52A8\u914D\u7F6E\u4E4B\u540E\u6267\u884C
@AutoConfigureAfter({DataSourceAutoConfiguration.class, MybatisLanguageDriverAutoConfiguration.class})
public class MybatisAutoConfiguration implements InitializingBean {

@ConfigurationProperties(prefix = &quot;mybatis&quot;)
public class MybatisProperties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>@Import(AutoConfiguredMapperScannerRegistrar.class)</code>\uFF1B</p></li><li><p><code>Mapper</code>\uFF1A \u6211\u4EEC\u53EA\u8981\u5199\u64CD\u4F5C <code>MyBatis</code> \u7684\u63A5\u53E3\uFF0C<code>@Mapper</code> \u5C31\u4F1A\u88AB\u81EA\u52A8\u626B\u63CF\u8FDB\u6765\u3002</p></li></ul><p>\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">config-location</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mybatis<span class="token punctuation">-</span>config.xml <span class="token comment"># \u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4F4D\u7F6E</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mapper/<span class="token important">*.xml</span> <span class="token comment"># sql \u6620\u5C04\u6587\u4EF6\u4F4D\u7F6E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Mapper</code> \u63A5\u53E3\u7ED1\u5B9A <strong>xml</strong>\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.admin.mapper.AccountMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- public Account getAcct(Long id); --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAcct<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.admin.bean.Account<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from account_tbl where id = #{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E <strong>MyBatis</strong> \u89C4\u5219\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
<span class="token comment"># config-location: classpath:mybatis/mybatis-config.xml</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mapper/<span class="token important">*.xml</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token key atrule">map-underscore-to-camel-case</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B65\u9AA4\uFF1A</p><ol><li>\u5BFC\u5165 <strong>MyBatis</strong> \u5B98\u65B9 <strong>starter</strong>\uFF1B</li><li>\u7F16\u5199 <code>Mapper</code> \u63A5\u53E3\uFF0C\u6807\u51C6 <code>@Mapper</code> \u6CE8\u89E3\uFF1B</li><li>\u7F16\u5199 <strong>sql</strong> \u6620\u5C04\u6587\u4EF6\u5E76\u7ED1\u5B9A <code>Mapper</code> \u63A5\u53E3\uFF1B</li><li>\u5728 **application.yaml **\u4E2D\u6307\u5B9A <code>Mapper</code> \u914D\u7F6E\u6587\u4EF6\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u53CA\u6307\u5B9A\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u7684\u4FE1\u606F \uFF08\u5EFA\u8BAE\u914D\u7F6E\u5728 <strong>mybatis.configuration</strong>\uFF09\u3002</li></ol><h4 id="_1-3-2-\u6CE8\u89E3\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-3-2-\u6CE8\u89E3\u6A21\u5F0F" aria-hidden="true">#</a> 1.3.2 \u6CE8\u89E3\u6A21\u5F0F</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CityMapper</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from city where id=#{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">City</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">City</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-3-\u6DF7\u5408\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-3-3-\u6DF7\u5408\u6A21\u5F0F" aria-hidden="true">#</a> 1.3.3 \u6DF7\u5408\u6A21\u5F0F</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CityMapper</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from city where id=#{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">City</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">City</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-4-\u6700\u4F73\u5B9E\u8DF5" tabindex="-1"><a class="header-anchor" href="#_1-3-4-\u6700\u4F73\u5B9E\u8DF5" aria-hidden="true">#</a> 1.3.4 \u6700\u4F73\u5B9E\u8DF5</h4><ol><li>\u5F15\u5165 <strong>mybatis-starter</strong>\uFF1B</li><li>\u914D\u7F6E <strong>application.yaml</strong> \u4E2D\uFF0C\u6307\u5B9A <strong>mapper-location</strong> \u4F4D\u7F6E\u5373\u53EF\uFF1B</li><li>\u7F16\u5199 <code>Mapper</code> \u63A5\u53E3\u5E76\u6807\u6CE8 <code>@Mapper</code> \u6CE8\u89E3\uFF1B</li><li>\u7B80\u5355\u65B9\u6CD5\u76F4\u63A5\u6CE8\u89E3\u65B9\u5F0F\uFF1B</li><li>\u590D\u6742\u65B9\u6CD5\u7F16\u5199 <strong>mapper.xml</strong> \u8FDB\u884C\u7ED1\u5B9A\u6620\u5C04\uFF1B</li><li><code>@MapperScan(&quot;com.atguigu.admin.mapper&quot;)</code> \u6807\u6CE8\u5728\u4E3B\u5E94\u7528\u7C7B\u4E0A\uFF0C\u5176\u4ED6\u7684\u63A5\u53E3\u5C31\u53EF\u4EE5\u4E0D\u7528\u6807\u6CE8 <code>@Mapper</code> \u6CE8\u89E3\u3002</li></ol><h3 id="_1-4-\u6574\u5408-mybatis-plus-\u5B8C\u6210-crud" tabindex="-1"><a class="header-anchor" href="#_1-4-\u6574\u5408-mybatis-plus-\u5B8C\u6210-crud" aria-hidden="true">#</a> 1.4 \u6574\u5408 MyBatis-Plus \u5B8C\u6210 CRUD</h3><h4 id="_1-4-1-\u4EC0\u4E48\u662F-mybatis-plus" tabindex="-1"><a class="header-anchor" href="#_1-4-1-\u4EC0\u4E48\u662F-mybatis-plus" aria-hidden="true">#</a> 1.4.1 \u4EC0\u4E48\u662F MyBatis-Plus</h4>`,26),Hs={href:"https://baomidou.com/",target:"_blank",rel:"noopener noreferrer"},Ls=s("MyBatis-Plus"),Bs=s("\uFF08\u7B80\u79F0 "),Ws=n("strong",null,"MP",-1),Ds=s("\uFF09\u662F\u4E00\u4E2A "),Vs={href:"http://www.mybatis.org/mybatis-3/",target:"_blank",rel:"noopener noreferrer"},Os=s("MyBatis"),Us=s(" \u7684\u589E\u5F3A\u5DE5\u5177\uFF0C\u5728 "),Ns=n("strong",null,"MyBatis",-1),Gs=s(" \u7684\u57FA\u7840\u4E0A\u53EA\u505A\u589E\u5F3A\u4E0D\u505A\u6539\u53D8\uFF0C\u4E3A\u7B80\u5316\u5F00\u53D1\u3001\u63D0\u9AD8\u6548\u7387\u800C\u751F\u3002"),zs=e(`<p>\u5EFA\u8BAE\u5B89\u88C5 <strong>MybatisX</strong> \u63D2\u4EF6\u3002</p><h4 id="_1-4-2-\u6574\u5408-mybatis-plus" tabindex="-1"><a class="header-anchor" href="#_1-4-2-\u6574\u5408-mybatis-plus" aria-hidden="true">#</a> 1.4.2 \u6574\u5408 MyBatis-Plus</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u81EA\u52A8\u914D\u7F6E\uFF1A</p><ul><li><p><code>MybatisPlusAutoConfiguration</code> \u914D\u7F6E\u7C7B\uFF0C<code>MybatisPlusProperties</code> \u914D\u7F6E\u9879\u7ED1\u5B9A\uFF1B</p></li><li><p><code>SqlSessionFactory</code> \u662F\u81EA\u52A8\u914D\u7F6E\u597D\u7684\uFF0C\u5E95\u5C42\u662F\u5BB9\u5668\u4E2D\u9ED8\u8BA4\u7684\u6570\u636E\u6E90\uFF1B</p></li><li><p><code>mapperLocations</code> \u662F\u81EA\u52A8\u914D\u7F6E\u597D\u7684\uFF0C\u6709\u9ED8\u8BA4\u503C <code>classpath*:/mapper/**/*.xml</code>\uFF0C\u4EFB\u610F\u5305\u7684\u7C7B\u8DEF\u5F84\u4E0B\u7684\u6240\u6709 <strong>mapper</strong> \u5F84\u4E0B\u7684\u6240\u6709 <strong>xml</strong> \u90FD\u662F <strong>sql</strong> \u6620\u5C04\u6587\u4EF6\u3002</p></li><li><p>\u5BB9\u5668\u4E2D\u4E5F\u81EA\u52A8\u914D\u7F6E\u597D\u4E86 <code>SqlSessionTemplate</code>\uFF1B</p></li><li><p><code>@Mapper</code> \u6807\u6CE8\u7684\u63A5\u53E3\u4E5F\u4F1A\u88AB\u81EA\u52A8\u626B\u63CF\uFF0C\u5EFA\u8BAE\u76F4\u63A5 <code>@MapperScan(&quot;com.atguigu.admin.mapper&quot;)</code> \u6279\u91CF\u626B\u63CF\u5C31\u884C\u3002</p></li></ul><p>**\u4F18\u70B9\uFF1A**\u53EA\u9700\u8981\u6211\u4EEC\u7684 <code>Mapper</code> \u7EE7\u627F <code>BaseMapper </code> \u5C31\u53EF\u4EE5\u62E5\u6709 <strong>CRUD</strong> \u80FD\u529B\u3002</p><h4 id="_1-4-3-crud-\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_1-4-3-crud-\u529F\u80FD" aria-hidden="true">#</a> 1.4.3 CRUD \u529F\u80FD</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@GetMapping(&quot;/user/delete/{id}&quot;)
public String deleteUser(@PathVariable(&quot;id&quot;) Long id,
                         @RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;) Integer pn,
                         RedirectAttributes ra){
    userService.removeById(id);
    ra.addAttribute(&quot;pn&quot;, pn);
    return &quot;redirect:/dynamic_table&quot;;
}

@GetMapping(&quot;/dynamic_table&quot;)
public String dynamic_table(@RequestParam(value=&quot;pn&quot;,defaultValue = &quot;1&quot;) Integer pn,Model model){
    // \u8868\u683C\u5185\u5BB9\u7684\u904D\u5386
    //        response.sendError
    //        List&lt;User&gt; users = Arrays.asList(new User(&quot;zhangsan&quot;, &quot;123456&quot;),
    //                new User(&quot;lisi&quot;, &quot;123444&quot;),
    //                new User(&quot;haha&quot;, &quot;aaaaa&quot;),
    //                new User(&quot;hehe &quot;, &quot;aaddd&quot;));
    //        model.addAttribute(&quot;users&quot;,users);
    //
    //        if(users.size()&gt;3){
    //            throw new UserTooManyException();
    //        }
    // \u4ECE\u6570\u636E\u5E93\u4E2D\u67E5\u51FAuser\u8868\u4E2D\u7684\u7528\u6237\u8FDB\u884C\u5C55\u793A

    // \u6784\u9020\u5206\u9875\u53C2\u6570
    Page&lt;User&gt; page = new Page&lt;&gt;(pn, 2);
    // \u8C03\u7528page\u8FDB\u884C\u5206\u9875
    Page&lt;User&gt; userPage = userService.page(page, null);
    //        userPage.getRecords()
    //        userPage.getCurrent()
    //        userPage.getPages()
    model.addAttribute(&quot;users&quot;,userPage);
    return &quot;table/dynamic_table&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Service
public class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService {}

public interface UserService extends IService&lt;User&gt; {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2\u3001nosql" tabindex="-1"><a class="header-anchor" href="#_2\u3001nosql" aria-hidden="true">#</a> 2\u3001NoSQL</h2>`,10),Ys=n("strong",null,"Redis",-1),$s=s(" \u662F\u4E00\u4E2A\u5F00\u6E90\uFF08"),Xs=n("strong",null,"BSD",-1),Qs=s(" \u8BB8\u53EF\uFF09\u7684\uFF0C\u5185\u5B58\u4E2D\u7684\u6570\u636E\u7ED3\u6784\u5B58\u50A8\u7CFB\u7EDF\uFF0C\u5B83\u53EF\u4EE5\u7528\u4F5C\u6570\u636E\u5E93\u3001"),Ks=n("strong",null,"\u7F13\u5B58",-1),Zs=s("\u548C\u6D88\u606F\u4E2D\u95F4\u4EF6\u3002 \u5B83\u652F\u6301\u591A\u79CD\u7C7B\u578B\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u5982 "),na={href:"http://www.redis.cn/topics/data-types-intro.html#strings",target:"_blank",rel:"noopener noreferrer"},sa=s("\u5B57\u7B26\u4E32\uFF08strings\uFF09"),aa=s("\uFF0C "),ta={href:"http://www.redis.cn/topics/data-types-intro.html#hashes",target:"_blank",rel:"noopener noreferrer"},ea=s("\u6563\u5217\uFF08hashes\uFF09"),oa=s("\uFF0C "),pa={href:"http://www.redis.cn/topics/data-types-intro.html#lists",target:"_blank",rel:"noopener noreferrer"},la=s("\u5217\u8868\uFF08lists\uFF09"),ia=s("\uFF0C "),ca={href:"http://www.redis.cn/topics/data-types-intro.html#sets",target:"_blank",rel:"noopener noreferrer"},ra=s("\u96C6\u5408\uFF08sets\uFF09"),ua=s("\uFF0C "),da={href:"http://www.redis.cn/topics/data-types-intro.html#sorted-sets",target:"_blank",rel:"noopener noreferrer"},ka=s("\u6709\u5E8F\u96C6\u5408\uFF08sorted sets\uFF09"),va=s(" \u4E0E\u8303\u56F4\u67E5\u8BE2\uFF0C "),ga={href:"http://www.redis.cn/topics/data-types-intro.html#bitmaps",target:"_blank",rel:"noopener noreferrer"},ma=s("bitmaps"),ba=s("\uFF0C"),ha={href:"http://www.redis.cn/topics/data-types-intro.html#hyperloglogs",target:"_blank",rel:"noopener noreferrer"},qa=s("\u57FA\u6570\u7EDF\u8BA1\uFF08hyperloglogs\uFF09"),fa=s(" \u548C "),_a={href:"http://www.redis.cn/commands/geoadd.html",target:"_blank",rel:"noopener noreferrer"},ya=s("\u5730\u7406\u7A7A\u95F4\uFF08geospatial\uFF09"),xa=s(" \u7D22\u5F15\u534A\u5F84\u67E5\u8BE2\u3002 Redis \u5185\u7F6E\u4E86 "),Ca={href:"http://www.redis.cn/topics/replication.html",target:"_blank",rel:"noopener noreferrer"},Sa=s("\u590D\u5236\uFF08replication\uFF09"),wa=s("\uFF0C"),Ma={href:"http://www.redis.cn/commands/eval.html",target:"_blank",rel:"noopener noreferrer"},Fa=s("LUA\u811A\u672C\uFF08Lua scripting\uFF09"),Aa=s("\uFF0C "),Ra={href:"http://www.redis.cn/topics/lru-cache.html",target:"_blank",rel:"noopener noreferrer"},Pa=s("LRU\u9A71\u52A8\u4E8B\u4EF6\uFF08LRU eviction\uFF09"),ja=s("\uFF0C"),Ea={href:"http://www.redis.cn/topics/transactions.html",target:"_blank",rel:"noopener noreferrer"},Ta=s("\u4E8B\u52A1\uFF08transactions\uFF09"),Ja=s(" \u548C\u4E0D\u540C\u7EA7\u522B\u7684 "),Ia={href:"http://www.redis.cn/topics/persistence.html",target:"_blank",rel:"noopener noreferrer"},Ha=s("\u78C1\u76D8\u6301\u4E45\u5316\uFF08persistence\uFF09"),La=s("\uFF0C \u5E76\u901A\u8FC7 "),Ba={href:"http://www.redis.cn/topics/sentinel.html",target:"_blank",rel:"noopener noreferrer"},Wa=s("Redis\u54E8\u5175\uFF08Sentinel\uFF09"),Da=s("\u548C\u81EA\u52A8 "),Va={href:"http://www.redis.cn/topics/cluster-tutorial.html",target:"_blank",rel:"noopener noreferrer"},Oa=s("\u5206\u533A\uFF08Cluster\uFF09"),Ua=s("\u63D0\u4F9B\u9AD8\u53EF\u7528\u6027\uFF08"),Na=n("strong",null,"High Availability",-1),Ga=s("\uFF09\u3002"),za=e(`<h3 id="_2-1-redis-\u81EA\u52A8\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-1-redis-\u81EA\u52A8\u914D\u7F6E" aria-hidden="true">#</a> 2.1 Redis \u81EA\u52A8\u914D\u7F6E</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606745732785-17d1227a-75b9-4f00-a3f1-7fc4137b5113.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_17%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="Redis \u7684 jar \u5305"></p><p>\u81EA\u52A8\u914D\u7F6E\uFF1A</p><ul><li><p><code>RedisAutoConfiguration</code> \u81EA\u52A8\u914D\u7F6E\u7C7B\uFF0C<code>RedisProperties</code> \u5C5E\u6027\u7C7B\uFF1B</p></li><li><p>\u8FDE\u63A5\u5DE5\u5382\u662F\u51C6\u5907\u597D\u7684\uFF0C<code>LettuceConnectionConfiguration</code>\u3001<code>JedisConnectionConfiguration</code>\uFF1B</p></li><li><p>\u81EA\u52A8\u6CE8\u5165\u4E86 <code>RedisTemplate&lt;Object, Object&gt;</code>\uFF1B</p></li><li><p>\u81EA\u52A8\u6CE8\u5165\u4E86 <code>StringRedisTemplate</code>\uFF0C\u952E\u503C\u90FD\u662F <code>String</code>\uFF1B</p></li><li><p>\u6211\u4EEC\u53EA\u8981\u4F7F\u7528 <code>StringRedisTemplate</code>\u3001<code>RedisTemplate</code> \u5C31\u53EF\u4EE5\u64CD\u4F5C <strong>Redis</strong>\u3002</p></li></ul><h3 id="_2-2-redistemplate-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-2-redistemplate-\u4F7F\u7528" aria-hidden="true">#</a> 2.2 RedisTemplate \u4F7F\u7528</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
void testRedis(){
    ValueOperations&lt;String, String&gt; operations = redisTemplate.opsForValue();
    operations.set(&quot;hello&quot;,&quot;world&quot;);
    String hello = operations.get(&quot;hello&quot;);
    System.out.println(hello);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-\u5207\u6362\u81F3-jedis" tabindex="-1"><a class="header-anchor" href="#_2-3-\u5207\u6362\u81F3-jedis" aria-hidden="true">#</a> 2.3 \u5207\u6362\u81F3 Jedis</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5BFC\u5165 Jedis--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">redis</span><span class="token punctuation">:</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> 172.20.134.231
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
  <span class="token key atrule">client-type</span><span class="token punctuation">:</span> jedis
  <span class="token key atrule">jedis</span><span class="token punctuation">:</span>
    <span class="token key atrule">pool</span><span class="token punctuation">:</span>
      <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u516B\u3001\u5355\u5143\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u516B\u3001\u5355\u5143\u6D4B\u8BD5" aria-hidden="true">#</a> \u516B\u3001\u5355\u5143\u6D4B\u8BD5</h1><h2 id="_1\u3001junit5-\u7684\u53D8\u5316" tabindex="-1"><a class="header-anchor" href="#_1\u3001junit5-\u7684\u53D8\u5316" aria-hidden="true">#</a> 1\u3001JUnit5 \u7684\u53D8\u5316</h2><p>SpringBoot 2.2.0 \u7248\u672C\u5F00\u59CB\u5F15\u5165 <strong>JUnit5</strong> \u4F5C\u4E3A\u5355\u5143\u6D4B\u8BD5\u9ED8\u8BA4\u5E93\u3002</p><p>\u4F5C\u4E3A\u6700\u65B0\u7248\u672C\u7684 <strong>JUnit</strong> \u6846\u67B6\uFF0C<strong>JUnit5</strong> \u4E0E\u4E4B\u524D\u7248\u672C\u7684 <strong>Junit</strong> \u6846\u67B6\u6709\u5F88\u5927\u7684\u4E0D\u540C\u3002\u7531\u4E09\u4E2A\u4E0D\u540C\u5B50\u9879\u76EE\u7684\u51E0\u4E2A\u4E0D\u540C\u6A21\u5757\u7EC4\u6210\u3002</p><p><strong>JUnit5 = JUnit Platform + JUnit Jupiter + JUnit Vintage</strong></p><ul><li><p><strong>JUnit Platform</strong>\uFF1A\u5728 <strong>JVM</strong> \u4E0A\u542F\u52A8\u6D4B\u8BD5\u6846\u67B6\u7684\u57FA\u7840\uFF0C\u4E0D\u4EC5\u652F\u6301 <strong>Junit</strong> \u81EA\u5236\u7684\u6D4B\u8BD5\u5F15\u64CE\uFF0C\u5176\u4ED6\u6D4B\u8BD5\u5F15\u64CE\u4E5F\u90FD\u53EF\u4EE5\u63A5\u5165\u3002</p></li><li><p><strong>JUnit Jupiter</strong>\uFF1A\u63D0\u4F9B\u4E86 <strong>JUnit5</strong> \u7684\u65B0\u7684\u7F16\u7A0B\u6A21\u578B\uFF0C\u662F <strong>JUnit5</strong> \u65B0\u7279\u6027\u7684\u6838\u5FC3\u3002\u5185\u90E8\u5305\u542B\u4E86\u4E00\u4E2A<strong>\u6D4B\u8BD5\u5F15\u64CE</strong>\uFF0C\u7528\u4E8E\u5728 <strong>Junit Platform</strong> \u4E0A\u8FD0\u884C\u3002</p></li><li><p><strong>JUnit Vintage</strong>\uFF1A\u7531\u4E8E <strong>JUint</strong> \u5DF2\u7ECF\u53D1\u5C55\u591A\u5E74\uFF0C\u4E3A\u4E86\u7167\u987E\u8001\u7684\u9879\u76EE\uFF0C<strong>JUnit Vintage</strong> \u63D0\u4F9B\u4E86\u517C\u5BB9 <strong>JUnit4.x</strong>\u3001<strong>Junit3.x</strong> \u7684\u6D4B\u8BD5\u5F15\u64CE\u3002</p></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606796395719-eb57ab48-ae44-45e5-8d2e-c4d507aff49a.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_19%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="JUnit5"></p><p>JUnit5\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1606797616337-e73010e9-9cac-496d-a177-64b677af5a3d.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_18%2Ctext_YXRndWlndS5jb20g5bCa56GF6LC3%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="JUnit5 \u7684 jar \u5305"></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Boot05WebAdminApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span> <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u53EF\u4EE5\u6CA1\u6709 public</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JUnit4\uFF1A</p><p>SpringBoot 2.4 \u4EE5\u4E0A\u7248\u672C\u79FB\u9664\u4E86\u9ED8\u8BA4\u5BF9 <strong>Vintage</strong> \u7684\u4F9D\u8D56\uFF0C\u5982\u679C\u9700\u8981\u517C\u5BB9 <strong>JUnit4</strong> \u9700\u8981\u81EA\u884C\u5F15\u5165\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.vintage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-vintage-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hamcrest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hamcrest-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@RunWith(SpringRunner.class)
@SpringBootTest // \u5982\u679C\u542F\u52A8\u62A5\u9519\uFF0C\u5219\u9700\u8981\u6307\u5B9A\u542F\u52A8\u7C7B\u7684 class
class Boot05WebAdminApplicationTests {
    @Test
    public void contextLoads() {

    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringBoot \u6574\u5408 <strong>JUnit</strong> \u4EE5\u540E\u3002</p><ul><li>\u7F16\u5199\u6D4B\u8BD5\u65B9\u6CD5\uFF1A<code>@Test</code> \u6807\u6CE8\uFF08\u6CE8\u610F\u9700\u8981\u4F7F\u7528 <strong>JUnit5</strong> \u7248\u672C\u7684\u6CE8\u89E3\uFF09\uFF1B</li><li><strong>JUnit</strong> \u7C7B\u5177\u6709 Spring \u7684\u529F\u80FD\uFF0C<code>@Autowired</code>\u3001\u6BD4\u5982 <code>@Transactional</code> \u6807\u6CE8\u6D4B\u8BD5\u65B9\u6CD5\uFF0C\u6D4B\u8BD5\u5B8C\u6210\u540E\u81EA\u52A8\u56DE\u6EDA\u3002</li></ul><h2 id="_2\u3001junit5-\u5E38\u7528\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_2\u3001junit5-\u5E38\u7528\u6CE8\u89E3" aria-hidden="true">#</a> 2\u3001JUnit5 \u5E38\u7528\u6CE8\u89E3</h2><p>JUnit5\u7684\u6CE8\u89E3\u4E0EJUnit4\u7684\u6CE8\u89E3\u6709\u6240\u53D8\u5316\uFF1A</p><p>https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations</p><ul><li><p><code>@Test</code>\uFF1A\u8868\u793A\u65B9\u6CD5\u662F\u6D4B\u8BD5\u65B9\u6CD5\u3002\u4F46\u662F\u4E0E <strong>JUnit4</strong> \u7684 <code>@Test</code> \u4E0D\u540C\uFF0C\u4ED6\u7684\u804C\u8D23\u975E\u5E38\u5355\u4E00\u4E0D\u80FD\u58F0\u660E\u4EFB\u4F55\u5C5E\u6027\uFF0C\u62D3\u5C55\u7684\u6D4B\u8BD5\u5C06\u4F1A\u7531 <strong>Jupiter</strong> \u63D0\u4F9B\u989D\u5916\u6D4B\u8BD5\uFF1B</p></li><li><p><code>@ParameterizedTest</code>\uFF1A\u8868\u793A\u65B9\u6CD5\u662F\u53C2\u6570\u5316\u6D4B\u8BD5\uFF0C\u4E0B\u65B9\u4F1A\u6709\u8BE6\u7EC6\u4ECB\u7ECD\uFF1B</p></li><li><p><code>@RepeatedTest</code>\uFF1A\u8868\u793A\u65B9\u6CD5\u53EF\u91CD\u590D\u6267\u884C\uFF0C\u4E0B\u65B9\u4F1A\u6709\u8BE6\u7EC6\u4ECB\u7ECD\uFF1B</p></li><li><p><code>@DisplayName</code>\uFF1A\u4E3A\u6D4B\u8BD5\u7C7B\u6216\u8005\u6D4B\u8BD5\u65B9\u6CD5\u8BBE\u7F6E\u5C55\u793A\u540D\u79F0\uFF1B</p></li><li><p><code>@BeforeEach</code>\uFF1A\u8868\u793A\u5728\u6BCF\u4E2A\u5355\u5143\u6D4B\u8BD5\u4E4B\u524D\u6267\u884C\uFF1B</p></li><li><p><code>@AfterEach</code>\uFF1A\u8868\u793A\u5728\u6BCF\u4E2A\u5355\u5143\u6D4B\u8BD5\u4E4B\u540E\u6267\u884C\uFF1B</p></li><li><p><code>@BeforeAll</code>\uFF1A\u8868\u793A\u5728\u6240\u6709\u5355\u5143\u6D4B\u8BD5\u4E4B\u524D\u6267\u884C\uFF1B</p></li><li><p><code>@AfterAll</code>\uFF1A\u8868\u793A\u5728\u6240\u6709\u5355\u5143\u6D4B\u8BD5\u4E4B\u540E\u6267\u884C\uFF1B</p></li><li><p><code>@Tag</code>\uFF1A\u8868\u793A\u5355\u5143\u6D4B\u8BD5\u7C7B\u522B\uFF0C\u7C7B\u4F3C\u4E8E <strong>JUnit4</strong> \u4E2D\u7684 <code>@Categories</code>\uFF1B</p></li><li><p><code>@Disabled</code>\uFF1A\u8868\u793A\u6D4B\u8BD5\u7C7B\u6216\u6D4B\u8BD5\u65B9\u6CD5\u4E0D\u6267\u884C\uFF0C\u7C7B\u4F3C\u4E8E <strong>JUnit4</strong> \u4E2D\u7684 <code>@Ignore</code>\uFF1B</p></li><li><p><code>@Timeout</code>\uFF1A\u8868\u793A\u6D4B\u8BD5\u65B9\u6CD5\u8FD0\u884C\u5982\u679C\u8D85\u8FC7\u4E86\u6307\u5B9A\u65F6\u95F4\u5C06\u4F1A\u8FD4\u56DE\u9519\u8BEF\uFF1B</p></li><li><p><code>@ExtendWith</code>\uFF1A\u4E3A\u6D4B\u8BD5\u7C7B\u6216\u6D4B\u8BD5\u65B9\u6CD5\u63D0\u4F9B\u6269\u5C55\u7C7B\u5F15\u7528\u3002</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span> <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u4F7F\u7528\u7684\u662F jupiter \u7684 Test \u6CE8\u89E3</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDemo</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Test</span>
  <span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;\u7B2C\u4E00\u6B21\u6D4B\u8BD5&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">firstTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3\u3001\u65AD\u8A00-assertions" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u65AD\u8A00-assertions" aria-hidden="true">#</a> 3\u3001\u65AD\u8A00\uFF08Assertions\uFF09</h2><p><strong>\u65AD\u8A00</strong>\uFF08Assertions\uFF09\u662F\u6D4B\u8BD5\u65B9\u6CD5\u4E2D\u7684\u6838\u5FC3\u90E8\u5206\uFF0C\u7528\u6765\u5BF9\u6D4B\u8BD5\u9700\u8981\u6EE1\u8DB3\u7684\u6761\u4EF6\u8FDB\u884C\u9A8C\u8BC1\u3002\u8FD9\u4E9B\u65AD\u8A00\u65B9\u6CD5\u90FD\u662F org.junit.jupiter.api.<code>Assertions</code> \u7684\u9759\u6001\u65B9\u6CD5\u3002<strong>JUnit5</strong> \u5185\u7F6E\u7684\u65AD\u8A00\u53EF\u4EE5\u5206\u6210\u5982\u4E0B\u51E0\u4E2A\u7C7B\u522B\uFF1A</p><h3 id="_3-1-\u7B80\u5355\u65AD\u8A00" tabindex="-1"><a class="header-anchor" href="#_3-1-\u7B80\u5355\u65AD\u8A00" aria-hidden="true">#</a> 3.1 \u7B80\u5355\u65AD\u8A00</h3><p>\u7528\u6765\u5BF9\u5355\u4E2A\u503C\u8FDB\u884C\u7B80\u5355\u7684\u9A8C\u8BC1\uFF0C\u5982\uFF1A</p><table><thead><tr><th>\u65B9\u6CD5</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><code>assertEquals</code></td><td>\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u6216\u4E24\u4E2A\u539F\u59CB\u7C7B\u578B\u662F\u5426\u76F8\u7B49</td></tr><tr><td><code>assertNotEquals</code></td><td>\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u6216\u4E24\u4E2A\u539F\u59CB\u7C7B\u578B\u662F\u5426\u4E0D\u76F8\u7B49</td></tr><tr><td><code>assertSame</code></td><td>\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u5F15\u7528\u662F\u5426\u6307\u5411\u540C\u4E00\u4E2A\u5BF9\u8C61</td></tr><tr><td><code>assertNotSame</code></td><td>\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u5F15\u7528\u662F\u5426\u6307\u5411\u4E0D\u540C\u7684\u5BF9\u8C61</td></tr><tr><td><code>assertTrue</code></td><td>\u5224\u65AD\u7ED9\u5B9A\u7684\u5E03\u5C14\u503C\u662F\u5426\u4E3A <code>true</code></td></tr><tr><td><code>assertFalse</code></td><td>\u5224\u65AD\u7ED9\u5B9A\u7684\u5E03\u5C14\u503C\u662F\u5426\u4E3A <code>false</code></td></tr><tr><td><code>assertNull</code></td><td>\u5224\u65AD\u7ED9\u5B9A\u7684\u5BF9\u8C61\u5F15\u7528\u662F\u5426\u4E3A <code>null</code></td></tr><tr><td><code>assertNotNull</code></td><td>\u5224\u65AD\u7ED9\u5B9A\u7684\u5BF9\u8C61\u5F15\u7528\u662F\u5426\u4E0D\u4E3A <code>null</code></td></tr></tbody></table><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>@Test
@<span class="token function">DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;simple assertion&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">simple</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;simple math&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">assertNotEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">assertNotSame</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     Object obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">assertSame</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">assertNotNull</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-\u6570\u7EC4\u65AD\u8A00" tabindex="-1"><a class="header-anchor" href="#_3-2-\u6570\u7EC4\u65AD\u8A00" aria-hidden="true">#</a> 3.2 \u6570\u7EC4\u65AD\u8A00</h3><p>\u901A\u8FC7 <code>assertArrayEquals</code> \u65B9\u6CD5\u6765\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u6216\u539F\u59CB\u7C7B\u578B\u7684\u6570\u7EC4\u5185\u5BB9\u662F\u5426\u76F8\u7B49\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
@DisplayName(&quot;array assertion&quot;)
public void array() {
 assertArrayEquals(new int[]{1, 2}, new int[] {1, 2});
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-\u7EC4\u5408\u65AD\u8A00" tabindex="-1"><a class="header-anchor" href="#_3-3-\u7EC4\u5408\u65AD\u8A00" aria-hidden="true">#</a> 3.3 \u7EC4\u5408\u65AD\u8A00</h3><p><code>assertAll</code> \u65B9\u6CD5\u63A5\u53D7\u591A\u4E2A org.junit.jupiter.api.<code>Executable</code> \u51FD\u6570\u5F0F\u63A5\u53E3\u7684\u5B9E\u4F8B\u4F5C\u4E3A\u8981\u9A8C\u8BC1\u7684\u65AD\u8A00\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>lambda</code> \u8868\u8FBE\u5F0F\u5F88\u5BB9\u6613\u7684\u63D0\u4F9B\u8FD9\u4E9B\u65AD\u8A00\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
@DisplayName(&quot;assert all&quot;)
public void all() {
 assertAll(&quot;Math&quot;,
    () -&gt; assertEquals(2, 1 + 1),
    () -&gt; assertTrue(1 &gt; 0)
 );
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-\u5F02\u5E38\u65AD\u8A00" tabindex="-1"><a class="header-anchor" href="#_3-4-\u5F02\u5E38\u65AD\u8A00" aria-hidden="true">#</a> 3.4 \u5F02\u5E38\u65AD\u8A00</h3><p>\u5728 <strong>JUnit4</strong> \u65F6\u671F\uFF0C\u60F3\u8981\u6D4B\u8BD5\u65B9\u6CD5\u7684\u5F02\u5E38\u60C5\u51B5\u65F6\uFF0C\u9700\u8981\u7528 <code>@Rule</code> \u6CE8\u89E3\u7684 <code>ExpectedException</code> \u53D8\u91CF\u8FD8\u662F\u6BD4\u8F83\u9EBB\u70E6\u7684\u3002\u800C <strong>JUnit5</strong> \u63D0\u4F9B\u4E86\u4E00\u79CD\u65B0\u7684\u65AD\u8A00\u65B9\u5F0F <code>Assertions.assertThrows()</code>\uFF0C\u914D\u5408\u51FD\u6570\u5F0F\u7F16\u7A0B\u5C31\u53EF\u4EE5\u8FDB\u884C\u4F7F\u7528\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
@DisplayName(&quot;\u5F02\u5E38\u6D4B\u8BD5&quot;)
public void exceptionTest() { // \u6254\u51FA\u65AD\u8A00\u5F02\u5E38
    ArithmeticException exception = Assertions.assertThrows(
        ArithmeticException.class, () -&gt; System.out.println(1 % 0));
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-\u8D85\u65F6\u65AD\u8A00" tabindex="-1"><a class="header-anchor" href="#_3-5-\u8D85\u65F6\u65AD\u8A00" aria-hidden="true">#</a> 3.5 \u8D85\u65F6\u65AD\u8A00</h3><p><strong>Junit5</strong> \u8FD8\u63D0\u4F9B\u4E86 <code>Assertions.assertTimeout()</code> \u4E3A\u6D4B\u8BD5\u65B9\u6CD5\u8BBE\u7F6E\u4E86\u8D85\u65F6\u65F6\u95F4\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
@DisplayName(&quot;\u8D85\u65F6\u6D4B\u8BD5&quot;)
public void timeoutTest() {
    // \u5982\u679C\u6D4B\u8BD5\u65B9\u6CD5\u65F6\u95F4\u8D85\u8FC7 1s \u5C06\u4F1A\u5F02\u5E38
    Assertions.assertTimeout(Duration.ofMillis(1000), () -&gt; Thread.sleep(500));
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-6-\u5FEB\u901F\u5931\u8D25" tabindex="-1"><a class="header-anchor" href="#_3-6-\u5FEB\u901F\u5931\u8D25" aria-hidden="true">#</a> 3.6 \u5FEB\u901F\u5931\u8D25</h3><p>\u901A\u8FC7 <code>fail</code> \u65B9\u6CD5\u76F4\u63A5\u4F7F\u5F97\u6D4B\u8BD5\u5931\u8D25\uFF1A</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Test
@DisplayName(&quot;fail&quot;)
public void shouldFail() {
     fail(&quot;This should fail&quot;);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4\u3001\u524D\u7F6E\u6761\u4EF6-assumptions" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u524D\u7F6E\u6761\u4EF6-assumptions" aria-hidden="true">#</a> 4\u3001\u524D\u7F6E\u6761\u4EF6\uFF08Assumptions\uFF09</h2><p>JUnit 5 \u4E2D\u7684\u524D\u7F6E\u6761\u4EF6\uFF08<strong>Assumptions\u3010\u5047\u8BBE\u3011</strong>\uFF09\u7C7B\u4F3C\u4E8E\u65AD\u8A00\uFF0C\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E<strong>\u4E0D\u6EE1\u8DB3\u7684\u65AD\u8A00\u4F1A\u4F7F\u5F97\u6D4B\u8BD5\u65B9\u6CD5\u5931\u8D25</strong>\uFF0C\u800C\u4E0D\u6EE1\u8DB3\u7684<strong>\u524D\u7F6E\u6761\u4EF6\u53EA\u4F1A\u4F7F\u5F97\u6D4B\u8BD5\u65B9\u6CD5\u7684\u6267\u884C\u7EC8\u6B62</strong>\u3002\u524D\u7F6E\u6761\u4EF6\u53EF\u4EE5\u770B\u6210\u662F\u6D4B\u8BD5\u65B9\u6CD5\u6267\u884C\u7684\u524D\u63D0\uFF0C\u5F53\u8BE5\u524D\u63D0\u4E0D\u6EE1\u8DB3\u65F6\uFF0C\u5C31\u6CA1\u6709\u7EE7\u7EED\u6267\u884C\u7684\u5FC5\u8981\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@DisplayName(&quot;\u524D\u7F6E\u6761\u4EF6&quot;)
public class AssumptionsTest {
 private final String environment = &quot;DEV&quot;;
 
 @Test
 @DisplayName(&quot;simple&quot;)
 public void simpleAssume() {
    assumeTrue(Objects.equals(this.environment, &quot;DEV&quot;));
    assumeFalse(() -&gt; Objects.equals(this.environment, &quot;PROD&quot;));
 }
 
 @Test
 @DisplayName(&quot;assume then do&quot;)
 public void assumeThenDo() {
    assumingThat(
       Objects.equals(this.environment, &quot;DEV&quot;),
       () -&gt; System.out.println(&quot;In DEV&quot;)
    );
 }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>assumeTrue</code> \u548C <code>assumFalse</code> \u786E\u4FDD\u7ED9\u5B9A\u7684\u6761\u4EF6\u4E3A <code>true</code> \u6216 <code>false</code>\uFF0C\u4E0D\u6EE1\u8DB3\u6761\u4EF6\u4F1A\u4F7F\u5F97\u6D4B\u8BD5\u6267\u884C\u7EC8\u6B62\u3002<code>assumingThat</code> \u7684\u53C2\u6570\u662F\u8868\u793A\u6761\u4EF6\u7684\u5E03\u5C14\u503C\u548C\u5BF9\u5E94\u7684 <code>Executable</code> \u63A5\u53E3\u7684\u5B9E\u73B0\u5BF9\u8C61\u3002\u53EA\u6709\u6761\u4EF6\u6EE1\u8DB3\u65F6\uFF0C<code>Executable</code> \u5BF9\u8C61\u624D\u4F1A\u88AB\u6267\u884C\uFF1B\u5F53\u6761\u4EF6\u4E0D\u6EE1\u8DB3\u65F6\uFF0C\u6D4B\u8BD5\u6267\u884C\u5E76\u4E0D\u4F1A\u7EC8\u6B62\u3002</p><h2 id="_5\u3001\u5D4C\u5957\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u5D4C\u5957\u6D4B\u8BD5" aria-hidden="true">#</a> 5\u3001\u5D4C\u5957\u6D4B\u8BD5</h2><p><strong>JUnit5</strong> \u53EF\u4EE5\u901A\u8FC7 Java \u4E2D\u7684\u5185\u90E8\u7C7B\u548C <code>@Nested</code> \u6CE8\u89E3\u5B9E\u73B0\u5D4C\u5957\u6D4B\u8BD5\uFF0C\u4ECE\u800C\u53EF\u4EE5\u66F4\u597D\u7684\u628A\u76F8\u5173\u7684\u6D4B\u8BD5\u65B9\u6CD5\u7EC4\u7EC7\u5728\u4E00\u8D77\u3002\u5728\u5185\u90E8\u7C7B\u4E2D\u53EF\u4EE5\u4F7F\u7528 <code>@BeforeEach</code> \u548C <code>@AfterEach</code> \u6CE8\u89E3\uFF0C\u800C\u4E14\u5D4C\u5957\u7684\u5C42\u6B21\u6CA1\u6709\u9650\u5236\u3002</p><p>\u5185\u5C42\u7684 test \u53EF\u4EE5\u9A71\u52A8\u5916\u5C42\u7684 Before(After)Each/All \u4E4B\u7C7B\u7684\u65B9\u6CD5\u63D0\u524D/\u5EF6\u540E\u8FD0\u884C\uFF0C\u5916\u5C42\u7684\u4E0D\u80FD\u9A71\u52A8\u5185\u5C42\u7684\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@DisplayName(&quot;A stack&quot;)
class TestingAStackDemo {
    Stack&lt;Object&gt; stack;

    @Test
    @DisplayName(&quot;is instantiated with new Stack()&quot;)
    void isInstantiatedWithNew() {
        new Stack&lt;&gt;();
    }

    @Nested
    @DisplayName(&quot;when new&quot;)
    class WhenNew {
        @BeforeEach
        void createNewStack() {
            stack = new Stack&lt;&gt;();
        }

        @Test
        @DisplayName(&quot;is empty&quot;)
        void isEmpty() {
            assertTrue(stack.isEmpty());
        }

        @Test
        @DisplayName(&quot;throws EmptyStackException when popped&quot;)
        void throwsExceptionWhenPopped() {
            assertThrows(EmptyStackException.class, stack::pop);
        }

        @Test
        @DisplayName(&quot;throws EmptyStackException when peeked&quot;)
        void throwsExceptionWhenPeeked() {
            assertThrows(EmptyStackException.class, stack::peek);
        }

        @Nested
        @DisplayName(&quot;after pushing an element&quot;)
        class AfterPushing {
            String anElement = &quot;an element&quot;;

            @BeforeEach
            void pushAnElement() {
                stack.push(anElement);
            }

            @Test
            @DisplayName(&quot;it is no longer empty&quot;)
            void isNotEmpty() {
                assertFalse(stack.isEmpty());
            }

            @Test
            @DisplayName(&quot;returns the element when popped and is empty&quot;)
            void returnElementWhenPopped() {
                assertEquals(anElement, stack.pop());
                assertTrue(stack.isEmpty());
            }

            @Test
            @DisplayName(&quot;returns the element when peeked but remains not empty&quot;)
            void returnElementWhenPeeked() {
                assertEquals(anElement, stack.peek());
                assertFalse(stack.isEmpty());
            }
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6\u3001\u53C2\u6570\u5316\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u53C2\u6570\u5316\u6D4B\u8BD5" aria-hidden="true">#</a> 6\u3001\u53C2\u6570\u5316\u6D4B\u8BD5</h2><p>\u53C2\u6570\u5316\u6D4B\u8BD5\u662F <strong>JUnit5</strong> \u5F88\u91CD\u8981\u7684\u4E00\u4E2A\u65B0\u7279\u6027\uFF0C\u5B83\u4F7F\u5F97\u7528\u4E0D\u540C\u7684\u53C2\u6570\u591A\u6B21\u8FD0\u884C\u6D4B\u8BD5\u6210\u4E3A\u4E86\u53EF\u80FD\uFF0C\u4E5F\u4E3A\u6211\u4EEC\u7684\u5355\u5143\u6D4B\u8BD5\u5E26\u6765\u8BB8\u591A\u4FBF\u5229\u3002</p><p>\u5229\u7528 <code>@ValueSource</code> \u7B49\u6CE8\u89E3\uFF0C\u6307\u5B9A\u5165\u53C2\uFF0C\u6211\u4EEC\u5C06\u53EF\u4EE5\u4F7F\u7528\u4E0D\u540C\u7684\u53C2\u6570\u8FDB\u884C\u591A\u6B21\u5355\u5143\u6D4B\u8BD5\uFF0C\u800C\u4E0D\u9700\u8981\u6BCF\u65B0\u589E\u4E00\u4E2A\u53C2\u6570\u5C31\u65B0\u589E\u4E00\u4E2A\u5355\u5143\u6D4B\u8BD5\uFF0C\u7701\u53BB\u4E86\u5F88\u591A\u5197\u4F59\u4EE3\u7801\u3002</p><ul><li><p><code>@ValueSource</code>\uFF1A\u4E3A\u53C2\u6570\u5316\u6D4B\u8BD5\u6307\u5B9A\u5165\u53C2\u6765\u6E90\uFF0C\u652F\u6301\u516B\u5927\u57FA\u7840\u7C7B\u4EE5\u53CA <code>String</code> \u7C7B\u578B\uFF0C<code>Class</code>\u7C7B\u578B\uFF1B</p></li><li><p><code>@NullSource</code>\uFF1A\u8868\u793A\u4E3A\u53C2\u6570\u5316\u6D4B\u8BD5\u63D0\u4F9B\u4E00\u4E2A <code>null</code> \u7684\u5165\u53C2\uFF1B</p></li><li><p><code>@EnumSource</code>\uFF1A\u8868\u793A\u4E3A\u53C2\u6570\u5316\u6D4B\u8BD5\u63D0\u4F9B\u4E00\u4E2A\u679A\u4E3E\u5165\u53C2\uFF1B</p></li><li><p><code>@CsvFileSource</code>\uFF1A\u8868\u793A\u8BFB\u53D6\u6307\u5B9A <strong>CSV</strong> \u6587\u4EF6\u5185\u5BB9\u4F5C\u4E3A\u53C2\u6570\u5316\u6D4B\u8BD5\u5165\u53C2\uFF1B</p></li><li><p><code>@MethodSource</code>\uFF1A\u8868\u793A\u8BFB\u53D6\u6307\u5B9A\u9759\u6001\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u4F5C\u4E3A\u53C2\u6570\u5316\u6D4B\u8BD5\u5165\u53C2\uFF0C\u6CE8\u610F\u65B9\u6CD5\u8FD4\u56DE\u9700\u8981\u662F\u4E00\u4E2A <code>Stream</code>\u3002</p></li></ul><p>\u5F53\u7136\u5982\u679C\u53C2\u6570\u5316\u6D4B\u8BD5\u4EC5\u4EC5\u53EA\u80FD\u505A\u5230\u6307\u5B9A\u666E\u901A\u7684\u5165\u53C2\uFF0C\u8FD8\u8FBE\u4E0D\u5230\u8BA9\u6211\u89C9\u5F97\u60CA\u8273\u7684\u5730\u6B65\u3002\u8BA9\u6211\u771F\u6B63\u611F\u5230\u4ED6\u7684\u5F3A\u5927\u4E4B\u5904\u7684\u5730\u65B9\u5728\u4E8E\u4ED6\u53EF\u4EE5\u652F\u6301\u5916\u90E8\u7684\u5404\u7C7B\u5165\u53C2\u3002\u5982 <strong>CSV</strong>\u3001<strong>YAML</strong>\u3001<strong>JSON</strong> \u6587\u4EF6\u751A\u81F3\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u4E5F\u53EF\u4EE5\u4F5C\u4E3A\u5165\u53C2\u3002\u53EA\u9700\u8981\u53BB\u5B9E\u73B0 <code>ArgumentsProvider</code> \u63A5\u53E3\uFF0C\u4EFB\u4F55\u5916\u90E8\u6587\u4EF6\u90FD\u53EF\u4EE5\u4F5C\u4E3A\u5B83\u7684\u5165\u53C2\u3002</p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@ParameterizedTest
@ValueSource(strings = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;})
@DisplayName(&quot;\u53C2\u6570\u5316\u6D4B\u8BD51&quot;)
public void parameterizedTest1(String string) {
    System.out.println(string);
    Assertions.assertTrue(StringUtils.isNotBlank(string));
}

@ParameterizedTest
@MethodSource(&quot;method&quot;) // \u6307\u5B9A\u65B9\u6CD5\u540D
@DisplayName(&quot;\u65B9\u6CD5\u6765\u6E90\u53C2\u6570&quot;)
public void testWithExplicitLocalMethodSource(String name) {
    System.out.println(name);
    Assertions.assertNotNull(name);
}

static Stream&lt;String&gt; method() {
    return Stream.of(&quot;apple&quot;, &quot;banana&quot;);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7\u3001\u8FC1\u79FB\u6307\u5357" tabindex="-1"><a class="header-anchor" href="#_7\u3001\u8FC1\u79FB\u6307\u5357" aria-hidden="true">#</a> 7\u3001\u8FC1\u79FB\u6307\u5357</h2><p>\u5728\u8FDB\u884C\u8FC1\u79FB\u7684\u65F6\u5019\u9700\u8981\u6CE8\u610F\u5982\u4E0B\u7684\u53D8\u5316\uFF1A</p><ul><li><p>\u6CE8\u89E3\u5728 <strong>org.junit.jupiter.api</strong> \u5305\u4E2D\uFF0C\u65AD\u8A00\u5728 org.junit.jupiter.api.<code>Assertions</code> \u7C7B\u4E2D\uFF0C\u524D\u7F6E\u6761\u4EF6\u5728 org.junit.jupiter.api.\`\`Assumptions\` \u7C7B\u4E2D\uFF1B</p></li><li><p>\u628A <code>@Before</code> \u548C <code>@After</code> \u66FF\u6362\u6210 <code>@BeforeEach</code> \u548C <code>@AfterEach</code>\uFF1B</p></li><li><p>\u628A <code>@BeforeClass</code> \u548C <code>@AfterClass</code> \u66FF\u6362\u6210 <code>@BeforeAll</code> \u548C <code>@AfterAll</code>\uFF1B</p></li><li><p>\u628A <code>@Ignore</code> \u66FF\u6362\u6210 <code>@Disabled</code>\uFF1B</p></li><li><p>\u628A <code>@Category</code> \u66FF\u6362\u6210 <code>@Tag</code>\uFF1B</p></li><li><p>\u628A <code>@RunWith</code>\u3001<code>@Rule</code> \u548C <code>@ClassRule</code> \u66FF\u6362\u6210 <code>@ExtendWith</code>\u3002</p></li></ul><h1 id="\u4E5D\u3001\u6307\u6807\u76D1\u63A7" tabindex="-1"><a class="header-anchor" href="#\u4E5D\u3001\u6307\u6807\u76D1\u63A7" aria-hidden="true">#</a> \u4E5D\u3001\u6307\u6807\u76D1\u63A7</h1><h2 id="_1\u3001springboot-actuator" tabindex="-1"><a class="header-anchor" href="#_1\u3001springboot-actuator" aria-hidden="true">#</a> 1\u3001SpringBoot Actuator</h2><h3 id="_1-1-\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-1-\u7B80\u4ECB" aria-hidden="true">#</a> 1.1 \u7B80\u4ECB</h3><p>\u672A\u6765\u6BCF\u4E00\u4E2A\u5FAE\u670D\u52A1\u5728\u4E91\u4E0A\u90E8\u7F72\u4EE5\u540E\uFF0C\u6211\u4EEC\u90FD\u9700\u8981\u5BF9\u5176\u8FDB\u884C<strong>\u76D1\u63A7</strong>\u3001<strong>\u8FFD\u8E2A</strong>\u3001<strong>\u5BA1\u8BA1</strong>\u3001<strong>\u63A7\u5236</strong>\u7B49\u3002SpringBoot \u5C31\u62BD\u53D6\u4E86 <strong>Actuator</strong> \u573A\u666F\uFF0C\u4F7F\u5F97\u6211\u4EEC\u6BCF\u4E2A\u5FAE\u670D\u52A1\u5FEB\u901F\u5F15\u7528\u5373\u53EF\u83B7\u5F97\u751F\u4EA7\u7EA7\u522B\u7684\u5E94\u7528\u76D1\u63A7\u3001\u5BA1\u8BA1\u7B49\u529F\u80FD\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/Actuator \u7684 jar \u5305.png" alt="Actuator \u7684 jar \u5305"></p><h3 id="_1-2-1-x-\u4E0E-2-x-\u7684\u4E0D\u540C" tabindex="-1"><a class="header-anchor" href="#_1-2-1-x-\u4E0E-2-x-\u7684\u4E0D\u540C" aria-hidden="true">#</a> 1.2 1.x \u4E0E 2.x \u7684\u4E0D\u540C</h3><p><img src="https://qiniu.dyl.fit/1.x \u4E0E 2.x \u7684\u4E0D\u540C.png" alt="1.x \u4E0E 2.x \u7684\u4E0D\u540C"></p><h3 id="_1-3-\u5982\u4F55\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_1-3-\u5982\u4F55\u4F7F\u7528" aria-hidden="true">#</a> 1.3 \u5982\u4F55\u4F7F\u7528</h3><ul><li><p>\u5F15\u5165\u573A\u666F <strong>starter</strong>\uFF1B</p></li><li><p>\u8BBF\u95EE http://localhost:8080/actuator/**\uFF1B</p></li><li><p>\u66B4\u9732\u6240\u6709\u76D1\u63A7\u4FE1\u606F\u4E3A <strong>HTTP</strong>\uFF1B</p></li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled-by-default</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># \u66B4\u9732\u6240\u6709\u7AEF\u70B9\u4FE1\u606F</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&#39;*&#39;</span> <span class="token comment"># \u4EE5 Web \u65B9\u5F0F\u66B4\u9732</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6D4B\u8BD5\u3002</li></ul><p>http://localhost:8080/actuator/beans</p><p>http://localhost:8080/actuator/configprops</p><p>http://localhost:8080/actuator/metrics</p><p>http://localhost:8080/actuator/metrics/jvm.gc.pause</p>`,86),Ya={href:"http://localhost:8080/actuator/metrics",target:"_blank",rel:"noopener noreferrer"},$a=s("http://localhost:8080/actuator/"),Xa=s("endpointName/detailPath"),Qa=e(`<h3 id="_1-4-\u53EF\u89C6\u5316" tabindex="-1"><a class="header-anchor" href="#_1-4-\u53EF\u89C6\u5316" aria-hidden="true">#</a> 1.4 \u53EF\u89C6\u5316</h3><p>https://github.com/codecentric/spring-boot-admin</p><h2 id="_2\u3001actuator-endpoint" tabindex="-1"><a class="header-anchor" href="#_2\u3001actuator-endpoint" aria-hidden="true">#</a> 2\u3001Actuator Endpoint</h2><h3 id="_2-1-\u6700\u5E38\u4F7F\u7528\u7684-endpoint" tabindex="-1"><a class="header-anchor" href="#_2-1-\u6700\u5E38\u4F7F\u7528\u7684-endpoint" aria-hidden="true">#</a> 2.1 \u6700\u5E38\u4F7F\u7528\u7684 Endpoint</h3><table><thead><tr><th>ID</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td><code>auditevents</code></td><td>\u66B4\u9732\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u7684\u5BA1\u6838\u4E8B\u4EF6\u4FE1\u606F\u3002\u9700\u8981\u4E00\u4E2A <code>AuditEventRepository</code> \u7EC4\u4EF6\u3002</td></tr><tr><td><code>beans</code></td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u6240\u6709 <code>Bean</code> \u7684\u5B8C\u6574\u5217\u8868\u3002</td></tr><tr><td><code>caches</code></td><td>\u66B4\u9732\u53EF\u7528\u7684<strong>\u7F13</strong>\u5B58\u3002</td></tr><tr><td><code>conditions</code></td><td>\u663E\u793A<strong>\u81EA\u52A8\u914D\u7F6E</strong>\u7684\u6240\u6709\u6761\u4EF6\u4FE1\u606F\uFF0C\u5305\u62EC\u5339\u914D\u6216\u4E0D\u5339\u914D\u7684\u539F\u56E0\u3002</td></tr><tr><td><code>configprops</code></td><td>\u663E\u793A\u6240\u6709 <code>@ConfigurationProperties</code>\u3002</td></tr><tr><td><code>env</code></td><td>\u66B4\u9732 Spring \u7684\u5C5E\u6027 <code>ConfigurableEnvironment</code>\u3002</td></tr><tr><td><code>flyway</code></td><td>\u663E\u793A\u5DF2\u5E94\u7528\u7684\u6240\u6709 <strong>Flyway</strong> \u6570\u636E\u5E93\u8FC1\u79FB\uFF0C \u9700\u8981\u4E00\u4E2A\u6216\u591A\u4E2A <code>Flyway</code> \u7EC4\u4EF6\u3002</td></tr><tr><td><code>health</code></td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F<strong>\u8FD0\u884C\u72B6\u51B5</strong>\u4FE1\u606F\u3002</td></tr><tr><td><code>httptrace</code></td><td>\u663E\u793A <strong>HTTP</strong> \u8DDF\u8E2A\u4FE1\u606F\uFF08\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6700\u8FD1 100 \u4E2A <strong>HTTP</strong> \u8BF7\u6C42-\u54CD\u5E94\uFF09\u3002\u9700\u8981\u4E00\u4E2A <code>HttpTraceRepository</code> \u7EC4\u4EF6\u3002</td></tr><tr><td><code>info</code></td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4FE1\u606F\u3002</td></tr><tr><td><code>integrationgraph</code></td><td>\u663E\u793ASpring <code>integrationgraph</code> \u3002\u9700\u8981\u4F9D\u8D56 <code>spring-integration-core</code>\u3002</td></tr><tr><td><code>loggers</code></td><td>\u663E\u793A\u548C\u4FEE\u6539\u5E94\u7528\u7A0B\u5E8F\u4E2D<strong>\u65E5\u5FD7</strong>\u7684\u914D\u7F6E\u3002</td></tr><tr><td><code>liquibase</code></td><td>\u663E\u793A\u5DF2\u5E94\u7528\u7684\u6240\u6709 <strong>Liquibase</strong> \u6570\u636E\u5E93\u8FC1\u79FB\u3002\u9700\u8981\u4E00\u4E2A\u6216\u591A\u4E2A<code>Liquibase</code>\u7EC4\u4EF6\u3002</td></tr><tr><td><code>metrics</code></td><td>\u663E\u793A\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u7684<strong>\u6307\u6807</strong>\u4FE1\u606F\u3002</td></tr><tr><td><code>mappings</code></td><td>\u663E\u793A\u6240\u6709 <code>@RequestMapping</code> \u8DEF\u5F84\u5217\u8868\u3002</td></tr><tr><td><code>scheduledtasks</code></td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u7684<strong>\u8BA1\u5212\u4EFB\u52A1</strong>\u3002</td></tr><tr><td><code>sessions</code></td><td>\u5141\u8BB8\u4ECE Spring Session \u652F\u6301\u7684\u4F1A\u8BDD\u5B58\u50A8\u4E2D\u68C0\u7D22\u548C\u5220\u9664\u7528\u6237\u4F1A\u8BDD\u3002\u9700\u8981\u4F7F\u7528 Spring Session \u7684\u57FA\u4E8E <code>Servlet</code> \u7684 Web \u5E94\u7528\u7A0B\u5E8F\u3002</td></tr><tr><td><code>shutdown</code></td><td>\u4F7F\u5E94\u7528\u7A0B\u5E8F\u6B63\u5E38\u5173\u95ED\uFF0C\u9ED8\u8BA4\u7981\u7528\u3002</td></tr><tr><td><code>startup</code></td><td>\u663E\u793A\u7531 <code>ApplicationStartup</code> \u6536\u96C6\u7684\u542F\u52A8\u6B65\u9AA4\u6570\u636E\u3002\u9700\u8981\u4F7F\u7528 <code>SpringApplication</code> \u8FDB\u884C\u914D\u7F6E <code>BufferingApplicationStartup</code>\u3002</td></tr><tr><td><code>threaddump</code></td><td>\u6267\u884C<strong>\u7EBF\u7A0B\u8F6C\u50A8</strong>\u3002</td></tr></tbody></table><p>\u5982\u679C\u60A8\u7684\u5E94\u7528\u7A0B\u5E8F\u662F <strong>Web</strong> \u5E94\u7528\u7A0B\u5E8F\uFF08Spring MVC\uFF0CSpring WebFlux \u6216 Jersey\uFF09\uFF0C\u5219\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u9644\u52A0\u7AEF\u70B9\uFF1A</p><table><thead><tr><th>ID</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td><code>heapdump</code></td><td>\u8FD4\u56DE <code>hprof</code> \u5806\u8F6C\u50A8\u6587\u4EF6\u3002</td></tr><tr><td><code>jolokia</code></td><td>\u901A\u8FC7 <strong>HTTP</strong> \u66B4\u9732 JMX Bean\uFF08\u9700\u8981\u5F15\u5165 Jolokia\uFF0C\u4E0D\u9002\u7528\u4E8E WebFlux\uFF09\u3002\u9700\u8981\u5F15\u5165\u4F9D\u8D56 <code>jolokia-core</code>\u3002</td></tr><tr><td><code>logfile</code></td><td>\u8FD4\u56DE\u65E5\u5FD7\u6587\u4EF6\u7684\u5185\u5BB9\uFF08\u5982\u679C\u5DF2\u8BBE\u7F6E <code>logging.file.name</code> \u6216 <code>logging.file.path</code> \u5C5E\u6027\uFF09\u3002\u652F\u6301\u4F7F\u7528 <strong>HTTP</strong> <code>Range</code> \u6807\u5934\u6765\u68C0\u7D22\u90E8\u5206\u65E5\u5FD7\u6587\u4EF6\u7684\u5185\u5BB9\u3002</td></tr><tr><td><code>prometheus</code></td><td>\u4EE5 Prometheus \u670D\u52A1\u5668\u53EF\u4EE5\u6293\u53D6\u7684\u683C\u5F0F\u516C\u5F00\u6307\u6807\u3002\u9700\u8981\u4F9D\u8D56 <code>micrometer-registry-prometheus</code>\u3002</td></tr></tbody></table><p>\u6700\u5E38\u7528\u7684 <strong>Endpoint</strong>\uFF1A</p><ul><li><p><code>Health</code>\uFF1A\u76D1\u63A7\u72B6\u51B5</p></li><li><p><code>Metrics</code>\uFF1A\u8FD0\u884C\u65F6\u6307\u6807</p></li><li><p><code>Loggers</code>\uFF1A\u65E5\u5FD7\u8BB0\u5F55</p></li></ul><h3 id="_2-2-health-endpoint" tabindex="-1"><a class="header-anchor" href="#_2-2-health-endpoint" aria-hidden="true">#</a> 2.2 Health Endpoint</h3><p>\u5065\u5EB7\u68C0\u67E5\u7AEF\u70B9\uFF0C\u6211\u4EEC\u4E00\u822C\u7528\u4E8E\u5728\u4E91\u5E73\u53F0\uFF0C\u5E73\u53F0\u4F1A\u5B9A\u65F6\u7684\u68C0\u67E5\u5E94\u7528\u7684\u5065\u5EB7\u72B6\u51B5\uFF0C\u6211\u4EEC\u5C31\u9700\u8981 <strong>Health Endpoint</strong> \u53EF\u4EE5\u4E3A\u5E73\u53F0\u8FD4\u56DE\u5F53\u524D\u5E94\u7528\u7684\u4E00\u7CFB\u5217\u7EC4\u4EF6\u5065\u5EB7\u72B6\u51B5\u7684\u96C6\u5408\u3002</p><p>\u91CD\u8981\u7684\u51E0\u70B9\uFF1A</p><ul><li><p><strong>Health Endpoint</strong> \u8FD4\u56DE\u7684\u7ED3\u679C\uFF0C\u5E94\u8BE5\u662F\u4E00\u7CFB\u5217\u5065\u5EB7\u68C0\u67E5\u540E\u7684\u4E00\u4E2A\u6C47\u603B\u62A5\u544A\uFF1B</p></li><li><p>\u5F88\u591A\u7684\u5065\u5EB7\u68C0\u67E5\u9ED8\u8BA4\u5DF2\u7ECF\u81EA\u52A8\u914D\u7F6E\u597D\u4E86\uFF0C\u6BD4\u5982\u6570\u636E\u5E93\u3001<strong>Redis</strong> \u7B49\uFF1B</p></li><li><p>\u53EF\u4EE5\u5F88\u5BB9\u6613\u7684\u6DFB\u52A0\u81EA\u5B9A\u4E49\u7684\u5065\u5EB7\u68C0\u67E5\u673A\u5236\u3002</p></li></ul><p><img src="https://qiniu.dyl.fit/\u5065\u5EB7\u7AEF\u70B9.png" alt="\u5065\u5EB7\u7AEF\u70B9"></p><h3 id="_2-3-metrics-endpoint" tabindex="-1"><a class="header-anchor" href="#_2-3-metrics-endpoint" aria-hidden="true">#</a> 2.3 Metrics Endpoint</h3><p>\u63D0\u4F9B\u8BE6\u7EC6\u7684\u3001\u5C42\u7EA7\u7684\u3001\u7A7A\u95F4\u6307\u6807\u4FE1\u606F\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u53EF\u4EE5\u88AB <code>pull</code>\uFF08\u4E3B\u52A8\u63A8\u9001\uFF09\u6216\u8005 <code>push</code>\uFF08\u88AB\u52A8\u83B7\u53D6\uFF09\u65B9\u5F0F\u5F97\u5230\uFF1B</p><ul><li><p>\u901A\u8FC7 <strong>Metrics</strong> \u5BF9\u63A5\u591A\u79CD\u76D1\u63A7\u7CFB\u7EDF\uFF1B</p></li><li><p>\u7B80\u5316\u6838\u5FC3 <strong>Metrics</strong> \u5F00\u53D1\uFF1B</p></li><li><p>\u6DFB\u52A0\u81EA\u5B9A\u4E49 <strong>Metrics</strong> \u6216\u8005\u6269\u5C55\u5DF2\u6709 <strong>Metrics</strong>\u3002</p></li></ul><p><img src="https://qiniu.dyl.fit/\u6307\u6807\u7AEF\u70B9.png" alt="\u6307\u6807\u7AEF\u70B9"></p><h3 id="_2-4-\u7BA1\u7406-endpoints" tabindex="-1"><a class="header-anchor" href="#_2-4-\u7BA1\u7406-endpoints" aria-hidden="true">#</a> 2.4 \u7BA1\u7406 Endpoints</h3><h4 id="_2-4-1-\u5F00\u542F\u4E0E\u7981\u7528-endpoints" tabindex="-1"><a class="header-anchor" href="#_2-4-1-\u5F00\u542F\u4E0E\u7981\u7528-endpoints" aria-hidden="true">#</a> 2.4.1 \u5F00\u542F\u4E0E\u7981\u7528 Endpoints</h4><ul><li>\u9ED8\u8BA4\u6240\u6709\u7684 <strong>Endpoint</strong> \u9664\u4E86 <code>shutdown</code> \u90FD\u662F\u5F00\u542F\u7684\uFF1B</li><li>\u9700\u8981\u5F00\u542F\u6216\u8005\u7981\u7528\u67D0\u4E2A <strong>Endpoint</strong>\u3002\u914D\u7F6E\u6A21\u5F0F\u4E3A <code>management.endpoint.&lt;endpointName&gt;.enabled = true</code>\uFF1B</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoint</span><span class="token punctuation">:</span>
    <span class="token key atrule">beans</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6216\u8005\u7981\u7528\u6240\u6709\u7684 <strong>Endpoint</strong> \u7136\u540E\u624B\u52A8\u5F00\u542F\u6307\u5B9A\u7684 <strong>Endpoint</strong>\u3002</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled-by-default</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">endpoint</span><span class="token punctuation">:</span>
    <span class="token key atrule">beans</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-2-\u66B4\u9732-endpoints" tabindex="-1"><a class="header-anchor" href="#_2-4-2-\u66B4\u9732-endpoints" aria-hidden="true">#</a> 2.4.2 \u66B4\u9732 Endpoints</h4><p>\u652F\u6301\u7684\u66B4\u9732\u65B9\u5F0F</p><ul><li><p><strong>HTTP</strong>\uFF1A\u9ED8\u8BA4\u53EA\u66B4\u9732 <strong>Health</strong> \u548C<strong>Info Endpoint</strong>\uFF1B</p></li><li><p><strong>JMX</strong>\uFF1A\u9ED8\u8BA4\u66B4\u9732\u6240\u6709 <strong>Endpoint</strong>\uFF0C<strong>JConsole</strong> \u5C31\u662F\u901A\u8FC7 <strong>JMX</strong> \u5B9E\u73B0\u7684\uFF1B</p></li><li><p>\u9664\u4E86 <strong>Health</strong> \u548C <strong>Info</strong>\uFF0C\u5269\u4E0B\u7684 <strong>Endpoint</strong> \u90FD\u5E94\u8BE5\u8FDB\u884C\u4FDD\u62A4\u8BBF\u95EE\u3002\u5982\u679C\u5F15\u5165 <code>SpringSecurity</code>\uFF0C\u5219\u4F1A\u9ED8\u8BA4\u914D\u7F6E\u5B89\u5168\u8BBF\u95EE\u89C4\u5219\u3002</p></li></ul><table><thead><tr><th>ID</th><th>JMX</th><th>Web</th></tr></thead><tbody><tr><td><code>auditevents</code></td><td>Yes</td><td>No</td></tr><tr><td><code>beans</code></td><td>Yes</td><td>No</td></tr><tr><td><code>caches</code></td><td>Yes</td><td>No</td></tr><tr><td><code>conditions</code></td><td>Yes</td><td>No</td></tr><tr><td><code>configprops</code></td><td>Yes</td><td>No</td></tr><tr><td><code>env</code></td><td>Yes</td><td>No</td></tr><tr><td><code>flyway</code></td><td>Yes</td><td>No</td></tr><tr><td><code>health</code></td><td>Yes</td><td>Yes</td></tr><tr><td><code>heapdump</code></td><td>N/A</td><td>No</td></tr><tr><td><code>httptrace</code></td><td>Yes</td><td>No</td></tr><tr><td><code>info</code></td><td>Yes</td><td>Yes</td></tr><tr><td><code>integrationgraph</code></td><td>Yes</td><td>No</td></tr><tr><td><code>jolokia</code></td><td>N/A</td><td>No</td></tr><tr><td><code>logfile</code></td><td>N/A</td><td>No</td></tr><tr><td><code>loggers</code></td><td>Yes</td><td>No</td></tr><tr><td><code>liquibase</code></td><td>Yes</td><td>No</td></tr><tr><td><code>metrics</code></td><td>Yes</td><td>No</td></tr><tr><td><code>mappings</code></td><td>Yes</td><td>No</td></tr><tr><td><code>prometheus</code></td><td>N/A</td><td>No</td></tr><tr><td><code>scheduledtasks</code></td><td>Yes</td><td>No</td></tr><tr><td><code>sessions</code></td><td>Yes</td><td>No</td></tr><tr><td><code>shutdown</code></td><td>Yes</td><td>No</td></tr><tr><td><code>startup</code></td><td>Yes</td><td>No</td></tr><tr><td><code>threaddump</code></td><td>Yes</td><td>No</td></tr></tbody></table><h2 id="_3\u3001\u5B9A\u5236-endpoint" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5B9A\u5236-endpoint" aria-hidden="true">#</a> 3\u3001\u5B9A\u5236 Endpoint</h2><h3 id="_3-1-\u5B9A\u5236-health-\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-1-\u5B9A\u5236-health-\u4FE1\u606F" aria-hidden="true">#</a> 3.1 \u5B9A\u5236 Health \u4FE1\u606F</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
public class MyHealthIndicator implements HealthIndicator {
    @Override
    public Health health() {
        int errorCode = check(); // perform some specific health check
        if (errorCode != 0) {
            return Health.down().withDetail(&quot;Error Code&quot;, errorCode).build();
        }
        return Health.up().build();
    }

}

// \u6784\u5EFA Health
Health build = Health.down()
                .withDetail(&quot;msg&quot;, &quot;error service&quot;)
                .withDetail(&quot;code&quot;, &quot;500&quot;)
                .withException(new RuntimeException())
                .build();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">show-details</span><span class="token punctuation">:</span> always <span class="token comment"># \u603B\u662F\u663E\u793A\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u53EF\u663E\u793A\u6BCF\u4E2A\u6A21\u5757\u7684\u72B6\u6001\u4FE1\u606F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
public class MyComHealthIndicator extends AbstractHealthIndicator {
    // \u771F\u5B9E\u7684\u68C0\u67E5\u65B9\u6CD5
    @Override
    protected void doHealthCheck(Health.Builder builder) throws Exception {
        // MongoDB\uFF0C\u83B7\u53D6\u8FDE\u63A5\u8FDB\u884C\u6D4B\u8BD5
        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
        // \u68C0\u67E5\u5B8C\u6210
        if(1 == 2){
//            builder.up(); // \u5065\u5EB7
            builder.status(Status.UP);
            map.put(&quot;count&quot;,1);
            map.put(&quot;ms&quot;,100);
        }else {
//            builder.down();
            builder.status(Status.OUT_OF_SERVICE);
            map.put(&quot;err&quot;,&quot;\u8FDE\u63A5\u8D85\u65F6&quot;);
            map.put(&quot;ms&quot;,3000);
        }

        builder.withDetail(&quot;code&quot;,100).withDetails(map);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-\u5B9A\u5236info\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-2-\u5B9A\u5236info\u4FE1\u606F" aria-hidden="true">#</a> 3.2 \u5B9A\u5236info\u4FE1\u606F</h3><p>\u5E38\u7528\u4E24\u79CD\u65B9\u5F0F\uFF1A</p><h4 id="_3-2-1-\u7F16\u5199\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-2-1-\u7F16\u5199\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 3.2.1 \u7F16\u5199\u914D\u7F6E\u6587\u4EF6</h4><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">info</span><span class="token punctuation">:</span>
  <span class="token key atrule">appName</span><span class="token punctuation">:</span> boot<span class="token punctuation">-</span>admin
  <span class="token key atrule">version</span><span class="token punctuation">:</span> 2.0.1
  <span class="token key atrule">mavenProjectName</span><span class="token punctuation">:</span> @project.artifactId@  <span class="token comment">#\u4F7F\u7528@@\u53EF\u4EE5\u83B7\u53D6maven\u7684pom\u6587\u4EF6\u503C</span>
  <span class="token key atrule">mavenProjectVersion</span><span class="token punctuation">:</span> @project.version@
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-\u7F16\u5199-infocontributor" tabindex="-1"><a class="header-anchor" href="#_3-2-2-\u7F16\u5199-infocontributor" aria-hidden="true">#</a> 3.2.2 \u7F16\u5199 InfoContributor</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
public class ExampleInfoContributor implements InfoContributor {
    @Override
    public void contribute(Info.Builder builder) {
        builder.withDetail(&quot;example&quot;,
                Collections.singletonMap(&quot;key&quot;, &quot;value&quot;));
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>http://localhost:8080/actuator/info\uFF1A\u4F1A\u8F93\u51FA\u4EE5\u4E0A\u65B9\u5F0F\u8FD4\u56DE\u7684\u6240\u6709 <strong>Info</strong> \u4FE1\u606F\u3002</p><h3 id="_3-3-\u5B9A\u5236-metrics-\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-3-\u5B9A\u5236-metrics-\u4FE1\u606F" aria-hidden="true">#</a> 3.3 \u5B9A\u5236 Metrics \u4FE1\u606F</h3><h4 id="_3-3-1-springboot-\u652F\u6301\u81EA\u52A8\u9002\u914D\u7684-metrics" tabindex="-1"><a class="header-anchor" href="#_3-3-1-springboot-\u652F\u6301\u81EA\u52A8\u9002\u914D\u7684-metrics" aria-hidden="true">#</a> 3.3.1 SpringBoot \u652F\u6301\u81EA\u52A8\u9002\u914D\u7684 Metrics</h4>`,42),Ka=e("<li><p>JVM metrics, report utilization of:</p></li><li><p>Various memory and buffer pools</p></li><li><p>Statistics related to garbage collection</p></li><li><p>Threads utilization</p></li><li><p>Number of classes loaded/unloaded</p></li><li><p>CPU metrics</p></li><li><p>File descriptor metrics</p></li><li><p>Kafka consumer and producer metrics</p></li><li><p>Log4j2 metrics: record the number of events logged to Log4j2 at each level</p></li><li><p>Logback metrics: record the number of events logged to Logback at each level</p></li><li><p>Uptime metrics: report a gauge for uptime and a fixed gauge representing the application\u2019s absolute start time</p></li><li><p>Tomcat metrics (<code>server.tomcat.mbeanregistry.enabled</code> must be set to <code>true</code> for all Tomcat metrics to be registered)</p></li>",12),Za={href:"https://docs.spring.io/spring-integration/docs/5.4.1/reference/html/system-management.html#micrometer-integration",target:"_blank",rel:"noopener noreferrer"},nt=s("Spring Integration"),st=s(" metrics"),at=e(`<h4 id="_3-2-2-\u589E\u52A0\u5B9A\u5236-metrics" tabindex="-1"><a class="header-anchor" href="#_3-2-2-\u589E\u52A0\u5B9A\u5236-metrics" aria-hidden="true">#</a> 3.2.2 \u589E\u52A0\u5B9A\u5236 Metrics</h4><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>class MyService{
    Counter counter;
    public MyService(MeterRegistry meterRegistry){
         counter = meterRegistry.counter(&quot;myservice.method.running.counter&quot;);
    }

    public void hello() {
        counter.increment();
    }
}

// \u4E5F\u53EF\u4EE5\u4F7F\u7528\u4E0B\u9762\u7684\u65B9\u5F0F
@Bean
MeterBinder queueSize(Queue queue) {
    return (registry) -&gt; Gauge.builder(&quot;queueSize&quot;, queue::size).register(registry);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4\u5B9A\u5236-endpoint" tabindex="-1"><a class="header-anchor" href="#_3-4\u5B9A\u5236-endpoint" aria-hidden="true">#</a> 3.4\u5B9A\u5236 Endpoint</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Component
@Endpoint(id = &quot;container&quot;)
public class DockerEndpoint {
    @ReadOperation
    public Map getDockerInfo(){
        return Collections.singletonMap(&quot;info&quot;,&quot;docker started...&quot;);
    }

    @WriteOperation
    private void restartDocker(){
        System.out.println(&quot;docker restarted....&quot;);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u573A\u666F\uFF1A\u5F00\u53D1 <strong>ReadinessEndpoint</strong> \u6765\u7BA1\u7406\u7A0B\u5E8F\u662F\u5426\u5C31\u7EEA\uFF0C\u6216\u8005 **Liveness Endpoint **\u6765\u7BA1\u7406\u7A0B\u5E8F\u662F\u5426\u5B58\u6D3B\u3002</p><p>\u5F53\u7136\uFF0C\u8FD9\u4E2A\u4E5F\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-kubernetes-probes</p><h1 id="\u5341\u3001\u539F\u7406\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#\u5341\u3001\u539F\u7406\u89E3\u6790" aria-hidden="true">#</a> \u5341\u3001\u539F\u7406\u89E3\u6790</h1><h2 id="_10-1-profile-\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_10-1-profile-\u529F\u80FD" aria-hidden="true">#</a> 10.1 Profile \u529F\u80FD</h2><p>\u4E3A\u4E86\u65B9\u4FBF\u591A\u73AF\u5883\u9002\u914D\uFF0CSpringBoot \u7B80\u5316\u4E86 <strong>Profile</strong> \u529F\u80FD\u3002</p><h3 id="_10-1-1-application-profile-\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_10-1-1-application-profile-\u529F\u80FD" aria-hidden="true">#</a> 10.1.1 application-profile \u529F\u80FD</h3><ul><li><p>\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6 <strong>application.yaml</strong> \u4EFB\u4F55\u65F6\u5019\u90FD\u4F1A\u52A0\u8F7D\uFF1B</p></li><li><p>\u73AF\u5883\u914D\u7F6E\u6587\u4EF6 <strong>application-{env}.yaml</strong>\uFF1B</p></li><li><p>\u6FC0\u6D3B\u6307\u5B9A\u73AF\u5883\uFF1B</p><ul><li>\u914D\u7F6E\u6587\u4EF6\u6FC0\u6D3B\uFF1B</li><li>\u547D\u4EE4\u884C\u6FC0\u6D3B\uFF1A\`\`java -jar xxx.jar --spring.profiles.active=prod --person.name=haha\`\u3002 <ul><li>\u4F18\u5148\u7EA7\uFF1A\u547D\u4EE4\u884C &gt; \u73AF\u5883\u914D\u7F6E\u6587\u4EF6 &gt; \u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6</li></ul></li></ul></li><li><p>\u9ED8\u8BA4\u914D\u7F6E\u4E0E\u73AF\u5883\u914D\u7F6E\u540C\u65F6\u751F\u6548\uFF1B</p></li><li><p>\u540C\u540D\u914D\u7F6E\u9879\uFF0C<strong>Profile</strong> \u914D\u7F6E\u4F18\u5148\uFF1B</p></li></ul><h3 id="_10-1-2-profile-\u6761\u4EF6\u88C5\u914D\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_10-1-2-profile-\u6761\u4EF6\u88C5\u914D\u529F\u80FD" aria-hidden="true">#</a> 10.1.2 <code>@Profile</code> \u6761\u4EF6\u88C5\u914D\u529F\u80FD</h3><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@Configuration(proxyBeanMethods = false)
@Profile(&quot;production&quot;)
public class ProductionConfiguration {
    // ...
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-1-3-profile-\u5206\u7EC4" tabindex="-1"><a class="header-anchor" href="#_10-1-3-profile-\u5206\u7EC4" aria-hidden="true">#</a> 10.1.3 Profile \u5206\u7EC4</h3><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.profiles.group.production[0]</span><span class="token punctuation">=</span><span class="token value attr-value">proddb</span>
<span class="token key attr-name">spring.profiles.group.production[1]</span><span class="token punctuation">=</span><span class="token value attr-value">prodmq</span>

<span class="token comment"># \u4F7F\u7528\uFF1A--spring.profiles.active=production \u6FC0\u6D3B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-2-\u5916\u90E8\u5316\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_10-2-\u5916\u90E8\u5316\u914D\u7F6E" aria-hidden="true">#</a> 10.2 \u5916\u90E8\u5316\u914D\u7F6E</h2><p>https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config</p><p>Spring Boot uses a very particular <code>PropertySource</code> order that is designed to allow sensible overriding of values. Properties are considered in the following order (with values from lower items overriding earlier ones):</p>`,18),tt=e("<li>Default properties (specified by setting <code>SpringApplication.setDefaultProperties</code>).</li><li><code>@PropertySource</code> annotations on your <code>@Configuration</code> classes. Please note that such property sources are not added to the <code>Environment</code> until the application context is being refreshed. This is too late to configure certain properties such as <code>logging.*</code> and <code>spring.main.*</code> which are read before refresh begins.</li><li><strong>Config data (such as</strong> <code>application.properties</code> <strong>files)</strong></li><li>A <code>RandomValuePropertySource</code> that has properties only in <code>random.*</code>.</li><li>OS environment variables.</li><li>Java System properties (<code>System.getProperties()</code>).</li><li>JNDI attributes from <code>java:comp/env</code>.</li><li><code>ServletContext</code> init parameters.</li><li><code>ServletConfig</code> init parameters.</li><li>Properties from <code>SPRING_APPLICATION_JSON</code> (inline JSON embedded in an environment variable or system property).</li><li>Command line arguments.</li>",11),et=n("code",null,"properties",-1),ot=s(" attribute on your tests. Available on "),pt=n("code",null,"@SpringBootTest",-1),lt=s(" and the "),it={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests",target:"_blank",rel:"noopener noreferrer"},ct=s("test annotations for testing a particular slice of your application"),rt=s("."),ut=n("li",null,[n("code",null,"@TestPropertySource"),s(" annotations on your tests.")],-1),dt={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-devtools-globalsettings",target:"_blank",rel:"noopener noreferrer"},kt=s("Devtools global settings properties"),vt=s(" in the "),gt=n("code",null,"$HOME/.config/spring-boot",-1),mt=s(" directory when devtools is active."),bt=n("p",null,"Config data files are considered in the following order:",-1),ht={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files",target:"_blank",rel:"noopener noreferrer"},qt=s("Application properties"),ft=s(" packaged inside your jar ("),_t=n("code",null,"application.properties",-1),yt=s(" and YAML variants)."),xt={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific",target:"_blank",rel:"noopener noreferrer"},Ct=s("Profile-specific application properties"),St=s(" packaged inside your jar ("),wt=n("code",null,"application-{profile}.properties",-1),Mt=s(" and YAML variants)."),Ft={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files",target:"_blank",rel:"noopener noreferrer"},At=s("Application properties"),Rt=s(" outside of your packaged jar ("),Pt=n("code",null,"application.properties",-1),jt=s(" and YAML variants)."),Et={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific",target:"_blank",rel:"noopener noreferrer"},Tt=s("Profile-specific application properties"),Jt=s(" outside of your packaged jar ("),It=n("code",null,"application-{profile}.properties",-1),Ht=s(" and YAML variants)."),Lt=e('<h3 id="_10-2-1-\u5916\u90E8\u914D\u7F6E\u6E90" tabindex="-1"><a class="header-anchor" href="#_10-2-1-\u5916\u90E8\u914D\u7F6E\u6E90" aria-hidden="true">#</a> 10.2.1 \u5916\u90E8\u914D\u7F6E\u6E90</h3><p>\u5E38\u7528\uFF1A<strong>Java</strong> \u5C5E\u6027\u6587\u4EF6\u3001\u73AF\u5883\u53D8\u91CF\u3001\u547D\u4EE4\u884C\u53C2\u6570\u3001**YAML **\u6587\u4EF6\u3002</p><h3 id="_10-2-2-\u914D\u7F6E\u6587\u4EF6\u67E5\u627E\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_10-2-2-\u914D\u7F6E\u6587\u4EF6\u67E5\u627E\u4F4D\u7F6E" aria-hidden="true">#</a> 10.2.2 \u914D\u7F6E\u6587\u4EF6\u67E5\u627E\u4F4D\u7F6E</h3><p>\u8D8A\u5F80\u4E0B\u4F18\u5148\u7EA7\u8D8A\u9AD8\uFF0C\u4F1A\u8986\u76D6\u4E0A\u9762\u7684\u914D\u7F6E\uFF1A</p><ol><li><strong>classpath</strong> \u6839\u8DEF\u5F84\uFF1B</li><li><strong>classpath</strong> \u6839\u8DEF\u5F84\u4E0B <strong>config</strong> \u76EE\u5F55\uFF1B</li><li><strong>jar</strong> \u5305\u5F53\u524D\u76EE\u5F55\uFF1B</li><li><strong>jar</strong> \u5305\u5F53\u524D\u76EE\u5F55\u7684 <strong>config</strong> \u76EE\u5F55\uFF1B</li><li><strong>/config</strong> \u5B50\u76EE\u5F55\u7684\u76F4\u63A5\u5B50\u76EE\u5F55\u3002</li></ol><h3 id="_10-2-3-\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u987A\u5E8F" tabindex="-1"><a class="header-anchor" href="#_10-2-3-\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u987A\u5E8F" aria-hidden="true">#</a> 10.2.3 \u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u987A\u5E8F\uFF1A</h3><ol><li>\u5F53\u524Djar\u5305\u5185\u90E8\u7684application.properties\u548Capplication.yml</li><li>\u5F53\u524Djar\u5305\u5185\u90E8\u7684application-{profile}.properties \u548C application-{profile}.yml</li><li>\u5F15\u7528\u7684\u5916\u90E8jar\u5305\u7684application.properties\u548Capplication.yml</li><li>\u5F15\u7528\u7684\u5916\u90E8jar\u5305\u7684application-{profile}.properties \u548C application-{profile}.yml</li></ol><h3 id="_10-2-4-\u6307\u5B9A\u73AF\u5883\u4F18\u5148-\u5916\u90E8\u4F18\u5148-\u540E\u9762\u7684\u53EF\u4EE5\u8986\u76D6\u524D\u9762\u7684\u540C\u540D\u914D\u7F6E\u9879" tabindex="-1"><a class="header-anchor" href="#_10-2-4-\u6307\u5B9A\u73AF\u5883\u4F18\u5148-\u5916\u90E8\u4F18\u5148-\u540E\u9762\u7684\u53EF\u4EE5\u8986\u76D6\u524D\u9762\u7684\u540C\u540D\u914D\u7F6E\u9879" aria-hidden="true">#</a> 10.2.4 \u6307\u5B9A\u73AF\u5883\u4F18\u5148\uFF0C\u5916\u90E8\u4F18\u5148\uFF0C\u540E\u9762\u7684\u53EF\u4EE5\u8986\u76D6\u524D\u9762\u7684\u540C\u540D\u914D\u7F6E\u9879</h3><h2 id="_10-3-\u81EA\u5B9A\u4E49-starter" tabindex="-1"><a class="header-anchor" href="#_10-3-\u81EA\u5B9A\u4E49-starter" aria-hidden="true">#</a> 10.3 \u81EA\u5B9A\u4E49 starter</h2><h3 id="_10-3-1-starter-\u542F\u52A8\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_10-3-1-starter-\u542F\u52A8\u539F\u7406" aria-hidden="true">#</a> 10.3.1 starter \u542F\u52A8\u539F\u7406</h3><ol><li><strong>starter-pom</strong> \u5F15\u5165 <strong>autoconfigurer</strong> \u5305\uFF1B</li></ol><p><img src="https://qiniu.dyl.fit/starter \u542F\u52A8\u539F\u7406.png" alt="starter \u542F\u52A8\u539F\u7406"></p><ol start="2"><li><strong>autoconfigure</strong> \u5305\u4E2D\u914D\u7F6E\u4F7F\u7528 <strong>META-INF/spring.factories</strong> \u4E2D <code>EnableAutoConfiguration</code> \u7684\u503C\uFF0C\u4F7F\u5F97\u9879\u76EE\u542F\u52A8\u65F6\u52A0\u8F7D\u6307\u5B9A\u7684\u81EA\u52A8\u914D\u7F6E\u7C7B\uFF1B</li><li>\u7F16\u5199\u81EA\u52A8\u914D\u7F6E\u7C7B <code>xxxAutoConfiguration</code> -&gt; <code>xxxxProperties</code>\uFF1B</li><li>\u7F16\u5199\u4E1A\u52A1\uFF1A``@Configuration<code>\u3001</code>@Conditional<code>\u3001</code>@EnableConfigurationProperties<code>\u3001</code>@Bean`......</li></ol><p>\u5F15\u5165 <strong>starter</strong> --- <code>xxxAutoConfiguration</code> --- <code>\u5BB9\u5668\u4E2D\u653E\u5165\u7EC4\u4EF6</code> ---- \u7ED1\u5B9A <code>xxxProperties</code> ---- \u914D\u7F6E\u9879</p><h3 id="_10-3-2-\u81EA\u5B9A\u4E49-starter" tabindex="-1"><a class="header-anchor" href="#_10-3-2-\u81EA\u5B9A\u4E49-starter" aria-hidden="true">#</a> 10.3.2 \u81EA\u5B9A\u4E49 starter</h3><p>atguigu-hello-spring-boot-starter\uFF08\u542F\u52A8\u5668\uFF09</p><p>atguigu-hello-spring-boot-starter-autoconfigure\uFF08\u81EA\u52A8\u914D\u7F6E\u5305\uFF09</p><h2 id="_10-4-springboot-\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_10-4-springboot-\u539F\u7406" aria-hidden="true">#</a> 10.4 SpringBoot \u539F\u7406</h2>',18),Bt=s("Spring\u539F\u7406\u3010"),Wt={href:"https://www.bilibili.com/video/BV1gW411W7wy?p=1",target:"_blank",rel:"noopener noreferrer"},Dt=s("Spring\u6CE8\u89E3"),Vt=s("\u3011\u3001"),Ot=n("strong",null,"SpringMVC",-1),Ut=s(" \u539F\u7406\u3001\u81EA\u52A8\u914D\u7F6E\u539F\u7406"),Nt=e(`<h3 id="_10-4-1-springboot-\u542F\u52A8\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_10-4-1-springboot-\u542F\u52A8\u8FC7\u7A0B" aria-hidden="true">#</a> 10.4.1 SpringBoot \u542F\u52A8\u8FC7\u7A0B</h3><ol><li>\u521B\u5EFA <code>SpringApplication</code>\uFF1B <ol><li>\u4FDD\u5B58\u4E00\u4E9B\u4FE1\u606F\uFF1B</li><li>\u7528\u5DE5\u5177\u7C7B <code>ClassUtils</code> \u83B7\u53D6\u5230\u5E94\u7528\u7C7B\u578B\u4E3A<code>Servlet</code>\u3001\u8FD8\u53EF\u80FD\u4E3A Reactive \u6216 None\uFF1B</li><li>\u53BB <strong>spring.factories</strong> \u627E <code>Bootstrapper</code>\uFF1B <ul><li><code>List&lt;Bootstrapper&gt; bootstrappers</code></li></ul></li><li>\u53BB <strong>spring.factories</strong> \u627E <code>ApplicationContextInitializer</code>\uFF1B <ul><li><code>List&lt;ApplicationContextInitializer&lt;?&gt;&gt; initializers</code></li></ul></li><li>\u53BB <strong>spring.factories</strong> \u627E <code>ApplicationListener</code><ul><li><code>List&lt;ApplicationListener&lt;?&gt;&gt; listeners</code></li></ul></li></ol></li><li>\u8FD0\u884C <code>SpringApplication</code>\u3002 <ol><li><code>StopWatch</code> \u7528\u4E8E\u76D1\u542C\u6574\u4E2A\u5E94\u7528\u7684\u542F\u52A8\u505C\u6B62\uFF1B</li><li>\u8BB0\u5F55\u5E94\u7528\u7684\u542F\u52A8\u65F6\u95F4\uFF1B</li><li>\u8C03\u7528 <code>createBootstrapContext()</code> \u521B\u5EFA\u5F15\u5BFC\u4E0A\u4E0B\u6587\uFF08<code>Context</code> \u73AF\u5883\uFF09\uFF1B <ul><li>\u83B7\u53D6\u5230\u6240\u6709\u4E4B\u524D\u7684 <code>bootstrappers</code> \u6328\u4E2A\u6267\u884C <code>intitialize()</code> \u6765\u8BBE\u7F6E\u5F15\u5BFC\u542F\u52A8\u5668\u4E0A\u4E0B\u6587\u73AF\u5883</li></ul></li><li>\u8BA9\u5F53\u524D\u5E94\u7528\u8FDB\u5165 java.awt.<code>headless</code> \u6A21\u5F0F\uFF08\u81EA\u529B\u66F4\u751F\u6A21\u5F0F\uFF09\uFF1B</li><li>\u83B7\u53D6\u6240\u6709 <code>RunListener</code>\uFF08\u8FD0\u884C\u76D1\u542C\u5668\uFF09\uFF0C\u4E3A\u4E86\u65B9\u4FBF\u6240\u6709 <code>Listener</code> \u8FDB\u884C\u4E8B\u4EF6\u611F\u77E5\uFF1B <ul><li><code>getSpringFactoriesInstances()</code> \u53BB <strong>spring.factories</strong> \u627E<code>SpringApplicationRunListener</code></li></ul></li><li>\u904D\u5386 <code>SpringApplicationRunListener</code> \u8C03\u7528 <code>starting()</code> \u65B9\u6CD5\uFF1B <ul><li>\u76F8\u5F53\u4E8E\u901A\u77E5\u6240\u6709\u611F\u5174\u8DA3\u7CFB\u7EDF\u6B63\u5728\u542F\u52A8\u8FC7\u7A0B\u7684\u4EBA\uFF0C\u9879\u76EE\u6B63\u5728 starting</li></ul></li><li>\u4FDD\u5B58\u547D\u4EE4\u884C\u53C2\u6570 <code>ApplicationArguments</code>\uFF1B</li><li>\u51C6\u5907\u73AF\u5883 <code>prepareEnvironment()</code>\uFF1B <ol><li>\u8FD4\u56DE\u6216\u8005\u521B\u5EFA\u57FA\u7840\u73AF\u5883\u4FE1\u606F\u5BF9\u8C61 <code>StandardServletEnvironment</code>\uFF1B</li><li>\u914D\u7F6E\u73AF\u5883\u4FE1\u606F\u5BF9\u8C61\uFF1B <ul><li>\u8BFB\u53D6\u6240\u6709\u7684\u914D\u7F6E\u6E90\u7684\u914D\u7F6E\u5C5E\u6027\u503C</li></ul></li><li>\u7ED1\u5B9A\u73AF\u5883\u4FE1\u606F\uFF1B</li><li>\u76D1\u542C\u5668\u8C03\u7528 \`listener.environmentPrepared() \u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668\u5F53\u524D\u73AF\u5883\u51C6\u5907\u5B8C\u6210\u3002</li></ol></li><li>\u521B\u5EFA <strong>IOC</strong> \u5BB9\u5668 <code>createApplicationContext</code>\uFF1B <ol><li>\u6839\u636E\u9879\u76EE\u7C7B\u578B\uFF08<code>Servlet</code>\uFF09\u521B\u5EFA\u5BB9\u5668\uFF1B</li><li>\u5F53\u524D\u4F1A\u521B\u5EFA <code>AnnotationConfigServletWebServerApplicationContext</code>\u3002</li></ol></li><li>\u51C6\u5907<code>ApplicationContext</code>\u5BB9\u5668\u7684\u57FA\u672C\u4FE1\u606F <code>prepareContext()</code><ol><li>\u4FDD\u5B58\u73AF\u5883\u4FE1\u606F\uFF1B</li><li>IOC\u5BB9\u5668\u7684\u540E\u7F6E\u5904\u7406\u6D41\u7A0B\uFF1B</li><li>\u5E94\u7528\u521D\u59CB\u5316\u5668 <code>applyInitializers()</code>\uFF1B <ol><li>\u904D\u5386\u6240\u6709\u7684 <code>ApplicationContextInitializer</code>\uFF0C\u8C03\u7528 <code>initialize()</code>\u6765\u5BF9\u5BB9\u5668\u8FDB\u884C\u521D\u59CB\u5316\u6269\u5C55\u529F\u80FD;</li><li>\u904D\u5386\u6240\u6709\u7684 <code>listener</code> \u8C03\u7528 <code>contextPrepared()</code>\u3002\u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668 <code>EventPublishRunListenr</code> \u4E0A\u4E0B\u6587\u51C6\u5907\u5B8C\u6210\u3002</li></ol></li><li>\u6240\u6709\u7684\u76D1\u542C\u5668\u8C03\u7528 <code>contextLoaded()</code>\uFF0C\u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668\u4E0A\u4E0B\u6587\u52A0\u8F7D\u5B8C\u6210\uFF1B</li></ol></li><li>\u5237\u65B0\u5BB9\u5668 <code>refreshContext()</code>\uFF1B <ol><li>\u521B\u5EFA\u5BB9\u5668\u4E2D\u7684\u6240\u6709\u7EC4\u4EF6\uFF08Spring \u6CE8\u89E3\uFF09</li></ol></li><li>\u5BB9\u5668\u5237\u65B0\u5B8C\u6210\u540E\u5DE5\u4F5C <code>afterRefresh()</code>;</li><li>\u6240\u6709\u76D1\u542C\u5668\u8C03\u7528 <code>listeners.started(context)</code> \u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668\u542F\u52A8\u5B8C\u6210\uFF1B</li><li>\u8C03\u7528\u6240\u6709 <code>callRunners()</code>\uFF1B <ol><li>\u83B7\u53D6\u5BB9\u5668\u4E2D\u7684 <code>ApplicationRunner </code>\uFF1B</li><li>\u83B7\u53D6\u5BB9\u5668\u4E2D\u7684 <code>CommandLineRunner</code> \uFF08\u6267\u884C\u6570\u636E\u521D\u59CB\u5316\u7B49\u64CD\u4F5C\uFF09\uFF1B</li><li>\u5408\u5E76\u6240\u6709 <strong>runner</strong> \u5E76\u4E14\u6309\u7167 <code>@Order</code> \u8FDB\u884C\u6392\u5E8F\uFF1B</li><li>\u904D\u5386\u6240\u6709\u7684 <strong>runner</strong> \u8C03\u7528 <code>run()</code> \u65B9\u6CD5\u3002</li></ol></li><li>\u5982\u679C\u4EE5\u4E0A\u6709\u5F02\u5E38\uFF1B <ul><li>\u8C03\u7528 <code>Listener</code> \u7684 <code>failed()</code> \u65B9\u6CD5\u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668 <strong>failed</strong></li></ul></li><li>\u8C03\u7528\u6240\u6709\u76D1\u542C\u5668\u7684 <code>listeners.running(context)</code>\u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668\u6B63\u5728\u8FD0\u884C\uFF1B</li><li><strong>running</strong> \u5982\u679C\u6709\u95EE\u9898\uFF0C\u7EE7\u7EED\u8C03\u8C03\u7528 <code>Listener</code> \u7684 <code>failed()</code> \u65B9\u6CD5\u901A\u77E5\u6240\u6709\u7684\u76D1\u542C\u5668 <strong>failed</strong>\u3002</li></ol></li></ol><blockquote><p>Spring \u7684\u6838\u5FC3\u65B9\u6CD5\u5B9E\u9645\u8C03\u7528\u7684\u662F\u62BD\u8C61\u7C7B <code>ApplicationContext.refresh()</code> \u65B9\u6CD5\u3002\u8BE5\u65B9\u6CD5\u662F\u4E00\u79CD\u6A21\u7248\u65B9\u6CD5\u7684\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u5B9A\u4E49\u4E86\u65B9\u6CD5\u7684\u6267\u884C\u987A\u5E8F\u548C\u9AA8\u67B6\uFF0C\u5176\u4E2D <code>onRefresh()</code> \u662F\u4E00\u4E2A\u62BD\u8C61\u65B9\u6CD5\uFF0C\u7531\u5177\u4F53\u5B50\u7C7B\u5B9E\u73B0\u3002</p><p>\u56E0\u4E3A\u542F\u52A8\u7684\u662F <strong>Web</strong> \u7248\u7684\u5BB9\u5668\u56E0\u6B64\u6267\u884C\u7684\u662F <code>ServletWebServerApplicationContext.refresh()</code> \u65B9\u6CD5\u3002\u8BE5\u65B9\u6CD5\u4ECE\u5BB9\u5668\u4E2D\u83B7\u5F97\u4E00\u4E2A <code>ServletWebServerFactory</code> \u5DE5\u5382\uFF08\u5982\u679C\u6709\u591A\u4E2A\u5DE5\u5382\uFF0C\u5219\u629B\u5F02\u5E38\uFF09\uFF0C\u6839\u636E\u5DE5\u5382\u5BF9\u8C61\u83B7\u5F97 <code>WebServer</code> \u5BF9\u8C61\u3002</p><p>\u56E0\u4E3A\u5185\u5D4C <strong>Tomcat</strong>\uFF0C\u6240\u4EE5\u662F <code>TomcatWevServer</code> \u540E\u7EED\u901A\u8FC7 <code>new Tomcat()</code> \u5E76\u6267\u884C <code>start()</code> \u542F\u52A8 <strong>Tomcat</strong> \u670D\u52A1\u5668\u3002</p></blockquote><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>public interface Bootstrapper {
	/**
	 * Initialize the given {@link BootstrapRegistry} with any required registrations.
	 * @param registry the registry to initialize
	 */
	void intitialize(BootstrapRegistry registry);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://qiniu.dyl.fit/\u5BB9\u5668\u521D\u59CB\u5316\u5668.png" alt="\u5BB9\u5668\u521D\u59CB\u5316\u5668"></p><p><img src="https://qiniu.dyl.fit/springapplicationRunListener.png" alt="img"></p><p><img src="https://qiniu.dyl.fit/\u76D1\u542C\u5668.png" alt="\u76D1\u542C\u5668"></p><div class="language-Java ext-Java line-numbers-mode"><pre class="language-Java"><code>@FunctionalInterface
public interface ApplicationRunner {
	/**
	 * Callback used to run the bean.
	 * @param args incoming application arguments
	 * @throws Exception on error
	 */
	void run(ApplicationArguments args) throws Exception;
}

@FunctionalInterface
public interface CommandLineRunner {
	/**
	 * Callback used to run the bean.
	 * @param args incoming main method arguments
	 * @throws Exception on error
	 */
	void run(String... args) throws Exception;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-4-2-application-events-and-listeners" tabindex="-1"><a class="header-anchor" href="#_10-4-2-application-events-and-listeners" aria-hidden="true">#</a> 10.4.2 Application Events and Listeners</h3><p>https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-application-events-and-listeners</p><p><code>ApplicationContextInitializer</code></p><p><code>ApplicationListener</code></p><p><code>SpringApplicationRunListener</code></p><h3 id="_10-4-3-applicationrunner-\u4E0E-commandlinerunner" tabindex="-1"><a class="header-anchor" href="#_10-4-3-applicationrunner-\u4E0E-commandlinerunner" aria-hidden="true">#</a> 10.4.3 <code>ApplicationRunner</code> \u4E0E <code>CommandLineRunner</code></h3>`,14);function Gt(zt,Yt){const a=i("ExternalLinkIcon");return p(),l("div",null,[n("blockquote",null,[n("p",null,[n("a",r,[u,t(a)])])]),d,n("p",null,[n("a",k,[v,t(a)]),g,n("a",m,[b,t(a)]),h]),n("blockquote",null,[n("p",null,[q,n("a",f,[_,t(a)])])]),y,n("p",null,[x,n("a",C,[S,t(a)]),w]),n("ul",null,[n("li",null,[n("a",M,[F,t(a)]),A]),n("li",null,[n("a",R,[P,t(a)]),j]),n("li",null,[n("a",E,[T,t(a)]),J])]),I,n("blockquote",null,[n("p",null,[H,n("a",L,[B,t(a)]),W])]),D,n("p",null,[V,n("a",O,[U,t(a)]),N]),G,n("table",null,[z,n("tbody",null,[n("tr",null,[n("td",null,[n("a",Y,[$,t(a)])]),X]),n("tr",null,[n("td",null,[n("a",Q,[K,t(a)])]),Z]),nn,sn,n("tr",null,[n("td",null,[n("a",an,[tn,t(a)])]),en]),on,pn,ln,cn,rn,un,n("tr",null,[n("td",null,[n("a",dn,[kn,t(a)])]),vn])])]),gn,n("p",null,[mn,n("a",bn,[hn,t(a)]),qn]),fn,n("ul",null,[n("li",null,[_n,n("ul",null,[n("li",null,[n("a",yn,[xn,t(a)]),Cn])])]),Sn,n("li",null,[wn,n("ul",null,[n("li",null,[Mn,n("ul",null,[n("li",null,[n("a",Fn,[An,t(a)]),Rn]),Pn])])])]),jn]),En,n("blockquote",null,[n("p",null,[n("a",Tn,[Jn,t(a)])])]),In,n("blockquote",null,[n("p",null,[n("a",Hn,[Ln,t(a)])])]),Bn,n("p",null,[Wn,Dn,n("a",Vn,[On,t(a)]),Un]),Nn,Gn,n("ul",null,[n("li",null,[n("a",zn,[Yn,t(a)]),$n,Xn,Qn,Kn,Zn]),n("li",null,[ns,n("a",ss,[as,t(a)]),ts,es,os,ps,ls,is,cs,rs,us]),n("li",null,[n("a",ds,[ks,t(a)]),vs])]),gs,n("p",null,[ms,n("a",bs,[hs,t(a)])]),qs,n("p",null,[fs,n("a",_s,[ys,t(a)])]),xs,n("p",null,[n("a",Cs,[Ss,t(a)])]),ws,n("p",null,[n("a",Ms,[Fs,t(a)])]),As,n("p",null,[n("a",Rs,[Ps,t(a)])]),js,n("p",null,[Es,n("a",Ts,[Js,t(a)])]),Is,n("p",null,[n("a",Hs,[Ls,t(a)]),Bs,Ws,Ds,n("a",Vs,[Os,t(a)]),Us,Ns,Gs]),zs,n("p",null,[Ys,$s,Xs,Qs,Ks,Zs,n("a",na,[sa,t(a)]),aa,n("a",ta,[ea,t(a)]),oa,n("a",pa,[la,t(a)]),ia,n("a",ca,[ra,t(a)]),ua,n("a",da,[ka,t(a)]),va,n("a",ga,[ma,t(a)]),ba,n("a",ha,[qa,t(a)]),fa,n("a",_a,[ya,t(a)]),xa,n("a",Ca,[Sa,t(a)]),wa,n("a",Ma,[Fa,t(a)]),Aa,n("a",Ra,[Pa,t(a)]),ja,n("a",Ea,[Ta,t(a)]),Ja,n("a",Ia,[Ha,t(a)]),La,n("a",Ba,[Wa,t(a)]),Da,n("a",Va,[Oa,t(a)]),Ua,Na,Ga]),za,n("p",null,[n("a",Ya,[$a,t(a)]),Xa]),Qa,n("ul",null,[Ka,n("li",null,[n("p",null,[n("a",Za,[nt,t(a)]),st])])]),at,n("ol",null,[tt,n("li",null,[et,ot,pt,lt,n("a",it,[ct,t(a)]),rt]),ut,n("li",null,[n("a",dt,[kt,t(a)]),vt,gt,mt])]),bt,n("ol",null,[n("li",null,[n("a",ht,[qt,t(a)]),ft,_t,yt]),n("li",null,[n("a",xt,[Ct,t(a)]),St,wt,Mt]),n("li",null,[n("a",Ft,[At,t(a)]),Rt,Pt,jt]),n("li",null,[n("a",Et,[Tt,t(a)]),Jt,It,Ht])]),Lt,n("p",null,[Bt,n("a",Wt,[Dt,t(a)]),Vt,Ot,Ut]),Nt])}var Qt=o(c,[["render",Gt],["__file","SpringBoot 2 \u96F7\u795E\u89C6\u9891\u603B\u7ED3.html.vue"]]);export{Qt as default};
